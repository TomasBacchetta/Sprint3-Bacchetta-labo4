"use strict";(self.webpackChunkSprint3=self.webpackChunkSprint3||[]).push([[179],{7128:(Mt,ke,P)=>{P.d(ke,{nm:()=>de});var p=P(880),ge=(P(4650),P(3692),P(5867),P(5861)),pe=P(9681),me=P(4859),we=P(2090),Ee=P(1877);const ne=new Map,re={activated:!1,tokenObservers:[]},he={initialized:!1,enabled:!1};function Ue(Oe){return ne.get(Oe)||re}function Ne(Oe,Te){ne.set(Oe,Te)}function Be(){return he}class Le{constructor(Te,Ve,nt,yt,xt){if(this.operation=Te,this.retryPolicy=Ve,this.getWaitDuration=nt,this.lowerBound=yt,this.upperBound=xt,this.pending=null,this.nextErrorWaitInterval=yt,yt>xt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Te){var Ve=this;return(0,ge.Z)(function*(){Ve.stop();try{Ve.pending=new we.BH,yield function ce(Oe){return new Promise(Te=>{setTimeout(Te,Oe)})}(Ve.getNextRun(Te)),Ve.pending.resolve(),yield Ve.pending.promise,Ve.pending=new we.BH,yield Ve.operation(),Ve.pending.resolve(),yield Ve.pending.promise,Ve.process(!0).catch(()=>{})}catch(nt){Ve.retryPolicy(nt)?Ve.process(!1).catch(()=>{}):Ve.stop()}})()}getNextRun(Te){if(Te)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ve=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ve}}}const je=new we.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ze(Oe){if(!Ue(Oe).activated)throw je.create("use-before-activation",{appName:Oe.name})}function Se(Oe,Te){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,ge.Z)(function*({url:Oe,body:Te},Ve){var nt,yt;const xt={"Content-Type":"application/json"},bn=Ve.getImmediate({optional:!0});if(bn){const wi=yield bn.getHeartbeatsHeader();wi&&(xt["X-Firebase-Client"]=wi)}const Dr={method:"POST",body:JSON.stringify(Te),headers:xt};let zn,er;try{zn=yield fetch(Oe,Dr)}catch(wi){throw je.create("fetch-network-error",{originalErrorMessage:null===(nt=wi)||void 0===nt?void 0:nt.message})}if(200!==zn.status)throw je.create("fetch-status-error",{httpStatus:zn.status});try{er=yield zn.json()}catch(wi){throw je.create("fetch-parse-error",{originalErrorMessage:null===(yt=wi)||void 0===yt?void 0:yt.message})}const li=er.ttl.match(/^([\d.]+)(s)$/);if(!li||!li[2]||isNaN(Number(li[1])))throw je.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${er.ttl}`});const Ui=1e3*Number(li[1]),Or=Date.now();return{token:er.token,expireTimeMillis:Or+Ui,issuedAtTimeMillis:Or}})).apply(this,arguments)}function Pt(Oe,Te){const{projectId:Ve,appId:nt,apiKey:yt}=Oe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ve}/apps/${nt}:exchangeDebugToken?key=${yt}`,body:{debug_token:Te}}}const tt="firebase-app-check-store";let In=null;function Rn(){return In||(In=new Promise((Oe,Te)=>{var Ve;try{const nt=indexedDB.open("firebase-app-check-database",1);nt.onsuccess=yt=>{Oe(yt.target.result)},nt.onerror=yt=>{var xt;Te(je.create("storage-open",{originalErrorMessage:null===(xt=yt.target.error)||void 0===xt?void 0:xt.message}))},nt.onupgradeneeded=yt=>{0===yt.oldVersion&&yt.target.result.createObjectStore(tt,{keyPath:"compositeKey"})}}catch(nt){Te(je.create("storage-open",{originalErrorMessage:null===(Ve=nt)||void 0===Ve?void 0:Ve.message}))}}),In)}function sr(){return(sr=(0,ge.Z)(function*(Oe,Te){const nt=(yield Rn()).transaction(tt,"readwrite"),xt=nt.objectStore(tt).put({compositeKey:Oe,value:Te});return new Promise((bn,Dr)=>{xt.onsuccess=zn=>{bn()},nt.onerror=zn=>{var er;Dr(je.create("storage-set",{originalErrorMessage:null===(er=zn.target.error)||void 0===er?void 0:er.message}))}})})).apply(this,arguments)}const Ft=new Ee.Yd("@firebase/app-check");function ir(Oe,Te){return(0,we.hl)()?function fr(Oe,Te){return function Br(Oe,Te){return sr.apply(this,arguments)}(function mr(Oe){return`${Oe.options.appId}-${Oe.name}`}(Oe),Te)}(Oe,Te).catch(Ve=>{Ft.warn(`Failed to write token to IndexedDB. Error: ${Ve}`)}):Promise.resolve()}function Mn(){return Be().enabled}function Vn(){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,ge.Z)(function*(){const Oe=Be();if(Oe.enabled&&Oe.token)return Oe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const or={error:"UNKNOWN_ERROR"};function Cn(Oe){return we.US.encodeString(JSON.stringify(Oe),!1)}function ln(Oe){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,ge.Z)(function*(Oe,Te=!1){const Ve=Oe.app;Ze(Ve);const nt=Ue(Ve);let xt,yt=nt.token;if(!yt){const zn=yield nt.cachedTokenPromise;zn&&Qt(zn)&&(yt=zn)}if(!Te&&yt&&Qt(yt))return{token:yt.token};let Dr,bn=!1;if(Mn()){nt.exchangeTokenPromise||(nt.exchangeTokenPromise=Se(Pt(Ve,yield Vn()),Oe.heartbeatServiceProvider).then(er=>(nt.exchangeTokenPromise=void 0,er)),bn=!0);const zn=yield nt.exchangeTokenPromise;return yield ir(Ve,zn),Ne(Ve,Object.assign(Object.assign({},nt),{token:zn})),{token:zn.token}}try{nt.exchangeTokenPromise||(nt.exchangeTokenPromise=nt.provider.getToken().then(zn=>(nt.exchangeTokenPromise=void 0,zn)),bn=!0),yt=yield nt.exchangeTokenPromise}catch(zn){"appCheck/throttled"===zn.code?Ft.warn(zn.message):Ft.error(zn),xt=zn}return yt?(Dr={token:yt.token},Ne(Ve,Object.assign(Object.assign({},nt),{token:yt})),yield ir(Ve,yt)):Dr=jr(xt),bn&&_r(Ve,Dr),Dr})).apply(this,arguments)}function yn(Oe,Te){const Ve=Ue(Oe),nt=Ve.tokenObservers.filter(yt=>yt.next!==Te);0===nt.length&&Ve.tokenRefresher&&Ve.tokenRefresher.isRunning()&&Ve.tokenRefresher.stop(),Ne(Oe,Object.assign(Object.assign({},Ve),{tokenObservers:nt}))}function xn(Oe){const{app:Te}=Oe,Ve=Ue(Te);let nt=Ve.tokenRefresher;nt||(nt=function Jn(Oe){const{app:Te}=Oe;return new Le((0,ge.Z)(function*(){let nt;if(nt=Ue(Te).token?yield ln(Oe,!0):yield ln(Oe),nt.error)throw nt.error}),()=>!0,()=>{const Ve=Ue(Te);if(Ve.token){let nt=Ve.token.issuedAtTimeMillis+.5*(Ve.token.expireTimeMillis-Ve.token.issuedAtTimeMillis)+3e5;return nt=Math.min(nt,Ve.token.expireTimeMillis-3e5),Math.max(0,nt-Date.now())}return 0},3e4,96e4)}(Oe),Ne(Te,Object.assign(Object.assign({},Ve),{tokenRefresher:nt}))),!nt.isRunning()&&Ve.isTokenAutoRefreshEnabled&&nt.start()}function _r(Oe,Te){const Ve=Ue(Oe).tokenObservers;for(const nt of Ve)try{"EXTERNAL"===nt.type&&null!=Te.error?nt.error(Te.error):nt.next(Te)}catch{}}function Qt(Oe){return Oe.expireTimeMillis-Date.now()>0}function jr(Oe){return{token:Cn(or),error:Oe}}class An{constructor(Te,Ve){this.app=Te,this.heartbeatServiceProvider=Ve}_delete(){const{tokenObservers:Te}=Ue(this.app);for(const Ve of Te)yn(this.app,Ve.next);return Promise.resolve()}}const vn="app-check-internal";!function dt(){(0,pe._registerComponent)(new me.wA("app-check",Oe=>function Ar(Oe,Te){return new An(Oe,Te)}(Oe.getProvider("app").getImmediate(),Oe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Oe,Te,Ve)=>{Oe.getProvider(vn).initialize()})),(0,pe._registerComponent)(new me.wA(vn,Oe=>function Pn(Oe){return{getToken:Te=>ln(Oe,Te),addTokenListener:Te=>function $t(Oe,Te,Ve,nt){const{app:yt}=Oe,xt=Ue(yt),bn={next:Ve,error:nt,type:Te};if(Ne(yt,Object.assign(Object.assign({},xt),{tokenObservers:[...xt.tokenObservers,bn]})),xt.token&&Qt(xt.token)){const Dr=xt.token;Promise.resolve().then(()=>{Ve({token:Dr.token}),xn(Oe)}).catch(()=>{})}xt.cachedTokenPromise.then(()=>xn(Oe))}(Oe,"INTERNAL",Te),removeTokenListener:Te=>yn(Oe.app,Te)}}(Oe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)("@firebase/app-check","0.5.12")}();class de{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},3692:(Mt,ke,P)=>{P.d(ke,{Ot:()=>S}),P(5867),P(4650);class S{constructor(ve){return ve}}},3385:(Mt,ke,P)=>{P.d(ke,{zQ:()=>be,rT:()=>je,f7:()=>Ze,L6:()=>ce,_Q:()=>Me,lh:()=>Z,Qv:()=>Le,nw:()=>_e});var p=P(4650),U=P(7579),S=P(9646),ae=P(9751),ge=P(8996),pe=P(6451),me=P(5363),we=P(3900),Ee=P(4004),ne=P(3151),re=P(590),he=P(576);function Ue(Ce,ut){return(0,he.m)(ut)?(0,we.w)(()=>Ce,ut):(0,we.w)(()=>Ce)}var Ne=P(9468),Be=P(9300),wt=P(880),X=P(2011),Fe=P(6895),Nt=P(7128);P(127);const Le=new p.OlP("angularfire2.auth.use-emulator"),ce=new p.OlP("angularfire2.auth.settings"),Me=new p.OlP("angularfire2.auth.tenant-id"),je=new p.OlP("angularfire2.auth.langugage-code"),Z=new p.OlP("angularfire2.auth.use-device-language"),Ze=new p.OlP("angularfire.auth.persistence"),_e=(Ce,ut,lt,Pt,kt,Ht,tt,Gt)=>(0,X.cc)(`${Ce.name}.auth`,"AngularFireAuth",Ce.name,()=>{const In=ut.runOutsideAngular(()=>Ce.auth());if(lt&&In.useEmulator(...lt),Pt&&(In.tenantId=Pt),In.languageCode=kt,Ht&&In.useDeviceLanguage(),tt)for(const[Rn,Dn]of Object.entries(tt))In.settings[Rn]=Dn;return Gt&&In.setPersistence(Gt),In},[lt,Pt,kt,Ht,tt,Gt]);let be=(()=>{class Ce{constructor(lt,Pt,kt,Ht,tt,Gt,In,Rn,Dn,fr,qt,Xt){const Br=new U.x,sr=(0,S.of)(void 0).pipe((0,me.Q)(tt.outsideAngular),(0,we.w)(()=>Ht.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,2476)))),(0,Ee.U)(()=>(0,X.on)(lt,Ht,Pt)),(0,Ee.U)(Qn=>_e(Qn,Ht,Gt,Rn,Dn,fr,In,qt)),(0,ne.d)({bufferSize:1,refCount:!1}));if((0,Fe.PM)(kt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,S.of)(null);else{sr.pipe((0,re.P)()).subscribe();const Ln=sr.pipe((0,we.w)(wn=>wn.getRedirectResult().then($n=>$n,()=>null)),wt.iC,(0,ne.d)({bufferSize:1,refCount:!1})),mr=sr.pipe((0,we.w)(wn=>new ae.y($n=>({unsubscribe:Ht.runOutsideAngular(()=>wn.onAuthStateChanged(ir=>$n.next(ir),ir=>$n.error(ir),()=>$n.complete()))})))),Ft=sr.pipe((0,we.w)(wn=>new ae.y($n=>({unsubscribe:Ht.runOutsideAngular(()=>wn.onIdTokenChanged(ir=>$n.next(ir),ir=>$n.error(ir),()=>$n.complete()))}))));this.authState=Ln.pipe(Ue(mr),(0,Ne.R)(tt.outsideAngular),(0,me.Q)(tt.insideAngular)),this.user=Ln.pipe(Ue(Ft),(0,Ne.R)(tt.outsideAngular),(0,me.Q)(tt.insideAngular)),this.idToken=this.user.pipe((0,we.w)(wn=>wn?(0,ge.D)(wn.getIdToken()):(0,S.of)(null))),this.idTokenResult=this.user.pipe((0,we.w)(wn=>wn?(0,ge.D)(wn.getIdTokenResult()):(0,S.of)(null))),this.credential=(0,pe.T)(Ln,Br,this.authState.pipe((0,Be.h)(wn=>!wn))).pipe((0,Ee.U)(wn=>wn?.user?wn:null),(0,Ne.R)(tt.outsideAngular),(0,me.Q)(tt.insideAngular))}return(0,X.pX)(this,sr,Ht,{spy:{apply:(Qn,Ln,mr)=>{(Qn.startsWith("signIn")||Qn.startsWith("createUser"))&&mr.then(Ft=>Br.next(Ft))}}})}}return Ce.\u0275fac=function(lt){return new(lt||Ce)(p.LFG(X.Dh),p.LFG(X.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(wt.HU),p.LFG(Le,8),p.LFG(ce,8),p.LFG(Me,8),p.LFG(je,8),p.LFG(Z,8),p.LFG(Ze,8),p.LFG(Nt.nm,8))},Ce.\u0275prov=p.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"any"}),Ce})()},1995:(Mt,ke,P)=>{P.d(ke,{ST:()=>by,yb:()=>Jv});var Me,p=P(4650),U=P(4986),S=P(9751),ae=P(8996),ge=P(9646),pe=P(880),me=P(8675),we=P(1520),Ee=P(4004),ne=P(5026),re=P(1884),he=P(9300),Ue=P(2011),Ne=P(6895),wt=(P(2476),P(3942)),X=P(5861),Fe=P(9681),Nt=P(4859),Et=P(1877),ve=P(2090),Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce={},je=je||{},Z=Le||self;function Ze(){}function _e(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function be(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ce="closure_uid_"+(1e9*Math.random()>>>0),ut=0;function lt(i,e,t){return i.call.apply(i.bind,arguments)}function Pt(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function kt(i,e,t){return(kt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lt:Pt).apply(null,arguments)}function Ht(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function tt(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,u,d){for(var g=Array(arguments.length-2),D=2;D<arguments.length;D++)g[D-2]=arguments[D];return e.prototype[u].apply(o,g)}}function Gt(){this.s=this.s,this.o=this.o}var Rn={};Gt.prototype.s=!1,Gt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Se(i){return Object.prototype.hasOwnProperty.call(i,Ce)&&i[Ce]||(i[Ce]=++ut)}(this);delete Rn[i]}},Gt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Dn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function fr(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function qt(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(_e(o)){const u=i.length||0,d=o.length||0;i.length=u+d;for(let g=0;g<d;g++)i[u+g]=o[g]}else i.push(o)}}function Xt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Xt.prototype.h=function(){this.defaultPrevented=!0};var Br=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Z.addEventListener("test",Ze,e),Z.removeEventListener("test",Ze,e)}catch{}return i}();function sr(i){return/^[\s\xa0]*$/.test(i)}var Qn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Ln(i,e){return i<e?-1:i>e?1:0}function mr(){var i=Z.navigator;return i&&(i=i.userAgent)?i:""}function Ft(i){return-1!=mr().indexOf(i)}function wn(i){return wn[" "](i),i}wn[" "]=Ze;var or,i,ir=Ft("Opera"),bt=Ft("Trident")||Ft("MSIE"),Zn=Ft("Edge"),Mn=Zn||bt,Vn=Ft("Gecko")&&!(-1!=mr().toLowerCase().indexOf("webkit")&&!Ft("Edge"))&&!(Ft("Trident")||Ft("MSIE"))&&!Ft("Edge"),Tr=-1!=mr().toLowerCase().indexOf("webkit")&&!Ft("Edge");function dr(){var i=Z.document;return i?i.documentMode:void 0}e:{var Cn="",ln=(i=mr(),Vn?/rv:([^\);]+)(\)|;)/.exec(i):Zn?/Edge\/([\d\.]+)/.exec(i):bt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Tr?/WebKit\/(\S+)/.exec(i):ir?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ln&&(Cn=ln?ln[1]:""),bt){var Ut=dr();if(null!=Ut&&Ut>parseFloat(Cn)){or=String(Ut);break e}}or=Cn}var $t={};var _r=Z.document&&bt&&(dr()||parseInt(or,10))||void 0;function Qt(i,e){if(Xt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Vn){e:{try{wn(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:jr[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Qt.X.h.call(this)}}tt(Qt,Xt);var jr={2:"touch",3:"pen",4:"mouse"};Qt.prototype.h=function(){Qt.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var An="closure_listenable_"+(1e6*Math.random()|0),Ar=0;function Pn(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++Ar,this.ba=this.ea=!1}function ye(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function ee(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function ie(i){const e={};for(const t in i)e[t]=i[t];return e}const le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let d=0;d<le.length;d++)t=le[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function st(i){this.src=i,this.g={},this.h=0}function _t(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],u=Dn(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(ye(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Lt(i,e,t,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==o)return u}return-1}st.prototype.add=function(i,e,t,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=Lt(i,e,o,u);return-1<g?(e=i[g],t||(e.ea=!1)):((e=new Pn(e,this.src,d,!!o,u)).ea=t,i.push(e)),e};var Nn="closure_lm_"+(1e6*Math.random()|0),mn={};function Pe(i,e,t,o,u){if(o&&o.once)return pt(i,e,t,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Pe(i,e[d],t,o,u);return null}return t=q(t),i&&i[An]?i.N(e,t,be(o)?!!o.capture:!!o,u):Ge(i,e,t,!1,o,u)}function Ge(i,e,t,o,u,d){if(!e)throw Error("Invalid event type");var g=be(u)?!!u.capture:!!u,D=te(i);if(D||(i[Nn]=D=new st(i)),(t=D.add(e,t,o,g,d)).proxy)return t;if(o=function et(){const e=dn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Br||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Zt(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function pt(i,e,t,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)pt(i,e[d],t,o,u);return null}return t=q(t),i&&i[An]?i.O(e,t,be(o)?!!o.capture:!!o,u):Ge(i,e,t,!0,o,u)}function Dt(i,e,t,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)Dt(i,e[d],t,o,u);else o=be(o)?!!o.capture:!!o,t=q(t),i&&i[An]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Lt(d=i.g[e],t,o,u))&&(ye(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=te(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Lt(e,t,o,u)),(t=-1<i?e[i]:null)&&zt(t))}function zt(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[An])_t(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Zt(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=te(e))?(_t(t,i),0==t.h&&(t.src=null,e[Nn]=null)):ye(i)}}}function Zt(i){return i in mn?mn[i]:mn[i]="on"+i}function dn(i,e){if(i.ba)i=!0;else{e=new Qt(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&zt(i),i=t.call(o,e)}return i}function te(i){return(i=i[Nn])instanceof st?i:null}var J="__closure_events_fn_"+(1e9*Math.random()>>>0);function q(i){return"function"==typeof i?i:(i[J]||(i[J]=function(e){return i.handleEvent(e)}),i[J])}function xe(){Gt.call(this),this.i=new st(this),this.P=this,this.I=null}function Ke(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Xt(e,i);else if(e instanceof Xt)e.target=e.target||i;else{var u=e;fe(e=new Xt(o,i),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var g=e.g=t[d];u=St(g,o,!0,e)&&u}if(u=St(g=e.g=i,o,!0,e)&&u,u=St(g,o,!1,e)&&u,t)for(d=0;d<t.length;d++)u=St(g=e.g=t[d],o,!1,e)&&u}function St(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.ba&&g.capture==t){var D=g.listener,N=g.ha||g.src;g.ea&&_t(i.i,g),u=!1!==D.call(N,o)&&u}}return u&&!o.defaultPrevented}tt(xe,Gt),xe.prototype[An]=!0,xe.prototype.removeEventListener=function(i,e,t,o){Dt(this,i,e,t,o)},xe.prototype.M=function(){if(xe.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)ye(t[o]);delete i.g[e],i.h--}}this.I=null},xe.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},xe.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var hn=Z.JSON.stringify;function vn(){var i=pn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var rt,en=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new ct,i=>i.reset());class ct{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function de(i){Z.setTimeout(()=>{throw i},0)}function Re(i,e){rt||function Tt(){var i=Z.Promise.resolve(void 0);rt=function(){i.then(qn)}}(),Bt||(rt(),Bt=!0),pn.add(i,e)}var Bt=!1,pn=new class dt{constructor(){this.h=this.g=null}add(e,t){const o=en.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function qn(){for(var i;i=vn();){try{i.h.call(i.g)}catch(t){de(t)}var e=en;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Bt=!1}function En(i,e){xe.call(this),this.h=i||1,this.g=e||Z,this.j=kt(this.kb,this),this.l=Date.now()}function pr(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function On(i,e,t){if("function"==typeof i)t&&(i=kt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=kt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Z.setTimeout(i,e||0)}function cn(i){i.g=On(()=>{i.g=null,i.i&&(i.i=!1,cn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}tt(En,xe),(Me=En.prototype).ca=!1,Me.R=null,Me.kb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ke(this,"tick"),this.ca&&(pr(this),this.start()))}},Me.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Me.M=function(){En.X.M.call(this),pr(this),delete this.g};class xr extends Gt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cn(this)}M(){super.M(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(i){Gt.call(this),this.h=i,this.g={}}tt(ar,Gt);var Xn=[];function ci(i,e,t,o){Array.isArray(t)||(t&&(Xn[0]=t.toString()),t=Xn);for(var u=0;u<t.length;u++){var d=Pe(e,t[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Hr(i){ee(i.g,function(e,t){this.g.hasOwnProperty(t)&&zt(e)},i),i.g={}}function Oe(){this.g=!0}function nt(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xt(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<u.length;g++)u[g]=""}}}return hn(t)}catch{return e}}(i,t)+(o?" "+o:"")})}ar.prototype.M=function(){ar.X.M.call(this),Hr(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Oe.prototype.Aa=function(){this.g=!1},Oe.prototype.info=function(){};var bn={},Dr=null;function zn(){return Dr=Dr||new xe}function er(i){Xt.call(this,bn.Oa,i)}function li(i){const e=zn();Ke(e,new er(e,i))}function Ui(i,e){Xt.call(this,bn.STAT_EVENT,i),this.stat=e}function Or(i){const e=zn();Ke(e,new Ui(e,i))}function wi(i,e){Xt.call(this,bn.Pa,i),this.size=e}function ps(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){i()},e)}bn.Oa="serverreachability",tt(er,Xt),bn.STAT_EVENT="statevent",tt(Ui,Xt),bn.Pa="timingevent",tt(wi,Xt);var Pr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},qs={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Do(){}function Fs(){}Do.prototype.h=null;var Ho,gs={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function Ys(){Xt.call(this,"d")}function Ls(){Xt.call(this,"c")}function Qs(){}function ss(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new ar(this),this.O=uo,this.T=new En(i=Mn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ua}function ua(){this.i=null,this.g="",this.h=!1}tt(Ys,Xt),tt(Ls,Xt),tt(Qs,Do),Qs.prototype.g=function(){return new XMLHttpRequest},Qs.prototype.i=function(){return{}},Ho=new Qs;var uo=45e3,Ci={},Xi={};function Oi(i,e,t){i.K=1,i.v=Gi(Nr(e)),i.s=t,i.P=!0,Bi(i,null)}function Bi(i,e){i.F=Date.now(),Zr(i),i.A=Nr(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),G(t.i,"t",o),i.C=0,t=i.l.H,i.h=new ua,i.g=us(i.l,t?e:null,!i.s),0<i.N&&(i.L=new xr(kt(i.Ka,i,i.g),i.N)),ci(i.S,i.g,"readystatechange",i.hb),e=i.H?ie(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),li(1),function Te(i,e,t,o,u,d){i.info(function(){if(i.g)if(d)for(var g="",D=d.split("&"),N=0;N<D.length;N++){var V=D[N].split("=");if(1<V.length){var W=V[0];V=V[1];var ue=W.split("_");g=2<=ue.length&&"type"==ue[1]?g+(W+"=")+V+"&":g+(W+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+g})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Co(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function bi(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=ji(i,t),u==Xi){4==e&&(i.o=4,Or(14),o=!1),nt(i.j,i.m,null,"[Incomplete Response]");break}if(u==Ci){i.o=4,Or(15),nt(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}nt(i.j,i.m,u,null),ys(i,u)}Co(i)&&u!=Xi&&u!=Ci&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Or(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),ur(e),e.K=!0,Or(11))):(nt(i.j,i.m,t,"[Invalid Chunked Response]"),Pi(i),mi(i))}function ji(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Xi:(t=Number(e.substring(t,o)),isNaN(t)?Ci:(o+=1)+t>e.length?Xi:(e=e.substr(o,t),i.C=o+t,e))}function Zr(i){i.V=Date.now()+i.O,Ri(i,i.O)}function Ri(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ps(kt(i.fb,i),e)}function ms(i){i.B&&(Z.clearTimeout(i.B),i.B=null)}function mi(i){0==i.l.G||i.I||Yn(i.l,i)}function Pi(i){ms(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,pr(i.T),Hr(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function ys(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Fr(t.h,i)))if(!i.J&&Fr(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;gr(t),Ao(t)}Jt(t),Or(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=ps(kt(t.bb,t),6e3));if(1>=Bn(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else cr(t,11)}else if((i.J||t.g==i)&&gr(t),!sr(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let V=u[e];if(t.T=V[0],V=V[1],2==t.G)if("c"==V[0]){t.I=V[1],t.ka=V[2];const W=V[3];null!=W&&(t.ma=W,t.j.info("VER="+t.ma));const ue=V[4];null!=ue&&(t.Ca=ue,t.j.info("SVER="+t.Ca));const He=V[5];null!=He&&"number"==typeof He&&0<He&&(t.J=o=1.5*He,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const at=i.g;if(at){const ft=at.g?at.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ft){var d=o.h;d.g||-1==ft.indexOf("spdy")&&-1==ft.indexOf("quic")&&-1==ft.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(ot(d,d.h),d.h=null))}if(o.D){const Wt=at.g?at.g.getResponseHeader("X-HTTP-Session-Id"):null;Wt&&(o.za=Wt,hr(o.F,o.D,Wt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var g=i;if((o=t).sa=Is(o,o.H?o.ka:null,o.V),g.J){un(o.h,g);var D=g,N=o.J;N&&D.setTimeout(N),D.B&&(ms(D),Zr(D)),o.g=g}else it(o);0<t.i.length&&L(t)}else"stop"!=V[0]&&"close"!=V[0]||cr(t,7);else 3==t.G&&("stop"==V[0]||"close"==V[0]?"stop"==V[0]?cr(t,7):la(t):"noop"!=V[0]&&t.l&&t.l.wa(V),t.A=0)}li(4)}catch{}}function Hi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(_e(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function os(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(_e(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function $i(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(_e(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,d=0;d<u;d++)e.call(void 0,o[d],t&&t[d],i)}(Me=ss.prototype).setTimeout=function(i){this.O=i},Me.hb=function(i){i=i.target;const e=this.L;e&&3==$s(i)?e.l():this.Ka(i)},Me.Ka=function(i){try{if(i==this.g)e:{const W=$s(this.g);var e=this.g.Ea();const ue=this.g.aa();if(!(3>W)&&(3!=W||Mn||this.g&&(this.h.h||this.g.fa()||bo(this.g)))){this.I||4!=W||7==e||li(8==e||0>=ue?3:2),ms(this);var t=this.g.aa();this.Y=t;t:if(Co(this)){var o=bo(this.g);i="";var u=o.length,d=4==$s(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),mi(this);var g="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.fa();if(this.i=200==t,function Ve(i,e,t,o,u,d,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.U,W,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var D,N=this.g;if((D=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sr(D)){var V=D;break t}}V=null}if(!(t=V)){this.i=!1,this.o=3,Or(12),Pi(this),mi(this);break e}nt(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ys(this,t)}this.P?(bi(this,W,g),Mn&&this.i&&3==W&&(ci(this.S,this.T,"tick",this.gb),this.T.start())):(nt(this.j,this.m,g,null),ys(this,g)),4==W&&Pi(this),this.i&&!this.I&&(4==W?Yn(this.l,this):(this.i=!1,Zr(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,Or(12)):(this.o=0,Or(13)),Pi(this),mi(this)}}}catch{}},Me.gb=function(){if(this.g){var i=$s(this.g),e=this.g.fa();this.C<e.length&&(ms(this),bi(this,i,e),this.i&&4!=i&&Zr(this))}},Me.cancel=function(){this.I=!0,Pi(this)},Me.fb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function yt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(li(3),Or(17)),Pi(this),this.o=2,mi(this)):Ri(this,this.V-i)};var ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ni(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ni){this.h=void 0!==e?e:i.h,As(this,i.j),this.s=i.s,this.g=i.g,co(this,i.m),this.l=i.l,e=i.i;var t=new Ss;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Rr(this,t),this.o=i.o}else i&&(t=String(i).match(ni))?(this.h=!!e,As(this,t[1]||"",!0),this.s=Ai(t[2]||""),this.g=Ai(t[3]||"",!0),co(this,t[4]),this.l=Ai(t[5]||"",!0),Rr(this,t[6]||"",!0),this.o=Ai(t[7]||"")):(this.h=!!e,this.i=new Ss(null,this.h))}function Nr(i){return new Ni(i)}function As(i,e,t){i.j=t?Ai(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function co(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Rr(i,e,t){e instanceof Ss?(i.i=e,function Ie(i,e){e&&!i.j&&(ei(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Us(this,o),G(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=kr(e,Vs)),i.i=new Ss(e,i.h))}function hr(i,e,t){i.i.set(e,t)}function Gi(i){return hr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ai(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function kr(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ki),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ki(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ni.prototype.toString=function(){var i=[],e=this.j;e&&i.push(kr(e,di,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(kr(e,di,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(kr(t,"/"==t.charAt(0)?Wn:as,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",kr(t,vs)),i.join("")};var di=/[#\/\?@]/g,as=/[#\?:]/g,Wn=/[#\?]/g,Vs=/[#\?@]/g,vs=/#/g;function Ss(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ei(i){i.g||(i.g=new Map,i.h=0,i.i&&function Ti(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var d=i[t].substring(0,o);u=i[t].substring(o+1)}else d=i[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Us(i,e){ei(i),e=K(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Bs(i,e){return ei(i),e=K(i,e),i.g.has(e)}function G(i,e,t){Us(i,e),0<t.length&&(i.i=null,i.g.set(K(i,e),fr(t)),i.h+=t.length)}function K(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function gt(i){this.l=i||Ct,i=Z.PerformanceNavigationTiming?0<(i=Z.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Z.g&&Z.g.Ga&&Z.g.Ga()&&Z.g.Ga().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Me=Ss.prototype).add=function(i,e){ei(this),this.i=null,i=K(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Me.forEach=function(i,e){ei(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},Me.oa=function(){ei(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let d=0;d<u.length;d++)t.push(e[o])}return t},Me.W=function(i){ei(this);let e=[];if("string"==typeof i)Bs(this,i)&&(e=e.concat(this.g.get(K(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Me.set=function(i,e){return ei(this),this.i=null,Bs(this,i=K(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Me.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},Me.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const d=encodeURIComponent(String(o)),g=this.W(o);for(o=0;o<g.length;o++){var u=d;""!==g[o]&&(u+="="+encodeURIComponent(String(g[o]))),i.push(u)}}return this.i=i.join("&")};var Ct=10;function Yt(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Bn(i){return i.h?1:i.g?i.g.size:0}function Fr(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ot(i,e){i.g?i.g.add(e):i.h=e}function un(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function _n(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return fr(i.i)}function zi(){}function Sr(){this.g=new zi}function es(i,e,t){const o=t||"";try{Hi(i,function(u,d){let g=u;be(u)&&(g=hn(u)),e.push(o+d+"="+encodeURIComponent(g))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function ti(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function _s(i){this.l=i.$b||null,this.j=i.ib||!1}function Fi(i,e){xe.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Si,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt.prototype.cancel=function(){if(this.i=_n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},zi.prototype.stringify=function(i){return Z.JSON.stringify(i,void 0)},zi.prototype.parse=function(i){return Z.JSON.parse(i,void 0)},tt(_s,Do),_s.prototype.g=function(){return new Fi(this.l,this.j)},_s.prototype.i=function(i){return function(){return i}}({}),tt(Fi,xe);var Si=0;function Es(i){i.j.read().then(i.Sa.bind(i)).catch(i.ga.bind(i))}function R(i){i.readyState=4,i.l=null,i.j=null,i.A=null,x(i)}function x(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Me=Fi.prototype).open=function(i,e){if(this.readyState!=Si)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,x(this)},Me.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Z).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},Me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,R(this)),this.readyState=Si},Me.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,x(this)),this.g&&(this.readyState=3,x(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Es(this)}else i.text().then(this.Ua.bind(this),this.ga.bind(this))},Me.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?R(this):x(this),3==this.readyState&&Es(this)}},Me.Ua=function(i){this.g&&(this.response=this.responseText=i,R(this))},Me.Ta=function(i){this.g&&(this.response=i,R(this))},Me.ga=function(){this.g&&R(this)},Me.setRequestHeader=function(i,e){this.v.append(i,e)},Me.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Me.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var A=Z.JSON.parse;function j(i){xe.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Je,this.K=this.L=!1}tt(j,xe);var Je="",rn=/^https?$/i,Er=["POST","PUT"];function Li(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ts(i),js(i)}function ts(i){i.D||(i.D=!0,Ke(i,"complete"),Ke(i,"error"))}function Js(i){if(i.h&&typeof je<"u"&&(!i.C[1]||4!=$s(i)||2!=i.aa()))if(i.v&&4==$s(i))On(i.Ha,0,i);else if(Ke(i,"readystatechange"),4==$s(i)){i.h=!1;try{const D=i.aa();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===D){var u=String(i.H).match(ni)[1]||null;if(!u&&Z.self&&Z.self.location){var d=Z.self.location.protocol;u=d.substr(0,d.length-1)}o=!rn.test(u?u.toLowerCase():"")}t=o}if(t)Ke(i,"complete"),Ke(i,"success");else{i.m=6;try{var g=2<$s(i)?i.g.statusText:""}catch{g=""}i.j=g+" ["+i.aa()+"]",ts(i)}}finally{js(i)}}}function js(i,e){if(i.g){Xs(i);const t=i.g,o=i.C[0]?Ze:null;i.g=null,i.C=null,e||Ke(i,"ready");try{t.onreadystatechange=o}catch{}}}function Xs(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Z.clearTimeout(i.A),i.A=null)}function $s(i){return i.g?i.g.readyState:0}function bo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Je:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function cu(i){let e="";return ee(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function Go(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=cu(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):hr(i,e,t))}function To(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function ca(i){this.Ca=0,this.i=[],this.j=new Oe,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=To("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=To("baseRetryDelayMs",5e3,i),this.ab=To("retryDelaySeedMs",1e4,i),this.Za=To("forwardChannelMaxRetries",2,i),this.ta=To("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Yb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new gt(i&&i.concurrentRequestLimit),this.Fa=new Sr,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=i&&i.Wb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function la(i){if(b(i),3==i.G){var e=i.U++,t=Nr(i.F);hr(t,"SID",i.I),hr(t,"RID",e),hr(t,"TYPE","terminate"),oe(i,t),(e=new ss(i,i.j,e,void 0)).K=2,e.v=Gi(Nr(t)),t=!1,Z.navigator&&Z.navigator.sendBeacon&&(t=Z.navigator.sendBeacon(e.v.toString(),"")),!t&&Z.Image&&((new Image).src=e.v,t=!0),t||(e.g=us(e.l,null),e.g.da(e.v)),e.F=Date.now(),Zr(e)}$r(i)}function Ao(i){i.g&&(ur(i),i.g.cancel(),i.g=null)}function b(i){Ao(i),i.u&&(Z.clearTimeout(i.u),i.u=null),gr(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Z.clearTimeout(i.m),i.m=null)}function L(i){Yt(i.h)||i.m||(i.m=!0,Re(i.Ja,i),i.C=0)}function $(i,e){var t;t=e?e.m:i.U++;const o=Nr(i.F);hr(o,"SID",i.I),hr(o,"RID",t),hr(o,"AID",i.T),oe(i,o),i.o&&i.s&&Go(o,i.o,i.s),t=new ss(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=We(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),ot(i.h,t),Oi(t,o,e)}function oe(i,e){i.ia&&ee(i.ia,function(t,o){hr(e,o,t)}),i.l&&Hi({},function(t,o){hr(e,o,t)})}function We(i,e,t){t=Math.min(i.i.length,t);var o=i.l?kt(i.l.Qa,i.l,i):null;e:{var u=i.i;let d=-1;for(;;){const g=["count="+t];-1==d?0<t?(d=u[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let D=!0;for(let N=0;N<t;N++){let V=u[N].h;const W=u[N].g;if(V-=d,0>V)d=Math.max(0,u[N].h-100),D=!1;else try{es(W,g,"req"+V+"_")}catch{o&&o(W)}}if(D){o=g.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function it(i){i.g||i.u||(i.Z=1,Re(i.Ia,i),i.A=0)}function Jt(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=ps(kt(i.Ia,i),qr(i,i.A)),i.A++,0))}function ur(i){null!=i.B&&(Z.clearTimeout(i.B),i.B=null)}function yr(i){i.g=new ss(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Nr(i.sa);hr(e,"RID","rpc"),hr(e,"SID",i.I),hr(e,"CI",i.L?"0":"1"),hr(e,"AID",i.T),hr(e,"TYPE","xmlhttp"),oe(i,e),i.o&&i.s&&Go(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Gi(Nr(e)),t.s=null,t.P=!0,Bi(t,i)}function gr(i){null!=i.v&&(Z.clearTimeout(i.v),i.v=null)}function Yn(i,e){var t=null;if(i.g==e){gr(i),ur(i),i.g=null;var o=2}else{if(!Fr(i.h,e))return;t=e.D,un(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Ke(o=zn(),new wi(o,t,e,u)),L(i)}else it(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function M(i,e){return!(Bn(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Ya?0:i.Za)||(i.m=ps(kt(i.Ja,i,e),qr(i,i.C)),i.C++,0)))}(i,e)||2==o&&Jt(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:cr(i,5);break;case 4:cr(i,10);break;case 3:cr(i,6);break;default:cr(i,2)}}function qr(i,e){let t=i.Wa+Math.floor(Math.random()*i.ab);return i.l||(t*=2),t*e}function cr(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=kt(i.jb,i);t||(t=new Ni("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||As(t,"https"),Gi(t)),function yi(i,e){const t=new Oe;if(Z.Image){const o=new Image;o.onload=Ht(ti,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Ht(ti,t,o,"TestLoadImage: error",!1,e),o.onabort=Ht(ti,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ht(ti,t,o,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Or(2);i.G=0,i.l&&i.l.va(e),$r(i),b(i)}function $r(i){if(i.G=0,i.la=[],i.l){const e=_n(i.h);(0!=e.length||0!=i.i.length)&&(qt(i.la,e),qt(i.la,i.i),i.h.i.length=0,fr(i.i),i.i.length=0),i.l.ua()}}function Is(i,e,t){var o=t instanceof Ni?Nr(t):new Ni(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),co(o,o.m);else{var u=Z.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new Ni(null,void 0);o&&As(d,o),e&&(d.g=e),u&&co(d,u),t&&(d.l=t),o=d}return e=i.za,(t=i.D)&&e&&hr(o,t,e),hr(o,"VER",i.ma),oe(i,o),o}function us(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new j(t&&i.Da&&!i.ra?new _s({ib:!0}):i.ra)).L=i.H,e}function eo(){}function Ms(){if(bt&&!(10<=Number(_r)))throw Error("Environmental error: no available transport.")}function Yr(i,e){xe.call(this),this.g=new ca(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Xb)&&!sr(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sr(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new So(this)}function xs(i){Ys.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function cs(){Ls.call(this),this.status=1}function So(i){this.g=i}(Me=j.prototype).da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ho.g(),this.C=function Di(i){return i.h||(i.h=i.i())}(this.u?this.u:Ho),this.g.onreadystatechange=kt(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void Li(this,d)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const d of o.keys())t.set(d,o.get(d))}o=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),u=Z.FormData&&i instanceof Z.FormData,!(0<=Dn(Er,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of t)this.g.setRequestHeader(d,g);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xs(this),0<this.B&&((this.K=function Wi(i){return bt&&function yn(){return function $n(i){var e=$t;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Qn(String(or)).split("."),t=Qn("9").split("."),o=Math.max(e.length,t.length);for(let g=0;0==i&&g<o;g++){var u=e[g]||"",d=t[g]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=Ln(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||Ln(0==u[2].length,0==d[2].length)||Ln(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kt(this.qa,this)):this.A=On(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Li(this,d)}},Me.qa=function(){typeof je<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ke(this,"timeout"),this.abort(8))},Me.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ke(this,"complete"),Ke(this,"abort"),js(this))},Me.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),js(this,!0)),j.X.M.call(this)},Me.Ha=function(){this.s||(this.F||this.v||this.l?Js(this):this.eb())},Me.eb=function(){Js(this)},Me.aa=function(){try{return 2<$s(this)?this.g.status:-1}catch{return-1}},Me.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Me.Ra=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),A(e)}},Me.Ea=function(){return this.m},Me.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(Me=ca.prototype).ma=8,Me.G=1,Me.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new ss(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=ie(d),fe(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=We(this,u,e),hr(t=Nr(this.F),"RID",i),hr(t,"CVER",22),this.D&&hr(t,"X-HTTP-Session-Id",this.D),oe(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(cu(d)))+"&"+e:this.o&&Go(t,this.o,d)),ot(this.h,u),this.Xa&&hr(t,"TYPE","init"),this.O?(hr(t,"$req",e),hr(t,"SID","null"),u.Z=!0,Oi(u,t,null)):Oi(u,t,e),this.G=2}}else 3==this.G&&(i?$(this,i):0==this.i.length||Yt(this.h)||$(this))},Me.Ia=function(){if(this.u=null,yr(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=ps(kt(this.cb,this),i)}},Me.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Or(10),Ao(this),yr(this))},Me.bb=function(){null!=this.v&&(this.v=null,Ao(this),Jt(this),Or(19))},Me.jb=function(i){i?(this.j.info("Successfully pinged google.com"),Or(2)):(this.j.info("Failed to ping google.com"),Or(1))},(Me=eo.prototype).xa=function(){},Me.wa=function(){},Me.va=function(){},Me.ua=function(){},Me.Qa=function(){},Ms.prototype.g=function(i,e){return new Yr(i,e)},tt(Yr,xe),Yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;Or(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Is(i,null,i.V),L(i)},Yr.prototype.close=function(){la(this.g)},Yr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=hn(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.$a++,i)),3==e.G&&L(e)},Yr.prototype.M=function(){this.g.l=null,delete this.j,la(this.g),delete this.g,Yr.X.M.call(this)},tt(xs,Ys),tt(cs,Ls),tt(So,eo),So.prototype.xa=function(){Ke(this.g,"a")},So.prototype.wa=function(i){Ke(this.g,new xs(i))},So.prototype.va=function(i){Ke(this.g,new cs(i))},So.prototype.ua=function(){Ke(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,Yr.prototype.send=Yr.prototype.u,Yr.prototype.open=Yr.prototype.m,Yr.prototype.close=Yr.prototype.close,Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,qs.COMPLETE="complete",Fs.EventType=gs,gs.OPEN="a",gs.CLOSE="b",gs.ERROR="c",gs.MESSAGE="d",xe.prototype.listen=xe.prototype.N,j.prototype.listenOnce=j.prototype.O,j.prototype.getLastError=j.prototype.Na,j.prototype.getLastErrorCode=j.prototype.Ea,j.prototype.getStatus=j.prototype.aa,j.prototype.getResponseJson=j.prototype.Ra,j.prototype.getResponseText=j.prototype.fa,j.prototype.send=j.prototype.da;var Pa=ce.createWebChannelTransport=function(){return new Ms},Ku=ce.getStatEventTarget=function(){return zn()},Zu=ce.ErrorCode=Pr,jl=ce.EventType=qs,Pc=ce.Event=bn,qu=ce.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Na=ce.FetchXmlHttpFactory=_s,Mo=ce.WebChannel=Fs,lu=ce.XhrIo=j;const da="@firebase/firestore";class hi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hi.UNAUTHENTICATED=new hi(null),hi.GOOGLE_CREDENTIALS=new hi("google-credentials-uid"),hi.FIRST_PARTY=new hi("first-party-uid"),hi.MOCK_USER=new hi("mock-user");let xo="9.10.0";const ws=new Et.Yd("@firebase/firestore");function ha(){return ws.logLevel}function vt(i,...e){if(ws.logLevel<=Et.in.DEBUG){const t=e.map(Oo);ws.debug(`Firestore (${xo}): ${i}`,...t)}}function Qr(i,...e){if(ws.logLevel<=Et.in.ERROR){const t=e.map(Oo);ws.error(`Firestore (${xo}): ${i}`,...t)}}function fa(i,...e){if(ws.logLevel<=Et.in.WARN){const t=e.map(Oo);ws.warn(`Firestore (${xo}): ${i}`,...t)}}function Oo(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function sn(i="Unexpected state"){const e=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: `+i;throw Qr(e),new Error(e)}function tn(i,e){i||sn()}function jt(i,e){return i}const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends ve.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Fa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class La{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hi.UNAUTHENTICATED))}shutdown(){}}class du{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pa{constructor(e){this.t=e,this.currentUser=hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const d=V=>this.i!==u?(u=this.i,t(V)):Promise.resolve();let g=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new fi,e.enqueueRetryable(()=>d(this.currentUser))};const D=()=>{const V=g;e.enqueueRetryable((0,X.Z)(function*(){yield V.promise,yield d(o.currentUser)}))},N=V=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(V=>N(V)),setTimeout(()=>{if(!this.auth){const V=this.t.getImmediate({optional:!0});V?N(V):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new fi)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(tn("string"==typeof o.accessToken),new Fa(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tn(null===e||"string"==typeof e),new hi(e)}}class Va{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u,this.type="FirstParty",this.user=hi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(tn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ro{constructor(e,t,o,u){this.h=e,this.l=t,this.m=o,this.g=u}getToken(){return Promise.resolve(new Va(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ga{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $l{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const o=d=>{null!=d.error&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.A;return this.A=d.token,vt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?u(d):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tn("string"==typeof t.token),this.A=t.token,new ga(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ma(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class hu{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=ma(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<t&&(o+=e.charAt(u[d]%e.length))}return o}}function jn(i,e){return i<e?-1:i>e?1:0}function lo(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function No(i){return i+"\0"}class Gr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new mt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new mt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new mt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gr.fromMillis(Date.now())}static fromDate(e){return Gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Gr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jn(this.nanoseconds,e.nanoseconds):jn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nn(e)}static min(){return new nn(new Gr(0,0))}static max(){return new nn(new Gr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ya{constructor(e,t,o){void 0===t?t=0:t>e.length&&sn(),void 0===o?o=e.length-t:o>e.length-t&&sn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===ya.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ya?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const d=e.get(u),g=t.get(u);if(d<g)return-1;if(d>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tr extends ya{construct(e,t,o){return new tr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new mt(Ye.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new tr(t)}static emptyPath(){return new tr([])}}const Ua=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lr extends ya{construct(e,t,o){return new Lr(e,t,o)}static isValidIdentifier(e){return Ua.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lr(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const d=()=>{if(0===o.length)throw new mt(Ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let g=!1;for(;u<e.length;){const D=e[u];if("\\"===D){if(u+1===e.length)throw new mt(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new mt(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=N,u+=2}else"`"===D?(g=!g,u++):"."!==D||g?(o+=D,u++):(d(),u++)}if(d(),g)throw new mt(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lr(t)}static emptyPath(){return new Lr([])}}class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(tr.fromString(e))}static fromName(e){return new Vt(tr.fromString(e).popFirst(5))}static empty(){return new Vt(tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new tr(e.slice()))}}class Gs{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function ho(i){return i.fields.find(e=>2===e.kind)}function ko(i){return i.fields.filter(e=>2!==e.kind)}Gs.UNKNOWN_ID=-1;class fo{constructor(e,t){this.fieldPath=e,this.kind=t}}class po{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new po(0,Ds.min())}}function Cr(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=nn.fromTimestamp(1e9===o?new Gr(t+1,0):new Gr(t,o));return new Ds(u,Vt.empty(),e)}function Qd(i){return new Ds(i.readTime,i.key,-1)}class Ds{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Ds(nn.min(),Vt.empty(),-1)}static max(){return new Ds(nn.max(),Vt.empty(),-1)}}function go(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Vt.comparator(i.documentKey,e.documentKey),0!==t?t:jn(i.largestBatchId,e.largestBatchId))}const Qu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fo(i){return Ju.apply(this,arguments)}function Ju(){return Ju=(0,X.Z)(function*(i){if(i.code!==Ye.FAILED_PRECONDITION||i.message!==Qu)throw i;vt("LocalStore","Unexpectedly lost primary lease")}),Ju.apply(this,arguments)}class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&sn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ze((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ze?t:ze.resolve(t)}catch(t){return ze.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ze.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ze.reject(t)}static resolve(e){return new ze((t,o)=>{t(e)})}static reject(e){return new ze((t,o)=>{o(e)})}static waitFor(e){return new ze((t,o)=>{let u=0,d=0,g=!1;e.forEach(D=>{++u,D.next(()=>{++d,g&&d===u&&t()},N=>o(N))}),g=!0,d===u&&t()})}static or(e){let t=ze.resolve(!1);for(const o of e)t=t.next(u=>u?ze.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,d)=>{o.push(t.call(this,u,d))}),this.waitFor(o)}static mapArray(e,t){return new ze((o,u)=>{const d=e.length,g=new Array(d);let D=0;for(let N=0;N<d;N++){const V=N;t(e[V]).next(W=>{g[V]=W,++D,D===d&&o(g)},W=>u(W))}})}static doWhile(e,t){return new ze((o,u)=>{const d=()=>{!0===e()?t().next(()=>{d()},u):o()};d()})}}class fu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new fi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Lo(e,t.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=ds(o.target.error);this.P.reject(new Lo(e,u))}}static open(e,t,o,u){try{return new fu(t,e.transaction(u,o))}catch(d){throw new Lo(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(vt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Mf(t)}}class to{constructor(e,t,o){this.name=e,this.version=t,this.S=o,12.2===to.D((0,ve.z$)())&&Qr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return vt("SimpleDb","Removing database:",e),Os(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ve.hl)())return!1;if(to.N())return!0;const e=(0,ve.z$)(),t=to.D(e),o=0<t&&t<10,u=to.k(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var t=this;return(0,X.Z)(function*(){return t.db||(vt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=g=>{o(g.target.result)},d.onblocked=()=>{u(new Lo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const D=g.target.error;u("VersionError"===D.name?new mt(Ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new mt(Ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Lo(e,D))},d.onupgradeneeded=g=>{vt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.S.$(g.target.result,d.transaction,g.oldVersion,t.version).next(()=>{vt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=o=>t.B(o)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var d=this;return(0,X.Z)(function*(){const g="readonly"===t;let D=0;for(;;){++D;try{d.db=yield d.F(e);const N=fu.open(d.db,e,g?"readonly":"readwrite",o),V=u(N).next(W=>(N.V(),W)).catch(W=>(N.abort(W),ze.reject(W))).toPromise();return V.catch(()=>{}),yield N.v,V}catch(N){const V=N,W="FirebaseError"!==V.name&&D<3;if(vt("SimpleDb","Transaction failed with error:",V.message,"Retrying:",W),d.close(),!W)return Promise.reject(V)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class vi{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Os(this.U.delete())}}class Lo extends mt{constructor(e,t){super(Ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ls(i){return"IndexedDbTransactionError"===i.name}class Mf{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(vt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(vt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Os(o)}add(e){return vt("SimpleDb","ADD",this.store.name,e,e),Os(this.store.add(e))}get(e){return Os(this.store.get(e)).next(t=>(void 0===t&&(t=null),vt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return vt("SimpleDb","DELETE",this.store.name,e),Os(this.store.delete(e))}count(){return vt("SimpleDb","COUNT",this.store.name),Os(this.store.count())}W(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),d=[];return this.H(u,(g,D)=>{d.push(D)}).next(()=>d)}{const u=this.store.getAll(o.range);return new ze((d,g)=>{u.onerror=D=>{g(D.target.error)},u.onsuccess=D=>{d(D.target.result)}})}}J(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new ze((u,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}Y(e,t){vt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.X=!1;const u=this.cursor(o);return this.H(u,(d,g,D)=>D.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.H(u,t)}tt(e){const t=this.cursor({});return new ze((o,u)=>{t.onerror=d=>{const g=ds(d.target.error);u(g)},t.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(D=>{D?g.continue():o()}):o()}})}H(e,t){const o=[];return new ze((u,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const D=g.target.result;if(!D)return void u();const N=new vi(D),V=t(D.primaryKey,D.value,N);if(V instanceof ze){const W=V.catch(ue=>(N.done(),ze.reject(ue)));o.push(W)}N.isDone?u():null===N.G?D.continue():D.continue(N.G)}}).next(()=>ze.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Os(i){return new ze((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=ds(o.target.error);t(u)}})}let Cs=!1;function ds(i){const e=to.D((0,ve.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new mt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Cs||(Cs=!0,setTimeout(()=>{throw o},0)),o}}return i}class kc{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;vt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,X.Z)(function*(){t.task=null;try{vt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(o){ls(o)?vt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Fo(o)}yield t.nt(6e4)}))}}class va{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,X.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.it(o,e))})()}it(e,t){const o=new Set;let u=t,d=!0;return ze.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!o.has(g))return vt("IndexBackiller",`Processing collection: ${g}`),this.rt(e,g,u).next(D=>{u-=D,o.add(g)});d=!1})).next(()=>t-u)}rt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ot(u,d)).next(D=>(vt("IndexBackiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,t,D))).next(()=>g.size)}))}ot(e,t){let o=e;return t.changes.forEach((u,d)=>{const g=Qd(d);go(g,o)>0&&(o=g)}),new Ds(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class si{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>t.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Ba(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function zo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function pu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}si.at=-1;class zr{constructor(e,t){this.comparator=e,this.root=t||oi.EMPTY}insert(e,t){return new zr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oi.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mo(this.root,e,this.comparator,!1)}getReverseIterator(){return new mo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mo(this.root,e,this.comparator,!0)}}class mo{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oi{constructor(e,t,o,u,d){this.key=e,this.value=t,this.color=o??oi.RED,this.left=u??oi.EMPTY,this.right=d??oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,d){return new oi(e??this.key,t??this.value,o??this.color,u??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return oi.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw sn();const e=this.left.check();if(e!==this.right.check())throw sn();return e+(this.isRed()?0:1)}}oi.EMPTY=null,oi.RED=!0,oi.BLACK=!1,oi.EMPTY=new class{constructor(){this.size=0}get key(){throw sn()}get value(){throw sn()}get color(){throw sn()}get left(){throw sn()}get right(){throw sn()}copy(i,e,t,o,u){return this}insert(i,e,t){return new oi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nr{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xu(this.data.getIterator())}getIteratorFrom(e){return new Xu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof nr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nr(this.comparator);return t.data=e,t}}class Xu{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _(i){return i.hasNext()?i.getNext():void 0}class E{constructor(e){this.fields=e,e.sort(Lr.comparator)}static empty(){return new E([])}unionWith(e){let t=new nr(Lr.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new E(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class C{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new C(t)}static fromUint8Array(e){const t=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new C(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}C.EMPTY_BYTE_STRING=new C("");const O=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function B(i){if(tn(!!i),"string"==typeof i){let e=0;const t=O.exec(i);if(tn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Y(i.seconds),nanos:Y(i.nanos)}}function Y(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function se(i){return"string"==typeof i?C.fromBase64String(i):C.fromUint8Array(i)}function Xe(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ot(i){const e=i.mapValue.fields.__previous_value__;return Xe(e)?Ot(e):e}function Sn(i){const e=B(i.mapValue.fields.__local_write_time__.timestampValue);return new Gr(e.seconds,e.nanos)}class on{constructor(e,t,o,u,d,g,D,N){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=D,this.useFetchStreams=N}}class Hn{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Hn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Hn&&e.projectId===this.projectId&&e.database===this.database}}function pi(i){return null==i}function Ki(i){return 0===i&&1/i==-1/0}function no(i){return"number"==typeof i&&Number.isInteger(i)&&!Ki(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const gi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wo={nullValue:"NULL_VALUE"};function Rs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Xe(i)?4:ec(i)?9007199254740991:10:sn()}function Zi(i,e){if(i===e)return!0;const t=Rs(i);if(t!==Rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Sn(i).isEqual(Sn(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=B(o.timestampValue),g=B(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,se(i.bytesValue).isEqual(se(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Y(o.geoPointValue.latitude)===Y(u.geoPointValue.latitude)&&Y(o.geoPointValue.longitude)===Y(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Y(o.integerValue)===Y(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Y(o.doubleValue),g=Y(u.doubleValue);return d===g?Ki(d)===Ki(g):isNaN(d)&&isNaN(g)}return!1}(i,e);case 9:return lo(i.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:return function(o,u){const d=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Ba(d)!==Ba(g))return!1;for(const D in d)if(d.hasOwnProperty(D)&&(void 0===g[D]||!Zi(d[D],g[D])))return!1;return!0}(i,e);default:return sn()}var u}function yo(i,e){return void 0!==(i.values||[]).find(t=>Zi(t,e))}function Ko(i,e){if(i===e)return 0;const t=Rs(i),o=Rs(e);if(t!==o)return jn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return jn(i.booleanValue,e.booleanValue);case 2:return function(u,d){const g=Y(u.integerValue||u.doubleValue),D=Y(d.integerValue||d.doubleValue);return g<D?-1:g>D?1:g===D?0:isNaN(g)?isNaN(D)?0:-1:1}(i,e);case 3:return _i(i.timestampValue,e.timestampValue);case 4:return _i(Sn(i),Sn(e));case 5:return jn(i.stringValue,e.stringValue);case 6:return function(u,d){const g=se(u),D=se(d);return g.compareTo(D)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const g=u.split("/"),D=d.split("/");for(let N=0;N<g.length&&N<D.length;N++){const V=jn(g[N],D[N]);if(0!==V)return V}return jn(g.length,D.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const g=jn(Y(u.latitude),Y(d.latitude));return 0!==g?g:jn(Y(u.longitude),Y(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const g=u.values||[],D=d.values||[];for(let N=0;N<g.length&&N<D.length;++N){const V=Ko(g[N],D[N]);if(V)return V}return jn(g.length,D.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===gi.mapValue&&d===gi.mapValue)return 0;if(u===gi.mapValue)return 1;if(d===gi.mapValue)return-1;const g=u.fields||{},D=Object.keys(g),N=d.fields||{},V=Object.keys(N);D.sort(),V.sort();for(let W=0;W<D.length&&W<V.length;++W){const ue=jn(D[W],V[W]);if(0!==ue)return ue;const He=Ko(g[D[W]],N[V[W]]);if(0!==He)return He}return jn(D.length,V.length)}(i.mapValue,e.mapValue);default:throw sn()}}function _i(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return jn(i,e);const t=B(i),o=B(e),u=jn(t.seconds,o.seconds);return 0!==u?u:jn(t.nanos,o.nanos)}function ja(i){return gu(i)}function gu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=B(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?se(i.bytesValue).toBase64():"referenceValue"in i?Vt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const g of o.values||[])d?d=!1:u+=",",u+=gu(g);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",g=!0;for(const D of u)g?g=!1:d+=",",d+=`${D}:${gu(o.fields[D])}`;return d+"}"}(i.mapValue):sn();var e}function Zo(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function $a(i){return!!i&&"integerValue"in i}function Ha(i){return!!i&&"arrayValue"in i}function Xd(i){return!!i&&"nullValue"in i}function eh(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function _a(i){return!!i&&"mapValue"in i}function qo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return zo(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=qo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qo(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ec(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ea(i){return"nullValue"in i?Wo:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Zo(Hn.empty(),Vt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:sn()}function Hl(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Zo(Hn.empty(),Vt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?gi:sn()}function Fc(i,e){const t=Ko(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Ia(i,e){const t=Ko(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Mi{constructor(e){this.value=e}static empty(){return new Mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!_a(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qo(t)}setAll(e){let t=Lr.emptyPath(),o={},u=[];e.forEach((g,D)=>{if(!t.isImmediateParentOf(D)){const N=this.getFieldsMap(t);this.applyChanges(N,o,u),o={},u=[],t=D.popLast()}g?o[D.lastSegment()]=qo(g):u.push(D.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,u)}delete(e){const t=this.field(e.popLast());_a(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];_a(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){zo(t,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new Mi(qo(this.value))}}function Lc(i){const e=[];return zo(i.fields,(t,o)=>{const u=new Lr([t]);if(_a(o)){const d=Lc(o.mapValue).fields;if(0===d.length)e.push(u);else for(const g of d)e.push(u.child(g))}else e.push(u)}),new E(e)}class Wr{constructor(e,t,o,u,d,g){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Wr(e,0,nn.min(),nn.min(),Mi.empty(),0)}static newFoundDocument(e,t,o){return new Wr(e,1,t,nn.min(),o,0)}static newNoDocument(e,t){return new Wr(e,2,t,nn.min(),Mi.empty(),0)}static newUnknownDocument(e,t){return new Wr(e,3,t,nn.min(),Mi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(e,t=null,o=[],u=[],d=null,g=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=g,this.endAt=D,this.ht=null}}function Ga(i,e=null,t=[],o=[],u=null,d=null,g=null){return new th(i,e,t,o,u,d,g)}function ro(i){const e=jt(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+ja(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),pi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>ja(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>ja(o)).join(",")),e.ht=t}return e.ht}function Vc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!ah(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!Zi(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!jc(i.startAt,e.startAt)&&jc(i.endAt,e.endAt)}function tc(i){return Vt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Uc(i,e){return i.filters.filter(t=>t instanceof ns&&t.field.isEqual(e))}function zl(i,e,t){let o=Wo,u=!0;for(const d of Uc(i,e)){let g=Wo,D=!0;switch(d.op){case"<":case"<=":g=Ea(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,D=!1;break;case"!=":case"not-in":g=Wo}Fc({value:o,inclusive:u},{value:g,inclusive:D})<0&&(o=g,u=D)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=t.position[d];Fc({value:o,inclusive:u},{value:g,inclusive:t.inclusive})<0&&(o=g,u=t.inclusive);break}return{value:o,inclusive:u}}function nh(i,e,t){let o=gi,u=!0;for(const d of Uc(i,e)){let g=gi,D=!0;switch(d.op){case">=":case">":g=Hl(d.value),D=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,D=!1;break;case"!=":case"not-in":g=gi}Ia({value:o,inclusive:u},{value:g,inclusive:D})>0&&(o=g,u=D)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=t.position[d];Ia({value:o,inclusive:u},{value:g,inclusive:t.inclusive})>0&&(o=g,u=t.inclusive);break}return{value:o,inclusive:u}}class ns extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,o):new rh(e,t,o):"array-contains"===t?new sh(e,o):"in"===t?new xg(e,o):"not-in"===t?new oh(e,o):"array-contains-any"===t?new Og(e,o):new ns(e,t,o)}static lt(e,t,o){return"in"===t?new Bc(e,o):new nc(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ko(t,this.value)):null!==t&&Rs(this.value)===Rs(t)&&this.ft(Ko(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class rh extends ns{constructor(e,t,o){super(e,t,o),this.key=Vt.fromName(o.referenceValue)}matches(e){const t=Vt.comparator(e.key,this.key);return this.ft(t)}}class Bc extends ns{constructor(e,t){super(e,"in",t),this.keys=ih(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nc extends ns{constructor(e,t){super(e,"not-in",t),this.keys=ih(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ih(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Vt.fromName(o.referenceValue))}class sh extends ns{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ha(t)&&yo(t.arrayValue,this.value)}}class xg extends ns{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yo(this.value.arrayValue,t)}}class oh extends ns{constructor(e,t){super(e,"not-in",t)}matches(e){if(yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yo(this.value.arrayValue,t)}}class Og extends ns{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ha(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>yo(this.value.arrayValue,o))}}class Vo{constructor(e,t){this.position=e,this.inclusive=t}}class mu{constructor(e,t="asc"){this.field=e,this.dir=t}}function ah(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function za(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],g=i.position[u];if(o=d.field.isKeyField()?Vt.comparator(Vt.fromName(g.referenceValue),t.key):Ko(g,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function jc(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Zi(i.position[t],e.position[t]))return!1;return!0}class Ps{constructor(e,t=null,o=[],u=[],d=null,g="F",D=null,N=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=g,this.startAt=D,this.endAt=N,this._t=null,this.wt=null}}function uh(i,e,t,o,u,d,g,D){return new Ps(i,e,t,o,u,d,g,D)}function yu(i){return new Ps(i)}function xf(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Wa(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function rc(i){for(const e of i.filters)if(e.dt())return e.field;return null}function $c(i){return null!==i.collectionGroup}function Ka(i){const e=jt(i);if(null===e._t){e._t=[];const t=rc(e),o=Wa(e);if(null!==t&&null===o)t.isKeyField()||e._t.push(new mu(t)),e._t.push(new mu(Lr.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new mu(Lr.keyField(),d))}}}return e._t}function bs(i){const e=jt(i);if(!e.wt)if("F"===e.limitType)e.wt=Ga(e.path,e.collectionGroup,Ka(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Ka(e))t.push(new mu(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new Vo(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Vo(e.startAt.position,e.startAt.inclusive):null;e.wt=Ga(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.wt}function Za(i,e,t){return new Ps(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ic(i,e){return Vc(bs(i),bs(e))&&i.limitType===e.limitType}function Hc(i){return`${ro(bs(i))}|lt:${i.limitType}`}function Wl(i){return`Query(target=${function Gl(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${ja(o.value)}`;var o}).join(", ")}]`),pi(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>ja(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>ja(t)).join(",")),`Target(${e})`}(bs(i))}; limitType=${i.limitType})`}function Gc(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Vt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,d,g){const D=za(u,d,g);return u.inclusive?D<=0:D<0}(t.startAt,Ka(t),o)||t.endAt&&!function(u,d,g){const D=za(u,d,g);return u.inclusive?D>=0:D>0}(t.endAt,Ka(t),o)));var t,o}function ch(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function vo(i){return(e,t)=>{let o=!1;for(const u of Ka(i)){const d=sc(u,e,t);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function sc(i,e,t){const o=i.field.isKeyField()?Vt.comparator(e.key,t.key):function(u,d,g){const D=d.data.field(u),N=g.data.field(u);return null!==D&&null!==N?Ko(D,N):sn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return sn()}}function Kl(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ki(e)?"-0":e}}function lh(i){return{integerValue:""+i}}function Of(i,e){return no(e)?lh(e):Kl(i,e)}class Zl{constructor(){this._=void 0}}function Rg(i,e,t){return i instanceof vu?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):i instanceof qa?zc(i,e):i instanceof Ya?_u(i,e):function(o,u){const d=Yo(o,u),g=Eu(d)+Eu(o.yt);return $a(d)&&$a(o.yt)?lh(g):Kl(o.It,g)}(i,e)}function Ly(i,e,t){return i instanceof qa?zc(i,e):i instanceof Ya?_u(i,e):t}function Yo(i,e){return i instanceof Ns?$a(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class vu extends Zl{}class qa extends Zl{constructor(e){super(),this.elements=e}}function zc(i,e){const t=oc(e);for(const o of i.elements)t.some(u=>Zi(u,o))||t.push(o);return{arrayValue:{values:t}}}class Ya extends Zl{constructor(e){super(),this.elements=e}}function _u(i,e){let t=oc(e);for(const o of i.elements)t=t.filter(u=>!Zi(u,o));return{arrayValue:{values:t}}}class Ns extends Zl{constructor(e,t){super(),this.It=e,this.yt=t}}function Eu(i){return Y(i.integerValue||i.doubleValue)}function oc(i){return Ha(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Iu{constructor(e,t){this.field=e,this.transform=t}}class hh{constructor(e,t){this.version=e,this.transformResults=t}}class ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ql(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class wu{}function Wc(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Qo(i.key,ai.none()):new Du(i.key,i.data,ai.none());{const t=i.data,o=Mi.empty();let u=new nr(Lr.comparator);for(let d of e.fields)if(!u.has(d)){let g=t.field(d);null===g&&d.length>1&&(d=d.popLast(),g=t.field(d)),null===g?o.delete(d):o.set(d,g),u=u.add(d)}return new _o(i.key,o,new E(u.toArray()),ai.none())}}function Pg(i,e,t){i instanceof Du?function(o,u,d){const g=o.value.clone(),D=Yl(o.fieldTransforms,u,d.transformResults);g.setAll(D),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,t):i instanceof _o?function(o,u,d){if(!ql(o.precondition,u))return void u.convertToUnknownDocument(d.version);const g=Yl(o.fieldTransforms,u,d.transformResults),D=u.data;D.setAll(Zc(o)),D.setAll(g),u.convertToFoundDocument(d.version,D).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ac(i,e,t,o){return i instanceof Du?function(u,d,g,D){if(!ql(u.precondition,d))return g;const N=u.value.clone(),V=uc(u.fieldTransforms,D,d);return N.setAll(V),d.convertToFoundDocument(d.version,N).setHasLocalMutations(),null}(i,e,t,o):i instanceof _o?function(u,d,g,D){if(!ql(u.precondition,d))return g;const N=uc(u.fieldTransforms,D,d),V=d.data;return V.setAll(Zc(u)),V.setAll(N),d.convertToFoundDocument(d.version,V).setHasLocalMutations(),null===g?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(W=>W.field))}(i,e,t,o):(g=t,ql(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g);var d,g}function Kc(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=Yo(o.transform,u||null);null!=d&&(null===t&&(t=Mi.empty()),t.set(o.field,d))}return t||null}function fh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&lo(t,o,(u,d)=>function dh(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof qa&&o instanceof qa||t instanceof Ya&&o instanceof Ya?lo(t.elements,o.elements,Zi):t instanceof Ns&&o instanceof Ns?Zi(t.yt,o.yt):t instanceof vu&&o instanceof vu);var t,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class Du extends wu{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class _o extends wu{constructor(e,t,o,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Zc(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Yl(i,e,t){const o=new Map;tn(i.length===t.length);for(let u=0;u<t.length;u++){const d=i[u],g=d.transform,D=e.data.field(d.field);o.set(d.field,Ly(g,D,t[u]))}return o}function uc(i,e,t){const o=new Map;for(const u of i){const d=u.transform,g=t.data.field(u.field);o.set(u.field,Rg(d,g,e))}return o}class Qo extends wu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cc extends wu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rf{constructor(e){this.count=e}}var lr,Ir;function ph(i){switch(i){default:return sn();case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0}}function qc(i){if(void 0===i)return Qr("GRPC error has no .code"),Ye.UNKNOWN;switch(i){case lr.OK:return Ye.OK;case lr.CANCELLED:return Ye.CANCELLED;case lr.UNKNOWN:return Ye.UNKNOWN;case lr.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case lr.INTERNAL:return Ye.INTERNAL;case lr.UNAVAILABLE:return Ye.UNAVAILABLE;case lr.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case lr.NOT_FOUND:return Ye.NOT_FOUND;case lr.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case lr.ABORTED:return Ye.ABORTED;case lr.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case lr.DATA_LOSS:return Ye.DATA_LOSS;default:return sn()}}(Ir=lr||(lr={}))[Ir.OK=0]="OK",Ir[Ir.CANCELLED=1]="CANCELLED",Ir[Ir.UNKNOWN=2]="UNKNOWN",Ir[Ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ir[Ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ir[Ir.NOT_FOUND=5]="NOT_FOUND",Ir[Ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ir[Ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ir[Ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ir[Ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ir[Ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ir[Ir.ABORTED=10]="ABORTED",Ir[Ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ir[Ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ir[Ir.INTERNAL=13]="INTERNAL",Ir[Ir.UNAVAILABLE=14]="UNAVAILABLE",Ir[Ir.DATA_LOSS=15]="DATA_LOSS";class Jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){zo(this.inner,(t,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return pu(this.inner)}size(){return this.innerSize}}const Pf=new zr(Vt.comparator);function qi(){return Pf}const gh=new zr(Vt.comparator);function Cu(...i){let e=gh;for(const t of i)e=e.insert(t.key,t);return e}function mh(i){let e=gh;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Xo(){return ea()}function Nf(){return ea()}function ea(){return new Jo(i=>i.toString(),(i,e)=>i.isEqual(e))}const Yc=new zr(Vt.comparator),Qc=new nr(Vt.comparator);function Kn(...i){let e=Qc;for(const t of i)e=e.add(t);return e}const Ql=new nr(jn);function Jc(){return Ql}class wa{constructor(e,t,o,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,t)),new wa(nn.min(),o,Jc(),qi(),Kn())}}class bu{constructor(e,t,o,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new bu(C.EMPTY_BYTE_STRING,t,Kn(),Kn(),Kn())}}class Yi{constructor(e,t,o,u){this.Tt=e,this.removedTargetIds=t,this.key=o,this.Et=u}}class lc{constructor(e,t){this.targetId=e,this.At=t}}class Jl{constructor(e,t,o=C.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Xc{constructor(){this.Rt=0,this.bt=Da(),this.Pt=C.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Kn(),t=Kn(),o=Kn();return this.bt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:sn()}}),new bu(this.Pt,this.vt,e,t,o)}Nt(){this.Vt=!1,this.bt=Da()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class el{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=qi(),this.qt=dc(),this.Kt=new nr(jn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const o=this.zt(t);switch(e.state){case 0:this.Ht(t)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),o.Ct(e.resumeToken));break;default:sn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((o,u)=>{this.Ht(u)&&t(u)})}Yt(e){const t=e.targetId,o=e.At.count,u=this.Xt(t);if(u){const d=u.target;if(tc(d))if(0===o){const g=new Vt(d.path);this.jt(t,g,Wr.newNoDocument(g,nn.min()))}else tn(1===o);else this.Zt(t)!==o&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((d,g)=>{const D=this.Xt(g);if(D){if(d.current&&tc(D.target)){const N=new Vt(D.target.path);null!==this.Ut.get(N)||this.ee(g,N)||this.jt(g,N,Wr.newNoDocument(N,e))}d.Dt&&(t.set(g,d.xt()),d.Nt())}});let o=Kn();this.qt.forEach((d,g)=>{let D=!0;g.forEachWhile(N=>{const V=this.Xt(N);return!V||2===V.purpose||(D=!1,!1)}),D&&(o=o.add(d))}),this.Ut.forEach((d,g)=>g.setReadTime(e));const u=new wa(e,t,this.Kt,this.Ut,o);return this.Ut=qi(),this.qt=dc(),this.Kt=new nr(jn),u}Qt(e,t){if(!this.Ht(e))return;const o=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,o),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,t)?u.kt(t,1):u.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),o&&(this.Ut=this.Ut.insert(t,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new Xc,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new nr(jn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||vt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Xc),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function dc(){return new zr(Vt.comparator)}function Da(){return new zr(Vt.comparator)}const yh={asc:"ASCENDING",desc:"DESCENDING"},Xl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Eo{constructor(e,t){this.databaseId=e,this.gt=t}}function Tu(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tl(i,e){return i.gt?e.toBase64():e.toUint8Array()}function nl(i,e){return Tu(i,e.toTimestamp())}function ri(i){return tn(!!i),nn.fromTimestamp(function(e){const t=B(e);return new Gr(t.seconds,t.nanos)}(i))}function hc(i,e){return(t=i,new tr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function rs(i){const e=tr.fromString(i);return tn(Ei(e)),e}function Qa(i,e){return hc(i.databaseId,e.path)}function io(i,e){const t=rs(e);if(t.get(1)!==i.databaseId.projectId)throw new mt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new mt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Vt(ed(t))}function rl(i,e){return hc(i.databaseId,e)}function Ts(i){const e=rs(i);return 4===e.length?tr.emptyPath():ed(e)}function ta(i){return new tr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ed(i){return tn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function td(i,e,t){return{name:Qa(i,e),fields:t.value.mapValue.fields}}function vh(i,e,t){const o=io(i,e.name),u=ri(e.updateTime),d=new Mi({mapValue:{fields:e.fields}}),g=Wr.newFoundDocument(o,u,d);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function Au(i,e){let t;if(e instanceof Du)t={update:td(i,e.key,e.value)};else if(e instanceof Qo)t={delete:Qa(i,e.key)};else if(e instanceof _o)t={update:td(i,e.key,e.data),updateMask:Tn(e.fieldMask)};else{if(!(e instanceof cc))return sn();t={verify:Qa(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const g=d.transform;if(g instanceof vu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof qa)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ya)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ns)return{fieldPath:d.field.canonicalString(),increment:g.yt};throw sn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:nl(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:sn()),t;var u}function nd(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?ai.updateTime(ri(u.updateTime)):void 0!==u.exists?ai.exists(u.exists):ai.none():ai.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(d,g){let D=null;"setToServerValue"in g?(tn("REQUEST_TIME"===g.setToServerValue),D=new vu):"appendMissingElements"in g?D=new qa(g.appendMissingElements.values||[]):"removeAllFromArray"in g?D=new Ya(g.removeAllFromArray.values||[]):"increment"in g?D=new Ns(d,g.increment):sn();const N=Lr.fromServerFormat(g.fieldPath);return new Iu(N,D)}(i,u)):[];var u;if(e.update){const u=io(i,e.update.name),d=new Mi({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new E((e.updateMask.fieldPaths||[]).map(V=>Lr.fromServerFormat(V)));return new _o(u,d,g,t,o)}return new Du(u,d,t,o)}if(e.delete){const u=io(i,e.delete);return new Qo(u,t)}if(e.verify){const u=io(i,e.verify);return new cc(u,t)}return sn()}function m(i,e){return{documents:[rl(i,e.path)]}}function l(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=rl(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=rl(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(N){if(0===N.length)return;const V=N.map(W=>function(ue){if("=="===ue.op){if(eh(ue.value))return{unaryFilter:{field:Qe(ue.field),op:"IS_NAN"}};if(Xd(ue.value))return{unaryFilter:{field:Qe(ue.field),op:"IS_NULL"}}}else if("!="===ue.op){if(eh(ue.value))return{unaryFilter:{field:Qe(ue.field),op:"IS_NOT_NAN"}};if(Xd(ue.value))return{unaryFilter:{field:Qe(ue.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qe(ue.field),op:Ae(ue.op),value:ue.value}}}(W));return 1===V.length?V[0]:{compositeFilter:{op:"AND",filters:V}}}(e.filters);u&&(t.structuredQuery.where=u);const d=function(N){if(0!==N.length)return N.map(V=>{return{field:Qe((W=V).field),direction:z(W.dir)};var W})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const g=(V=e.limit,i.gt||pi(V)?V:{value:V});var V,D,N;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(N=e.endAt).inclusive,values:N.position}),t}function f(i){let e=Ts(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){tn(1===o);const W=t.from[0];W.allDescendants?u=W.collectionId:e=e.child(W.collectionId)}let d=[];t.where&&(d=F(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(W=>{return new mu(At((ue=W).field),function(He){switch(He){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ue.direction));var ue}));let D=null;t.limit&&(D=function(W){let ue;return ue="object"==typeof W?W.value:W,pi(ue)?null:ue}(t.limit));let N=null;var W;t.startAt&&(N=new Vo((W=t.startAt).values||[],!!W.before));let V=null;return t.endAt&&(V=function(W){return new Vo(W.values||[],!W.before)}(t.endAt)),uh(e,u,g,d,D,"F",N,V)}function F(i){return i?void 0!==i.unaryFilter?[kn(i)]:void 0!==i.fieldFilter?[an(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>F(e)).reduce((e,t)=>e.concat(t)):sn():[]}function z(i){return yh[i]}function Ae(i){return Xl[i]}function Qe(i){return{fieldPath:i.canonicalString()}}function At(i){return Lr.fromServerFormat(i.fieldPath)}function an(i){return ns.create(At(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sn()}}(i.fieldFilter.op),i.fieldFilter.value)}function kn(i){switch(i.unaryFilter.op){case"IS_NAN":const e=At(i.unaryFilter.field);return ns.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=At(i.unaryFilter.field);return ns.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=At(i.unaryFilter.field);return ns.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=At(i.unaryFilter.field);return ns.create(u,"!=",{nullValue:"NULL_VALUE"});default:return sn()}}function Tn(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ei(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Jr(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=rd(e)),e=Su(i.get(t),e);return rd(e)}function Su(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const d=i.charAt(u);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function rd(i){return i+"\x01\x01"}function so(i){const e=i.length;if(tn(e>=2),2===e)return tn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),tr.emptyPath();const t=e-2,o=[];let u="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>t)&&sn(),i.charAt(g+1)){case"\x01":const D=i.substring(d,g);let N;0===u.length?N=D:(u+=D,N=u,u=""),o.push(N);break;case"\x10":u+=i.substring(d,g),u+="\0";break;case"\x11":u+=i.substring(d,g+1);break;default:sn()}d=g+2}return new tr(o)}const pc=["userId","batchId"];function il(i,e){return[i,Jr(e)]}function id(i,e,t){return[i,Jr(e),t]}const sl={},Ff=["prefixPath","collectionGroup","readTime","documentId"],Eh=["prefixPath","collectionGroup","documentId"],Lf=["collectionGroup","readTime","prefixPath","documentId"],Ng=["canonicalId","targetId"],Ih=["targetId","path"],Vf=["path","targetId"],kg=["collectionId","parent"],Uf=["indexId","uid"],Fg=["uid","sequenceNumber"],Lg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Vg=["indexId","uid","orderedDocumentKey"],Bf=["userId","collectionPath","documentId"],Vy=["userId","collectionPath","largestBatchId"],jf=["userId","collectionGroup","largestBatchId"],ol=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Uy=[...ol,"documentOverlays"],Ug=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bg=Ug,jg=[...Bg,"indexConfiguration","indexState","indexEntries"];class $f extends Jd{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function hs(i,e){const t=jt(i);return to.O(t.ie,e)}class Hf{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&Pg(d,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=ac(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=ac(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Nf();return this.mutations.forEach(u=>{const d=e.get(u.key),g=d.overlayedDocument;let D=this.applyToLocalView(g,d.mutatedFields);D=t.has(u.key)?null:D;const N=Wc(g,D);null!==N&&o.set(u.key,N),g.isValidDocument()||g.convertToNoDocument(nn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kn())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(t,o)=>fh(t,o))&&lo(this.baseMutations,e.baseMutations,(t,o)=>fh(t,o))}}class Gf{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){tn(e.mutations.length===o.length);let u=Yc;const d=e.mutations;for(let g=0;g<d.length;g++)u=u.insert(d[g].key,o[g].version);return new Gf(e,t,o,u)}}class sd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Mu{constructor(e,t,o,u,d=nn.min(),g=nn.min(),D=C.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=D}withSequenceNumber(e){return new Mu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class $g{constructor(e){this.re=e}}function zf(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:wh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Qa(u=i.re,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Tu(u,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:gc(e.version)};else{if(!e.isUnknownDocument())return sn();o.unknownDocument={path:t.path.toArray(),version:gc(e.version)}}var u,d;return o}function wh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function gc(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Vi(i){const e=new Gr(i.seconds,i.nanoseconds);return nn.fromTimestamp(e)}function Ja(i,e){const t=(e.baseMutations||[]).map(d=>nd(i.re,d));for(let d=0;d<e.mutations.length-1;++d){const g=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(g.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>nd(i.re,d)),u=Gr.fromMillis(e.localWriteTimeMs);return new Hf(e.batchId,u,t,o)}function al(i){const e=Vi(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Vi(i.lastLimboFreeSnapshotVersion):nn.min();let o;var u;return void 0!==i.query.documents?(tn(1===(u=i.query).documents.length),o=bs(yu(Ts(u.documents[0])))):o=bs(f(i.query)),new Mu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,C.fromBase64String(i.resumeToken))}function Dh(i,e){const t=gc(e.snapshotVersion),o=gc(e.lastLimboFreeSnapshotVersion);let u;u=tc(e.target)?m(i.re,e.target):l(i.re,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ro(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function fs(i){const e=f({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Za(e,e.limit,"L"):e}function mc(i,e){return new sd(e.largestBatchId,nd(i.re,e.overlayMutation))}function Wf(i,e){const t=e.path.lastSegment();return[i,Jr(e.path.popLast()),t]}function Hg(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:gc(o.readTime),documentKey:Jr(o.documentKey.path),largestBatchId:o.largestBatchId}}class jy{getBundleMetadata(e,t){return Kf(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Vi(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Kf(e).put({bundleId:(o=t).id,createTime:gc(ri(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Gg(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:fs(u.bundledQuery),readTime:Vi(u.readTime)};var u})}saveNamedQuery(e,t){return Gg(e).put({name:(o=t).name,readTime:gc(ri(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Kf(i){return hs(i,"bundles")}function Gg(i){return hs(i,"namedQueries")}class od{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new od(e,t.uid||"")}getOverlay(e,t){return ad(e).get(Wf(this.userId,t)).next(o=>o?mc(this.It,o):null)}getOverlays(e,t){const o=Xo();return ze.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((d,g)=>{const D=new sd(t,g);u.push(this.ue(e,D))}),ze.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(g=>u.add(Jr(g.getCollectionPath())));const d=[];return u.forEach(g=>{const D=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);d.push(ad(e).Y("collectionPathOverlayIndex",D))}),ze.waitFor(d)}getOverlaysForCollection(e,t,o){const u=Xo(),d=Jr(t),g=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return ad(e).W("collectionPathOverlayIndex",g).next(D=>{for(const N of D){const V=mc(this.It,N);u.set(V.getKey(),V)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const d=Xo();let g;const D=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ad(e).Z({index:"collectionGroupOverlayIndex",range:D},(N,V,W)=>{const ue=mc(this.It,V);d.size()<u||ue.largestBatchId===g?(d.set(ue.getKey(),ue),g=ue.largestBatchId):W.done()}).next(()=>d)}ue(e,t){return ad(e).put(function(o,u,d){const[g,D,N]=Wf(u,d.mutation.key);return{userId:u,collectionPath:D,documentId:N,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Au(o.re,d.mutation)}}(this.It,this.userId,t))}}function ad(i){return hs(i,"documentOverlays")}class xu{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Y(e.integerValue));else if("doubleValue"in e){const o=Y(e.doubleValue);isNaN(o)?this.le(t,13):(this.le(t,15),Ki(o)?t.fe(0):t.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(t,20),"string"==typeof o?t.de(o):(t.de(`${o.seconds||""}`),t.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(se(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(t,45),t.fe(o.latitude||0),t.fe(o.longitude||0)}else"mapValue"in e?ec(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):sn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const o=e.fields||{};this.le(t,55);for(const u of Object.keys(o))this._e(u,t),this.ae(o[u],t)}pe(e,t){const o=e.values||[];this.le(t,50);for(const u of o)this.ae(u,t)}ge(e,t){this.le(t,37),Vt.fromName(e).path.forEach(o=>{this.le(t,60),this.Ie(o,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function $y(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function zg(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const d=$y(255&t[u]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}xu.Te=new xu;class Hy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Pe(o.value),o=t.next();this.ve()}Ve(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=t.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=t.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const t=this.Ce(e),o=zg(t);this.xe(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Ne(e){const t=this.Ce(e),o=zg(t);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Gy{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class zy{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Ca{constructor(){this.Be=new Hy,this.Le=new Gy(this.Be),this.Ue=new zy(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class zs{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new zs(this.indexId,this.documentKey,this.arrayValue,o)}}function yc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Wg(i.arrayValue,e.arrayValue),0!==t?t:(t=Wg(i.directionalValue,e.directionalValue),0!==t?t:Vt.comparator(i.documentKey,e.documentKey)))}function Wg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class $_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const o=t;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const t=ho(e);if(void 0!==t&&!this.ze(t))return!1;const o=ko(e);let u=0,d=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.je){const g=o[u];if(!this.He(this.je,g)||!this.Je(this.Ge[d++],g))return!1;++u}for(;u<o.length;++u){const g=o[u];if(d>=this.Ge.length||!this.Je(this.Ge[d++],g))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class H_{constructor(){this.Ye=new Ch}addToCollectionParentIndex(e,t){return this.Ye.add(t),ze.resolve()}getCollectionParents(e,t){return ze.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ze.resolve()}deleteFieldIndex(e,t){return ze.resolve()}getDocumentsMatchingTarget(e,t){return ze.resolve(null)}getIndexType(e,t){return ze.resolve(0)}getFieldIndexes(e,t){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}getMinOffset(e,t){return ze.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,t){return ze.resolve(Ds.min())}updateCollectionGroup(e,t,o){return ze.resolve()}updateIndexEntries(e,t){return ze.resolve()}}class Ch{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new nr(tr.comparator),d=!u.has(o);return this.index[t]=u.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new nr(tr.comparator)).toArray()}}const Zf=new Uint8Array(0);class ba{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Ch,this.Ze=new Jo(o=>ro(o),(o,u)=>Vc(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const d={collectionId:o,parent:Jr(u)};return bh(e).put(d)}return ze.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[No(t),""],!1,!0);return bh(e).W(u).next(d=>{for(const g of d){if(g.collectionId!==t)break;o.push(so(g.parent))}return o})}addFieldIndex(e,t){const o=Th(e),u={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(D=>[D.fieldPath.canonicalString(),D.kind])};var g;delete u.indexId;const d=o.add(u);if(t.indexState){const g=ul(e);return d.next(D=>{g.put(Hg(D,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const o=Th(e),u=ul(e),d=vc(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=vc(e);let u=!0;const d=new Map;return ze.forEach(this.tn(t),g=>this.en(e,g).next(D=>{u&&(u=!!D),d.set(g,D)})).next(()=>{if(u){let g=Kn();const D=[];return ze.forEach(d,(N,V)=>{var W;vt("IndexedDbIndexManager",`Using index ${W=N,`id=${W.indexId}|cg=${W.collectionGroup}|f=${W.fields.map(Vr=>`${Vr.fieldPath}:${Vr.kind}`).join(",")}`} to execute ${ro(t)}`);const ue=function(Vr,Ii){const br=ho(Ii);if(void 0===br)return null;for(const Ur of Uc(Vr,br.fieldPath))switch(Ur.op){case"array-contains-any":return Ur.value.arrayValue.values||[];case"array-contains":return[Ur.value]}return null}(V,N),He=function(Vr,Ii){const br=new Map;for(const Ur of ko(Ii))for(const Ji of Uc(Vr,Ur.fieldPath))switch(Ji.op){case"==":case"in":br.set(Ur.fieldPath.canonicalString(),Ji.value);break;case"not-in":case"!=":return br.set(Ur.fieldPath.canonicalString(),Ji.value),Array.from(br.values())}return null}(V,N),at=function(Vr,Ii){const br=[];let Ur=!0;for(const Ji of ko(Ii)){const Ul=0===Ji.kind?zl(Vr,Ji.fieldPath,Vr.startAt):nh(Vr,Ji.fieldPath,Vr.startAt);br.push(Ul.value),Ur&&(Ur=Ul.inclusive)}return new Vo(br,Ur)}(V,N),ft=function(Vr,Ii){const br=[];let Ur=!0;for(const Ji of ko(Ii)){const Ul=0===Ji.kind?nh(Vr,Ji.fieldPath,Vr.endAt):zl(Vr,Ji.fieldPath,Vr.endAt);br.push(Ul.value),Ur&&(Ur=Ul.inclusive)}return new Vo(br,Ur)}(V,N),Wt=this.nn(N,V,at),fn=this.nn(N,V,ft),vr=this.sn(N,V,He),Xr=this.rn(N.indexId,ue,Wt,at.inclusive,fn,ft.inclusive,vr);return ze.forEach(Xr,Vr=>o.J(Vr,t.limit).next(Ii=>{Ii.forEach(br=>{const Ur=Vt.fromSegments(br.documentKey);g.has(Ur)||(g=g.add(Ur),D.push(Ur))})}))}).next(()=>D)}return ze.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,o,u,d,g,D){const N=(null!=t?t.length:1)*Math.max(o.length,d.length),V=N/(null!=t?t.length:1),W=[];for(let ue=0;ue<N;++ue){const He=t?this.on(t[ue/V]):Zf,at=this.un(e,He,o[ue%V],u),ft=this.cn(e,He,d[ue%V],g),Wt=D.map(fn=>this.un(e,He,fn,!0));W.push(...this.createRange(at,ft,Wt))}return W}un(e,t,o,u){const d=new zs(e,Vt.empty(),t,o);return u?d:d.Ke()}cn(e,t,o,u){const d=new zs(e,Vt.empty(),t,o);return u?d.Ke():d}en(e,t){const o=new $_(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let g=null;for(const D of d)o.We(D)&&(!g||D.fields.length>g.fields.length)&&(g=D);return g})}getIndexType(e,t){let o=2;return ze.forEach(this.tn(t),u=>this.en(e,u).next(d=>{d?0!==o&&d.fields.length<function(g){let D=new nr(Lr.comparator),N=!1;for(const V of g.filters){const W=V;W.field.isKeyField()||("array-contains"===W.op||"array-contains-any"===W.op?N=!0:D=D.add(W.field))}for(const V of g.orderBy)V.field.isKeyField()||(D=D.add(V.field));return D.size+(N?1:0)}(u)&&(o=1):o=0})).next(()=>o)}an(e,t){const o=new Ca;for(const u of ko(e)){const d=t.data.field(u.fieldPath);if(null==d)return null;const g=o.qe(u.kind);xu.Te.ce(d,g)}return o.$e()}on(e){const t=new Ca;return xu.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const o=new Ca;return xu.Te.ce(Zo(this.databaseId,t),o.qe(function(u){const d=ko(u);return 0===d.length?0:d[d.length-1].kind}(e))),o.$e()}sn(e,t,o){if(null===o)return[];let u=[];u.push(new Ca);let d=0;for(const g of ko(e)){const D=o[d++];for(const N of u)if(this.ln(t,g.fieldPath)&&Ha(D))u=this.fn(u,g,D);else{const V=N.qe(g.kind);xu.Te.ce(D,V)}}return this.dn(u)}nn(e,t,o){return this.sn(e,t,o.position)}dn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}fn(e,t,o){const u=[...e],d=[];for(const g of o.arrayValue.values||[])for(const D of u){const N=new Ca;N.seed(D.$e()),xu.Te.ce(g,N.qe(t.kind)),d.push(N)}return d}ln(e,t){return!!e.filters.find(o=>o instanceof ns&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Th(e),u=ul(e);return(t?o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.W()).next(d=>{const g=[];return ze.forEach(d,D=>u.get([D.indexId,this.uid]).next(N=>{g.push(function(V,W){const ue=W?new po(W.sequenceNumber,new Ds(Vi(W.readTime),new Vt(so(W.documentKey)),W.largestBatchId)):po.empty(),He=V.fields.map(([at,ft])=>new fo(Lr.fromServerFormat(at),ft));return new Gs(V.indexId,V.collectionGroup,He,ue)}(D,N))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const d=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:jn(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=Th(e),d=ul(e);return this._n(e).next(g=>u.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(D=>ze.forEach(D,N=>d.put(Hg(N.indexId,this.user,g,o)))))}updateIndexEntries(e,t){const o=new Map;return ze.forEach(t,(u,d)=>{const g=o.get(u.collectionGroup);return(g?ze.resolve(g):this.getFieldIndexes(e,u.collectionGroup)).next(D=>(o.set(u.collectionGroup,D),ze.forEach(D,N=>this.wn(e,u,N).next(V=>{const W=this.mn(d,N);return V.isEqual(W)?ze.resolve():this.gn(e,d,N,V,W)}))))})}yn(e,t,o,u){return vc(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(o,t.key),documentKey:t.key.path.toArray()})}pn(e,t,o,u){return vc(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(o,t.key),t.key.path.toArray()])}wn(e,t,o){const u=vc(e);let d=new nr(yc);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,t)])},(g,D)=>{d=d.add(new zs(o.indexId,t,D.arrayValue,D.directionalValue))}).next(()=>d)}mn(e,t){let o=new nr(yc);const u=this.an(t,e);if(null==u)return o;const d=ho(t);if(null!=d){const g=e.data.field(d.fieldPath);if(Ha(g))for(const D of g.arrayValue.values||[])o=o.add(new zs(t.indexId,e.key,this.on(D),u))}else o=o.add(new zs(t.indexId,e.key,Zf,u));return o}gn(e,t,o,u,d){vt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const g=[];return function(D,N,V,W,ue){const He=D.getIterator(),at=N.getIterator();let ft=_(He),Wt=_(at);for(;ft||Wt;){let fn=!1,vr=!1;if(ft&&Wt){const Xr=V(ft,Wt);Xr<0?vr=!0:Xr>0&&(fn=!0)}else null!=ft?vr=!0:fn=!0;fn?(W(Wt),Wt=_(at)):vr?(ue(ft),ft=_(He)):(ft=_(He),Wt=_(at))}}(u,d,yc,D=>{g.push(this.yn(e,t,o,D))},D=>{g.push(this.pn(e,t,o,D))}),ze.waitFor(g)}_n(e){let t=1;return ul(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,d)=>{d.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((g,D)=>yc(g,D)).filter((g,D,N)=>!D||0!==yc(g,N[D-1]));const u=[];u.push(e);for(const g of o){const D=yc(g,e),N=yc(g,t);if(0===D)u[0]=e.Ke();else if(D>0&&N<0)u.push(g),u.push(g.Ke());else if(N>0)break}u.push(t);const d=[];for(let g=0;g<u.length;g+=2)d.push(IDBKeyRange.bound([u[g].indexId,this.uid,u[g].arrayValue,u[g].directionalValue,Zf,[]],[u[g+1].indexId,this.uid,u[g+1].arrayValue,u[g+1].directionalValue,Zf,[]]));return d}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Kg)}getMinOffset(e,t){return ze.mapArray(this.tn(t),o=>this.en(e,o).next(u=>u||sn())).next(Kg)}}function bh(i){return hs(i,"collectionParents")}function vc(i){return hs(i,"indexEntries")}function Th(i){return hs(i,"indexConfiguration")}function ul(i){return hs(i,"indexState")}function Kg(i){tn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;go(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new Ds(e.readTime,e.documentKey,t)}const cl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oo{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new oo(e,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Zg(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),d=[],g=IDBKeyRange.only(t.batchId);let D=0;const N=o.Z({range:g},(W,ue,He)=>(D++,He.delete()));d.push(N.next(()=>{tn(1===D)}));const V=[];for(const W of t.mutations){const ue=id(e,W.key.path,t.batchId);d.push(u.delete(ue)),V.push(W.key)}return ze.waitFor(d).next(()=>V)}function ll(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw sn();e=i.noDocument}return JSON.stringify(e).length}oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(41943040,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);class dl{constructor(e,t,o,u){this.userId=e,this.It=t,this.indexManager=o,this.referenceDelegate=u,this.In={}}static oe(e,t,o,u){tn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new dl(d,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _c(e).Z({index:"userMutationsIndex",range:o},(u,d,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const d=na(e),g=_c(e);return g.add({}).next(D=>{tn("number"==typeof D);const N=new Hf(D,t,o,u),V=function(He,at,ft){const Wt=ft.baseMutations.map(vr=>Au(He.re,vr)),fn=ft.mutations.map(vr=>Au(He.re,vr));return{userId:at,batchId:ft.batchId,localWriteTimeMs:ft.localWriteTime.toMillis(),baseMutations:Wt,mutations:fn}}(this.It,this.userId,N),W=[];let ue=new nr((He,at)=>jn(He.canonicalString(),at.canonicalString()));for(const He of u){const at=id(this.userId,He.key.path,D);ue=ue.add(He.key.path.popLast()),W.push(g.put(V)),W.push(d.put(at,sl))}return ue.forEach(He=>{W.push(this.indexManager.addToCollectionParentIndex(e,He))}),e.addOnCommittedListener(()=>{this.In[D]=N.keys()}),ze.waitFor(W).next(()=>N)})}lookupMutationBatch(e,t){return _c(e).get(t).next(o=>o?(tn(o.userId===this.userId),Ja(this.It,o)):null)}Tn(e,t){return this.In[t]?ze.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.In[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return _c(e).Z({index:"userMutationsIndex",range:u},(g,D,N)=>{D.userId===this.userId&&(tn(D.batchId>=o),d=Ja(this.It,D)),N.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return _c(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,d,g)=>{o=d.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _c(e).W("userMutationsIndex",t).next(o=>o.map(u=>Ja(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=il(this.userId,t.path),u=IDBKeyRange.lowerBound(o),d=[];return na(e).Z({range:u},(g,D,N)=>{const[V,W,ue]=g,He=so(W);if(V===this.userId&&t.path.isEqual(He))return _c(e).get(ue).next(at=>{if(!at)throw sn();tn(at.userId===this.userId),d.push(Ja(this.It,at))});N.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new nr(jn);const u=[];return t.forEach(d=>{const g=il(this.userId,d.path),D=IDBKeyRange.lowerBound(g),N=na(e).Z({range:D},(V,W,ue)=>{const[He,at,ft]=V,Wt=so(at);He===this.userId&&d.path.isEqual(Wt)?o=o.add(ft):ue.done()});u.push(N)}),ze.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,d=il(this.userId,o),g=IDBKeyRange.lowerBound(d);let D=new nr(jn);return na(e).Z({range:g},(N,V,W)=>{const[ue,He,at]=N,ft=so(He);ue===this.userId&&o.isPrefixOf(ft)?ft.length===u&&(D=D.add(at)):W.done()}).next(()=>this.En(e,D))}En(e,t){const o=[],u=[];return t.forEach(d=>{u.push(_c(e).get(d).next(g=>{if(null===g)throw sn();tn(g.userId===this.userId),o.push(Ja(this.It,g))}))}),ze.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return Zg(e.ie,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ze.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ze.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return na(e).Z({range:o},(d,g,D)=>{if(d[0]===this.userId){const N=so(d[1]);u.push(N)}else D.done()}).next(()=>{tn(0===u.length)})})}containsKey(e,t){return qf(e,this.userId,t)}Rn(e){return Ah(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function qf(i,e,t){const o=il(e,t.path),u=o[1],d=IDBKeyRange.lowerBound(o);let g=!1;return na(i).Z({range:d,X:!0},(D,N,V)=>{const[W,ue,He]=D;W===e&&ue===u&&(g=!0),V.done()}).next(()=>g)}function _c(i){return hs(i,"mutations")}function na(i){return hs(i,"documentMutations")}function Ah(i){return hs(i,"mutationQueues")}class Ou{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ou(0)}static vn(){return new Ou(-1)}}class Wy{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const o=new Ou(t.highestTargetId);return t.highestTargetId=o.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>nn.fromTimestamp(new Gr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Sn(e,u)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(t,o),this.Sn(e,o))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ru(e).delete(t.targetId)).next(()=>this.Vn(e)).next(o=>(tn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,t,o){let u=0;const d=[];return Ru(e).Z((g,D)=>{const N=al(D);N.sequenceNumber<=t&&null===o.get(N.targetId)&&(u++,d.push(this.removeTargetData(e,N)))}).next(()=>ze.waitFor(d)).next(()=>u)}forEachTarget(e,t){return Ru(e).Z((o,u)=>{const d=al(u);t(d)})}Vn(e){return qg(e).get("targetGlobalKey").next(t=>(tn(null!==t),t))}Sn(e,t){return qg(e).put("targetGlobalKey",t)}Dn(e,t){return Ru(e).put(Dh(this.It,t))}Cn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=ro(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return Ru(e).Z({range:u,index:"queryTargetsIndex"},(g,D,N)=>{const V=al(D);Vc(t,V.target)&&(d=V,N.done())}).next(()=>d)}addMatchingKeys(e,t,o){const u=[],d=Pu(e);return t.forEach(g=>{const D=Jr(g.path);u.push(d.put({targetId:o,path:D})),u.push(this.referenceDelegate.addReference(e,o,g))}),ze.waitFor(u)}removeMatchingKeys(e,t,o){const u=Pu(e);return ze.forEach(t,d=>{const g=Jr(d.path);return ze.waitFor([u.delete([o,g]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,t){const o=Pu(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=Pu(e);let d=Kn();return u.Z({range:o,X:!0},(g,D,N)=>{const V=so(g[1]),W=new Vt(V);d=d.add(W)}).next(()=>d)}containsKey(e,t){const o=Jr(t.path),u=IDBKeyRange.bound([o],[No(o)],!1,!0);let d=0;return Pu(e).Z({index:"documentTargetsIndex",X:!0,range:u},([g,D],N,V)=>{0!==g&&(d++,V.done())}).next(()=>d>0)}se(e,t){return Ru(e).get(t).next(o=>o?al(o):null)}}function Ru(i){return hs(i,"targets")}function qg(i){return hs(i,"targetGlobal")}function Pu(i){return hs(i,"targetDocuments")}function Yg([i,e],[t,o]){const u=jn(i,t);return 0===u?jn(e,o):u}class Ky{constructor(e){this.xn=e,this.buffer=new nr(Yg),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Yg(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Zy{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;vt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,X.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){ls(o)?vt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Fo(o)}yield t.Fn(3e5)}))}}class qy{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return ze.resolve(si.at);const o=new Ky(t);return this.$n.forEachTarget(e,u=>o.Mn(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.Mn(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.$n.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),ze.resolve(cl)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cl):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let o,u,d,g,D,N,V;const W=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ue=>(ue>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ue}`),u=this.params.maximumSequenceNumbersToCollect):u=ue,g=Date.now(),this.nthSequenceNumber(e,u))).next(ue=>(o=ue,D=Date.now(),this.removeTargets(e,o,t))).next(ue=>(d=ue,N=Date.now(),this.removeOrphanedDocuments(e,o))).next(ue=>(V=Date.now(),ha()<=Et.in.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-W}ms\n\tDetermined least recently used ${u} in `+(D-g)+`ms\n\tRemoved ${d} targets in `+(N-D)+`ms\n\tRemoved ${ue} documents in `+(V-N)+`ms\nTotal Duration: ${V-W}ms`),ze.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:ue})))}}class Qg{constructor(e,t){this.db=e,this.garbageCollector=new qy(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}qn(e){let t=0;return this.Ln(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(o,u)=>t(u))}addReference(e,t,o){return hl(e,o)}removeReference(e,t,o){return hl(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return hl(e,t)}Gn(e,t){return function(o,u){let d=!1;return Ah(o).tt(g=>qf(o,g,u).next(D=>(D&&(d=!0),ze.resolve(!D)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Kn(e,(g,D)=>{if(D<=t){const N=this.Gn(e,g).next(V=>{if(!V)return d++,o.getEntry(e,g).next(()=>(o.removeEntry(g,nn.min()),Pu(e).delete([0,Jr(g.path)])))});u.push(N)}}).next(()=>ze.waitFor(u)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return hl(e,t)}Kn(e,t){const o=Pu(e);let u,d=si.at;return o.Z({index:"documentTargetsIndex"},([g,D],{path:N,sequenceNumber:V})=>{0===g?(d!==si.at&&t(new Vt(so(u)),d),d=V,u=N):d=si.at}).next(()=>{d!==si.at&&t(new Vt(so(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hl(i,e){return Pu(i).put((o=i.currentSequenceNumber,{targetId:0,path:Jr(e.path),sequenceNumber:o}));var o}class Yf{constructor(){this.changes=new Jo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?ze.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qf{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Nu(e).put(o)}removeEntry(e,t,o){return Nu(e).delete(function(u,d){const g=u.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],wh(d),g[g.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Qn(e,o)))}getEntry(e,t){let o=Wr.newInvalidDocument(t);return Nu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ra(t))},(u,d)=>{o=this.jn(t,d)}).next(()=>o)}Wn(e,t){let o={size:0,document:Wr.newInvalidDocument(t)};return Nu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(ra(t))},(u,d)=>{o={document:this.jn(t,d),size:ll(d)}}).next(()=>o)}getEntries(e,t){let o=qi();return this.zn(e,t,(u,d)=>{const g=this.jn(u,d);o=o.insert(u,g)}).next(()=>o)}Hn(e,t){let o=qi(),u=new zr(Vt.comparator);return this.zn(e,t,(d,g)=>{const D=this.jn(d,g);o=o.insert(d,D),u=u.insert(d,ll(g))}).next(()=>({documents:o,Jn:u}))}zn(e,t,o){if(t.isEmpty())return ze.resolve();let u=new nr(ep);t.forEach(N=>u=u.add(N));const d=IDBKeyRange.bound(ra(u.first()),ra(u.last())),g=u.getIterator();let D=g.getNext();return Nu(e).Z({index:"documentKeyIndex",range:d},(N,V,W)=>{const ue=Vt.fromSegments([...V.prefixPath,V.collectionGroup,V.documentId]);for(;D&&ep(D,ue)<0;)o(D,null),D=g.getNext();D&&D.isEqual(ue)&&(o(D,V),D=g.hasNext()?g.getNext():null),D?W.j(ra(D)):W.done()}).next(()=>{for(;D;)o(D,null),D=g.hasNext()?g.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),wh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nu(e).W(IDBKeyRange.bound(u,d,!0)).next(g=>{let D=qi();for(const N of g){const V=this.jn(Vt.fromSegments(N.prefixPath.concat(N.collectionGroup,N.documentId)),N);D=D.insert(V.key,V)}return D})}getAllFromCollectionGroup(e,t,o,u){let d=qi();const g=Xf(t,o),D=Xf(t,Ds.max());return Nu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,D,!0)},(N,V,W)=>{const ue=this.jn(Vt.fromSegments(V.prefixPath.concat(V.collectionGroup,V.documentId)),V);d=d.insert(ue.key,ue),d.size===u&&W.done()}).next(()=>d)}newChangeBuffer(e){return new Yy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Jf(e).get("remoteDocumentGlobalKey").next(t=>(tn(!!t),t))}Qn(e,t){return Jf(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const o=function By(i,e){let t;if(e.document)t=vh(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Vt.fromSegments(e.noDocument.path),u=Vi(e.noDocument.readTime);t=Wr.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return sn();{const o=Vt.fromSegments(e.unknownDocument.path),u=Vi(e.unknownDocument.version);t=Wr.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new Gr(o[0],o[1]);return nn.fromTimestamp(u)}(e.readTime)),t}(this.It,t);if(!o.isNoDocument()||!o.version.isEqual(nn.min()))return o}return Wr.newInvalidDocument(e)}}function Jg(i){return new Qf(i)}class Yy extends Yf{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Jo(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new nr((d,g)=>jn(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const D=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,D.readTime)),g.isValidDocument()){const N=zf(this.Yn.It,g);u=u.add(d.path.popLast()),o+=ll(N)-D.size,t.push(this.Yn.addEntry(e,d,N))}else if(o-=D.size,this.trackRemovals){const N=zf(this.Yn.It,g.convertToNoDocument(nn.min()));t.push(this.Yn.addEntry(e,d,N))}}),u.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,o)),ze.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(o=>(this.Xn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:o,Jn:u})=>(u.forEach((d,g)=>{this.Xn.set(d,{size:g,readTime:o.get(d).readTime})}),o))}}function Jf(i){return hs(i,"remoteDocumentGlobal")}function Nu(i){return hs(i,"remoteDocumentsV14")}function ra(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Xf(i,e){const t=e.documentKey.path.toArray();return[i,wh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ep(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let d=0;d<t.length-2&&d<o.length-2;++d)if(u=jn(t[d],o[d]),u)return u;return u=jn(t.length,o.length),u||(u=jn(t[t.length-2],o[o.length-2]),u||jn(t[t.length-1],o[o.length-1]))}class Qy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Jy{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.getBaseDocument(e,t,o))).next(u=>(null!==o&&ac(o.mutation,u,E.empty(),Gr.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Kn()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Kn()){const u=Xo();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(d=>{let g=Cu();return d.forEach((D,N)=>{g=g.insert(D,N.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const o=Xo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Kn()))}populateOverlays(e,t,o){const u=[];return o.forEach(d=>{t.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((g,D)=>{t.set(g,D)})})}computeViews(e,t,o,u){let d=qi();const g=ea(),D=ea();return t.forEach((N,V)=>{const W=o.get(V.key);u.has(V.key)&&(void 0===W||W.mutation instanceof _o)?d=d.insert(V.key,V):void 0!==W&&(g.set(V.key,W.mutation.getFieldMask()),ac(W.mutation,V,W.mutation.getFieldMask(),Gr.now()))}),this.recalculateAndSaveOverlays(e,d).next(N=>(N.forEach((V,W)=>g.set(V,W)),t.forEach((V,W)=>{var ue;return D.set(V,new Qy(W,null!==(ue=g.get(V))&&void 0!==ue?ue:null))}),D))}recalculateAndSaveOverlays(e,t){const o=ea();let u=new zr((g,D)=>g-D),d=Kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const D of g)D.keys().forEach(N=>{const V=t.get(N);if(null===V)return;let W=o.get(N)||E.empty();W=D.applyToLocalView(V,W),o.set(N,W);const ue=(u.get(D.batchId)||Kn()).add(N);u=u.insert(D.batchId,ue)})}).next(()=>{const g=[],D=u.getReverseIterator();for(;D.hasNext();){const N=D.getNext(),V=N.key,W=N.value,ue=Nf();W.forEach(He=>{if(!d.has(He)){const at=Wc(t.get(He),o.get(He));null!==at&&ue.set(He,at),d=d.add(He)}}),g.push(this.documentOverlayCache.saveOverlays(e,V,ue))}return ze.waitFor(g)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Vt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):$c(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(d=>{const g=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-d.size):ze.resolve(Xo());let D=-1,N=d;return g.next(V=>ze.forEach(V,(W,ue)=>(D<ue.largestBatchId&&(D=ue.largestBatchId),d.get(W)?ze.resolve():this.getBaseDocument(e,W,ue).next(He=>{N=N.insert(W,He)}))).next(()=>this.populateOverlays(e,V,d)).next(()=>this.computeViews(e,N,V,Kn())).next(W=>({batchId:D,changes:mh(W)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Vt(t)).next(o=>{let u=Cu();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let d=Cu();return this.indexManager.getCollectionParents(e,u).next(g=>ze.forEach(g,D=>{const N=(V=t,W=D.child(u),new Ps(W,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt));var V,W;return this.getDocumentsMatchingCollectionQuery(e,N,o).next(V=>{V.forEach((W,ue)=>{d=d.insert(W,ue)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(d=>(u=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(d=>{d.forEach((D,N)=>{const V=N.getKey();null===u.get(V)&&(u=u.insert(V,Wr.newInvalidDocument(V)))});let g=Cu();return u.forEach((D,N)=>{const V=d.get(D);void 0!==V&&ac(V.mutation,N,E.empty(),Gr.now()),Gc(t,N)&&(g=g.insert(D,N))}),g})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):ze.resolve(Wr.newInvalidDocument(t))}}class Sh{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ze.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:ri(o.createTime)}),ze.resolve()}getNamedQuery(e,t){return ze.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(o=t).name,query:fs(o.bundledQuery),readTime:ri(o.readTime)}),ze.resolve();var o}}class Xy{constructor(){this.overlays=new zr(Vt.comparator),this.es=new Map}getOverlay(e,t){return ze.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Xo();return ze.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&o.set(u,d)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,d)=>{this.ue(e,t,d)}),ze.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(o)),ze.resolve()}getOverlaysForCollection(e,t,o){const u=Xo(),d=t.length+1,g=new Vt(t.child("")),D=this.overlays.getIteratorFrom(g);for(;D.hasNext();){const N=D.getNext().value,V=N.getKey();if(!t.isPrefixOf(V.path))break;V.path.length===d&&N.largestBatchId>o&&u.set(N.getKey(),N)}return ze.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let d=new zr((V,W)=>V-W);const g=this.overlays.getIterator();for(;g.hasNext();){const V=g.getNext().value;if(V.getKey().getCollectionGroup()===t&&V.largestBatchId>o){let W=d.get(V.largestBatchId);null===W&&(W=Xo(),d=d.insert(V.largestBatchId,W)),W.set(V.getKey(),V)}}const D=Xo(),N=d.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((V,W)=>D.set(V,W)),!(D.size()>=u)););return ze.resolve(D)}ue(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const g=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new sd(t,o));let d=this.es.get(t);void 0===d&&(d=Kn(),this.es.set(t,d)),this.es.set(t,d.add(o.key))}}class Mh{constructor(){this.ns=new nr(is.ss),this.rs=new nr(is.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const o=new is(e,t);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.cs(new is(e,t))}hs(e,t){e.forEach(o=>this.removeReference(o,t))}ls(e){const t=new Vt(new tr([])),o=new is(t,e),u=new is(t,e+1),d=[];return this.rs.forEachInRange([o,u],g=>{this.cs(g),d.push(g.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Vt(new tr([])),o=new is(t,e),u=new is(t,e+1);let d=Kn();return this.rs.forEachInRange([o,u],g=>{d=d.add(g.key)}),d}containsKey(e){const t=new is(e,0),o=this.ns.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class is{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Vt.comparator(e.key,t.key)||jn(e._s,t._s)}static os(e,t){return jn(e._s,t._s)||Vt.comparator(e.key,t.key)}}class Xg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new nr(is.ss)}checkEmpty(e){return ze.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const d=this.ws;this.ws++;const g=new Hf(d,t,o,u);this.mutationQueue.push(g);for(const D of u)this.gs=this.gs.add(new is(D.key,d)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return ze.resolve(g)}lookupMutationBatch(e,t){return ze.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),d=u<0?0:u;return ze.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new is(t,0),u=new is(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([o,u],g=>{const D=this.ys(g._s);d.push(D)}),ze.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new nr(jn);return t.forEach(u=>{const d=new is(u,0),g=new is(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,g],D=>{o=o.add(D._s)})}),ze.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let d=o;Vt.isDocumentKey(d)||(d=d.child(""));const g=new is(new Vt(d),0);let D=new nr(jn);return this.gs.forEachWhile(N=>{const V=N.key.path;return!!o.isPrefixOf(V)&&(V.length===u&&(D=D.add(N._s)),!0)},g),ze.resolve(this.Is(D))}Is(e){const t=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){tn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return ze.forEach(t.mutations,u=>{const d=new is(u.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,t){const o=new is(t,0),u=this.gs.firstAfterOrEqual(o);return ze.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return ze.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tp{constructor(e){this.Es=e,this.docs=new zr(Vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),d=u?u.size:0,g=this.Es(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return ze.resolve(o?o.document.mutableCopy():Wr.newInvalidDocument(t))}getEntries(e,t){let o=qi();return t.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():Wr.newInvalidDocument(u))}),ze.resolve(o)}getAllFromCollection(e,t,o){let u=qi();const d=new Vt(t.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:D,value:{document:N}}=g.getNext();if(!t.isPrefixOf(D.path))break;D.path.length>t.length+1||go(Qd(N),o)<=0||(u=u.insert(N.key,N.mutableCopy()))}return ze.resolve(u)}getAllFromCollectionGroup(e,t,o,u){sn()}As(e,t){return ze.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new em(this)}getSize(e){return ze.resolve(this.size)}}class em extends Yf{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),ze.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class xh{constructor(e){this.persistence=e,this.Rs=new Jo(t=>ro(t),Vc),this.lastRemoteSnapshotVersion=nn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Mh,this.targetCount=0,this.vs=Ou.Pn()}forEachTarget(e,t){return this.Rs.forEach((o,u)=>t(u)),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.bs&&(this.bs=t),ze.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ou(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ze.resolve()}updateTargetData(e,t){return this.Dn(t),ze.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,t,o){let u=0;const d=[];return this.Rs.forEach((g,D)=>{D.sequenceNumber<=t&&null===o.get(D.targetId)&&(this.Rs.delete(g),d.push(this.removeMatchingKeysForTargetId(e,D.targetId)),u++)}),ze.waitFor(d).next(()=>u)}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,t){const o=this.Rs.get(t)||null;return ze.resolve(o)}addMatchingKeys(e,t,o){return this.Ps.us(t,o),ze.resolve()}removeMatchingKeys(e,t,o){this.Ps.hs(t,o);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(g=>{d.push(u.markPotentiallyOrphaned(e,g))}),ze.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ze.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Ps.ds(t);return ze.resolve(o)}containsKey(e,t){return ze.resolve(this.Ps.containsKey(t))}}class ud{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new si(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new xh(this),this.indexManager=new H_,this.remoteDocumentCache=new tp(o=>this.referenceDelegate.xs(o)),this.It=new $g(t),this.Ns=new Sh(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Xy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Vs[e.toKey()];return o||(o=new Xg(t,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,o){vt("MemoryPersistence","Starting transaction:",e);const u=new tm(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(d=>this.referenceDelegate.Ms(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Os(e,t){return ze.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,t)))}}class tm extends Jd{constructor(e){super(),this.currentSequenceNumber=e}}class fl{constructor(e){this.persistence=e,this.Fs=new Mh,this.$s=null}static Bs(e){return new fl(e)}get Ls(){if(this.$s)return this.$s;throw sn()}addReference(e,t,o){return this.Fs.addReference(o,t),this.Ls.delete(o.toString()),ze.resolve()}removeReference(e,t,o){return this.Fs.removeReference(o,t),this.Ls.add(o.toString()),ze.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ze.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.Ls.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.Ls,o=>{const u=Vt.fromPath(o);return this.Us(e,u).next(d=>{d||t.removeEntry(u,nn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(o=>{o?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ze.or([()=>ze.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class nm{constructor(e){this.It=e}$(e,t,o,u){const d=new fu("createOrUpgrade",t);var D;o<1&&u>=1&&(e.createObjectStore("owner"),(D=e).createObjectStore("mutationQueues",{keyPath:"userId"}),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pc,{unique:!0}),D.createObjectStore("documentMutations"),Oh(e),function(D){D.createObjectStore("remoteDocuments")}(e));let g=ze.resolve();return o<3&&u>=3&&(0!==o&&(function(D){D.deleteObjectStore("targetDocuments"),D.deleteObjectStore("targets"),D.deleteObjectStore("targetGlobal")}(e),Oh(e)),g=g.next(()=>function(D){const N=D.store("targetGlobal"),V={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nn.min().toTimestamp(),targetCount:0};return N.put("targetGlobalKey",V)}(d))),o<4&&u>=4&&(0!==o&&(g=g.next(()=>function(D,N){return N.store("mutations").W().next(V=>{D.deleteObjectStore("mutations"),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pc,{unique:!0});const W=N.store("mutations"),ue=V.map(He=>W.put(He));return ze.waitFor(ue)})}(e,d))),g=g.next(()=>{!function(D){D.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(g=g.next(()=>this.qs(d))),o<6&&u>=6&&(g=g.next(()=>(function(D){D.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),o<7&&u>=7&&(g=g.next(()=>this.Gs(d))),o<8&&u>=8&&(g=g.next(()=>this.Qs(e,d))),o<9&&u>=9&&(g=g.next(()=>{!function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(g=g.next(()=>this.js(d))),o<11&&u>=11&&(g=g.next(()=>{(function(D){D.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(D){D.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(g=g.next(()=>{!function(D){const N=D.createObjectStore("documentOverlays",{keyPath:Bf});N.createIndex("collectionPathOverlayIndex",Vy,{unique:!1}),N.createIndex("collectionGroupOverlayIndex",jf,{unique:!1})}(e)})),o<13&&u>=13&&(g=g.next(()=>function(D){const N=D.createObjectStore("remoteDocumentsV14",{keyPath:Ff});N.createIndex("documentKeyIndex",Eh),N.createIndex("collectionGroupIndex",Lf)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(g=g.next(()=>this.zs(e,d))),o<15&&u>=15&&(g=g.next(()=>function(D){D.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),D.createObjectStore("indexState",{keyPath:Uf}).createIndex("sequenceNumberIndex",Fg,{unique:!1}),D.createObjectStore("indexEntries",{keyPath:Lg}).createIndex("documentKeyIndex",Vg,{unique:!1})}(e))),g}Ks(e){let t=0;return e.store("remoteDocuments").Z((o,u)=>{t+=ll(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.W().next(u=>ze.forEach(u,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",g).next(D=>ze.forEach(D,N=>{tn(N.userId===d.userId);const V=Ja(this.It,N);return Zg(e,d.userId,V).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return o.Z((g,D)=>{const N=new tr(g),V=[0,Jr(N)];d.push(t.get(V).next(W=>W?ze.resolve():t.put({targetId:0,path:Jr(N),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>ze.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:kg});const o=t.store("collectionParents"),u=new Ch,d=g=>{if(u.add(g)){const D=g.lastSegment(),N=g.popLast();return o.put({collectionId:D,parent:Jr(N)})}};return t.store("remoteDocuments").Z({X:!0},(g,D)=>{const N=new tr(g);return d(N.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([g,D,N],V)=>{const W=so(D);return d(W.popLast())}))}js(e){const t=e.store("targets");return t.Z((o,u)=>{const d=al(u),g=Dh(this.It,d);return t.put(g)})}Ws(e,t){const o=t.store("remoteDocuments"),u=[];return o.Z((d,g)=>{const D=t.store("remoteDocumentsV14"),N=(V=g,V.document?new Vt(tr.fromString(V.document.name).popFirst(5)):V.noDocument?Vt.fromSegments(V.noDocument.path):V.unknownDocument?Vt.fromSegments(V.unknownDocument.path):sn()).path.toArray();var V;const W={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};u.push(D.put(W))}).next(()=>ze.waitFor(u))}zs(e,t){const o=t.store("mutations"),u=Jg(this.It),d=new ud(fl.Bs,this.It.re);return o.W().next(g=>{const D=new Map;return g.forEach(N=>{var V;let W=null!==(V=D.get(N.userId))&&void 0!==V?V:Kn();Ja(this.It,N).keys().forEach(ue=>W=W.add(ue)),D.set(N.userId,W)}),ze.forEach(D,(N,V)=>{const W=new hi(V),ue=od.oe(this.It,W),He=d.getIndexManager(W),at=dl.oe(W,this.It,He,d.referenceDelegate);return new Jy(u,at,ue,He).recalculateAndSaveOverlaysForDocumentKeys(new $f(t,si.at),N).next()})})}}function Oh(i){i.createObjectStore("targetDocuments",{keyPath:Ih}).createIndex("documentTargetsIndex",Vf,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ng,{unique:!0}),i.createObjectStore("targetGlobal")}const Ec="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class np{constructor(e,t,o,u,d,g,D,N,V,W,ue=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Hs=d,this.window=g,this.document=D,this.Js=V,this.Ys=W,this.Xs=ue,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=He=>Promise.resolve(),!np.C())throw new mt(Ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qg(this,u),this.ii=t+"main",this.It=new $g(N),this.ri=new to(this.ii,this.Xs,new nm(this.It)),this.Cs=new Wy(this.referenceDelegate,this.It),this.remoteDocumentCache=Jg(this.It),this.Ns=new jy,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===W&&Qr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new mt(Ye.FAILED_PRECONDITION,Ec);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new si(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var o=(0,X.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,X.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,X.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ls(e))return vt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return vt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return pl(e).get("owner").next(t=>ze.resolve(this.mi(t)))}gi(e){return Rh(e).delete(this.clientId)}yi(){var e=this;return(0,X.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=hs(o,"clientMetadata");return u.W().next(d=>{const g=e.Ii(d,18e5),D=d.filter(N=>-1===g.indexOf(N));return ze.forEach(D,N=>u.delete(N.clientId)).next(()=>D)})}).catch(()=>[]);if(e.oi)for(const o of t)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ze.resolve(!0):pl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new mt(Ye.FAILED_PRECONDITION,Ec);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rh(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>{if(this.clientId!==u.clientId){const g=!this.inForeground&&u.inForeground,D=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||g&&D)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&vt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,X.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new $f(t,si.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(o=>this.pi(o.updateTimeMs,t)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Rh(e).W().next(t=>this.Ii(t,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return dl.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ba(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return od.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,o){vt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",d=15===(g=this.Xs)?jg:14===g?Bg:13===g?Ug:12===g?Uy:11===g?ol:void sn();var g;let D;return this.ri.runTransaction(e,u,d,N=>(D=new $f(N,this.Ss?this.Ss.next():si.at),"readwrite-primary"===t?this.fi(D).next(V=>!!V||this.di(D)).next(V=>{if(!V)throw Qr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new mt(Ye.FAILED_PRECONDITION,Qu);return o(D)}).next(V=>this.wi(D).next(()=>V)):this.Vi(D).next(()=>o(D)))).then(N=>(D.raiseOnCommittedEvent(),N))}Vi(e){return pl(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new mt(Ye.FAILED_PRECONDITION,Ec)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pl(e).put("owner",t)}static C(){return to.C()}_i(e){const t=pl(e);return t.get("owner").next(o=>this.mi(o)?(vt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ze.resolve())}pi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Qr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ve.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const o=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return vt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Qr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Qr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function pl(i){return hs(i,"owner")}function Rh(i){return hs(i,"clientMetadata")}function rp(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Ph{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Si=o,this.Di=u}static Ci(e,t){let o=Kn(),u=Kn();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Ph(e,t.fromCache,o,u)}}class Nh{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,o,u){return this.ki(e,t).next(d=>d||this.Mi(e,t,u,o)).next(d=>d||this.Oi(e,t))}ki(e,t){if(xf(t))return ze.resolve(null);let o=bs(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=Za(t,null,"F"),o=bs(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const g=Kn(...d);return this.Ni.getDocuments(e,g).next(D=>this.indexManager.getMinOffset(e,o).next(N=>{const V=this.Fi(t,D);return this.$i(t,V,g,N.readTime)?this.ki(e,Za(t,null,"F")):this.Bi(e,V,t,N)}))})))}Mi(e,t,o,u){return xf(t)||u.isEqual(nn.min())?this.Oi(e,t):this.Ni.getDocuments(e,o).next(d=>{const g=this.Fi(t,d);return this.$i(t,g,o,u)?this.Oi(e,t):(ha()<=Et.in.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Wl(t)),this.Bi(e,g,t,Cr(u,-1)))})}Fi(e,t){let o=new nr(vo(e));return t.forEach((u,d)=>{Gc(e,d)&&(o=o.add(d))}),o}$i(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Oi(e,t){return ha()<=Et.in.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",Wl(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ds.min())}Bi(e,t,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(d=>(t.forEach(g=>{d=d.insert(g.key,g)}),d))}}class rm{constructor(e,t,o,u){this.persistence=e,this.Li=t,this.It=u,this.Ui=new zr(jn),this.qi=new Jo(d=>ro(d),Vc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jy(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function ev(i,e,t,o){return new rm(i,e,t,o)}function ip(i,e){return sp.apply(this,arguments)}function sp(){return sp=(0,X.Z)(function*(i,e){const t=jt(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(d=>(u=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(o))).next(d=>{const g=[],D=[];let N=Kn();for(const V of u){g.push(V.batchId);for(const W of V.mutations)N=N.add(W.key)}for(const V of d){D.push(V.batchId);for(const W of V.mutations)N=N.add(W.key)}return t.localDocuments.getDocuments(o,N).next(V=>({ji:V,removedBatchIds:g,addedBatchIds:D}))})})}),sp.apply(this,arguments)}function im(i,e){const t=jt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(g,D,N,V){const W=N.batch,ue=W.keys();let He=ze.resolve();return ue.forEach(at=>{He=He.next(()=>V.getEntry(D,at)).next(ft=>{const Wt=N.docVersions.get(at);tn(null!==Wt),ft.version.compareTo(Wt)<0&&(W.applyToRemoteDocument(ft,N),ft.isValidDocument()&&(ft.setReadTime(N.commitVersion),V.addEntry(ft)))})}),He.next(()=>g.mutationQueue.removeMutationBatch(D,W))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(g){let D=Kn();for(let N=0;N<g.mutationResults.length;++N)g.mutationResults[N].transformResults.length>0&&(D=D.add(g.batch.mutations[N].key));return D}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}function sm(i){const e=jt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function tv(i,e){const t=jt(i),o=e.snapshotVersion;let u=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.Ui;const D=[];e.targetChanges.forEach((W,ue)=>{const He=u.get(ue);if(!He)return;D.push(t.Cs.removeMatchingKeys(d,W.removedDocuments,ue).next(()=>t.Cs.addMatchingKeys(d,W.addedDocuments,ue)));let at=He.withSequenceNumber(d.currentSequenceNumber);var ft,Wt,fn;e.targetMismatches.has(ue)?at=at.withResumeToken(C.EMPTY_BYTE_STRING,nn.min()).withLastLimboFreeSnapshotVersion(nn.min()):W.resumeToken.approximateByteSize()>0&&(at=at.withResumeToken(W.resumeToken,o)),u=u.insert(ue,at),Wt=at,fn=W,(0===(ft=He).resumeToken.approximateByteSize()||Wt.snapshotVersion.toMicroseconds()-ft.snapshotVersion.toMicroseconds()>=3e8||fn.addedDocuments.size+fn.modifiedDocuments.size+fn.removedDocuments.size>0)&&D.push(t.Cs.updateTargetData(d,at))});let N=qi(),V=Kn();if(e.documentUpdates.forEach(W=>{e.resolvedLimboDocuments.has(W)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(d,W))}),D.push(Uo(d,g,e.documentUpdates).next(W=>{N=W.Wi,V=W.zi})),!o.isEqual(nn.min())){const W=t.Cs.getLastRemoteSnapshotVersion(d).next(ue=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,o));D.push(W)}return ze.waitFor(D).next(()=>g.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,N,V)).next(()=>N)}).then(d=>(t.Ui=u,d))}function Uo(i,e,t){let o=Kn(),u=Kn();return t.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let g=qi();return t.forEach((D,N)=>{const V=d.get(D);N.isFoundDocument()!==V.isFoundDocument()&&(u=u.add(D)),N.isNoDocument()&&N.version.isEqual(nn.min())?(e.removeEntry(D,N.readTime),g=g.insert(D,N)):!V.isValidDocument()||N.version.compareTo(V.version)>0||0===N.version.compareTo(V.version)&&V.hasPendingWrites?(e.addEntry(N),g=g.insert(D,N)):vt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",V.version," Watch version:",N.version)}),{Wi:g,zi:u}})}function nv(i,e){const t=jt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Ic(i,e){const t=jt(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Cs.getTargetData(o,e).next(d=>d?(u=d,ze.resolve(u)):t.Cs.allocateTargetId(o).next(g=>(u=new Mu(e,g,0,o.currentSequenceNumber),t.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function gl(i,e,t){return op.apply(this,arguments)}function op(){return op=(0,X.Z)(function*(i,e,t){const o=jt(i),u=o.Ui.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,g=>o.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!ls(g))throw g;vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),op.apply(this,arguments)}function kh(i,e,t){const o=jt(i);let u=nn.min(),d=Kn();return o.persistence.runTransaction("Execute query","readonly",g=>function(D,N,V){const W=jt(D),ue=W.qi.get(V);return void 0!==ue?ze.resolve(W.Ui.get(ue)):W.Cs.getTargetData(N,V)}(o,g,bs(e)).next(D=>{if(D)return u=D.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(g,D.targetId).next(N=>{d=N})}).next(()=>o.Li.getDocumentsMatchingQuery(g,e,t?u:nn.min(),t?d:Kn())).next(D=>(am(o,ch(e),D),{documents:D,Hi:d})))}function om(i,e){const t=jt(i),o=jt(t.Cs),u=t.Ui.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",d=>o.se(d,e).next(g=>g?g.target:null))}function ap(i,e){const t=jt(i),o=t.Ki.get(e)||nn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Gi.getAllFromCollectionGroup(u,e,Cr(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(am(t,e,u),u))}function am(i,e,t){let o=nn.min();t.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Ki.set(e,o)}function up(){return up=(0,X.Z)(function*(i,e,t,o){const u=jt(i);let d=Kn(),g=qi();for(const V of t){const W=e.Ji(V.metadata.name);V.document&&(d=d.add(W));const ue=e.Yi(V);ue.setReadTime(e.Xi(V.metadata.readTime)),g=g.insert(W,ue)}const D=u.Gi.newChangeBuffer({trackRemovals:!0}),N=yield Ic(u,(V=o,bs(yu(tr.fromString(`__bundle__/docs/${V}`)))));var V;return u.persistence.runTransaction("Apply bundle documents","readwrite",V=>Uo(V,D,g).next(W=>(D.apply(V),W)).next(W=>u.Cs.removeMatchingKeysForTargetId(V,N.targetId).next(()=>u.Cs.addMatchingKeys(V,d,N.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(V,W.Wi,W.zi)).next(()=>W.Wi)))}),up.apply(this,arguments)}function rr(i,e){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,X.Z)(function*(i,e,t=Kn()){const o=yield Ic(i,bs(fs(e.bundledQuery))),u=jt(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const g=ri(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return u.Ns.saveNamedQuery(d,e);const D=o.withResumeToken(C.EMPTY_BYTE_STRING,g);return u.Ui=u.Ui.insert(D.targetId,D),u.Cs.updateTargetData(d,D).next(()=>u.Cs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>u.Cs.addMatchingKeys(d,t,o.targetId)).next(()=>u.Ns.saveNamedQuery(d,e))})}),Fh.apply(this,arguments)}function cp(i,e){return`firestore_clients_${i}_${e}`}function lp(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function dp(i,e){return`firestore_targets_${i}_${e}`}class Lh{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Zi(e,t,o){const u=JSON.parse(o);let d,g="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return g&&u.error&&(g="string"==typeof u.error.message&&"string"==typeof u.error.code,g&&(d=new mt(u.error.code,u.error.message))),g?new Lh(e,t,u.state,d):(Qr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ml{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let u,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new mt(o.error.code,o.error.message))),d?new ml(e,o.state,u):(Qr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,d=Jc();for(let g=0;u&&g<o.activeTargetIds.length;++g)u=no(o.activeTargetIds[g]),d=d.add(o.activeTargetIds[g]);return u?new Vh(e,d):(Qr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Uh{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Uh(t.clientId,t.onlineState):(Qr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class hp{constructor(){this.activeTargetIds=Jc()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fp{constructor(e,t,o,u,d){this.window=e,this.Hs=t,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new zr(jn),this.started=!1,this.cr=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=cp(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new hp),this.lr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(D){return`firestore_bundle_loaded_v2_${D}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,X.Z)(function*(){const t=yield e.syncEngine.vi();for(const u of t){if(u===e.sr)continue;const d=e.getItem(cp(e.persistenceKey,u));if(d){const g=Vh.Zi(u,d);g&&(e.ur=e.ur.insert(g.clientId,g))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,o){this.Tr(e,t,o),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(dp(this.persistenceKey,e));if(o){const u=ml.Zi(e,o);u&&(t=u.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dp(this.persistenceKey,e))}updateQueryState(e,t,o){this.Rr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return vt("SharedClientState","READ",e,t),t}setItem(e,t){vt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){vt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(vt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void Qr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,X.Z)(function*(){if(t.started){if(null!==o.key)if(t.lr.test(o.key)){if(null==o.newValue){const u=t.vr(o.key);return t.Vr(u,null)}{const u=t.Sr(o.key,o.newValue);if(u)return t.Vr(u.clientId,u)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const u=t.Dr(o.key,o.newValue);if(u)return t.Cr(u)}}else if(t._r.test(o.key)){if(null!==o.newValue){const u=t.Nr(o.key,o.newValue);if(u)return t.kr(u)}}else if(o.key===t.wr){if(null!==o.newValue){const u=t.yr(o.newValue);if(u)return t.pr(u)}}else if(o.key===t.hr){const u=function(d){let g=si.at;if(null!=d)try{const D=JSON.parse(d);tn("number"==typeof D),g=D}catch(D){Qr("SharedClientState","Failed to read sequence number from WebStorage",D)}return g}(o.newValue);u!==si.at&&t.sequenceNumberHandler(u)}else if(o.key===t.mr){const u=t.Mr(o.newValue);yield Promise.all(u.map(d=>t.syncEngine.Or(d)))}}else t.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,o){const u=new Lh(this.currentUser,e,t,o),d=lp(this.persistenceKey,this.currentUser,e);this.setItem(d,u.tr())}Er(e){const t=lp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,o){const u=dp(this.persistenceKey,e),d=new ml(e,t,o);this.setItem(u,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const o=this.vr(e);return Vh.Zi(o,t)}Dr(e,t){const o=this.dr.exec(e),u=Number(o[1]);return Lh.Zi(new hi(void 0!==o[2]?o[2]:null),u,t)}Nr(e,t){const o=this._r.exec(e),u=Number(o[1]);return ml.Zi(u,t)}yr(e){return Uh.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,X.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);vt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const o=t?this.ur.insert(e,t):this.ur.remove(e),u=this.Ir(this.ur),d=this.Ir(o),g=[],D=[];return d.forEach(N=>{u.has(N)||g.push(N)}),u.forEach(N=>{d.has(N)||D.push(N)}),this.syncEngine.Br(g,D).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Jc();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class iv{constructor(){this.Lr=new hp,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,o){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new hp,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class um{qr(e){}shutdown(){}}class pp{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class sv{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class gp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,o,u,d){const g=this.ao(e,t);vt("RestConnection","Sending: ",g,o);const D={};return this.ho(D,u,d),this.lo(e,g,D,o).then(N=>(vt("RestConnection","Received: ",N),N),N=>{throw fa("RestConnection",`${e} failed with error: `,N,"url: ",g,"request:",o),N})}fo(e,t,o,u,d,g){return this.co(e,t,o,u,d)}ho(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+xo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ao(e,t){return`${this.oo}/v1/${t}:${wc[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,o,u){return new Promise((d,g)=>{const D=new lu;D.listenOnce(jl.COMPLETE,()=>{try{switch(D.getLastErrorCode()){case Zu.NO_ERROR:const V=D.getResponseJson();vt("Connection","XHR received:",JSON.stringify(V)),d(V);break;case Zu.TIMEOUT:vt("Connection",'RPC "'+e+'" timed out'),g(new mt(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const W=D.getStatus();if(vt("Connection",'RPC "'+e+'" failed with status:',W,"response text:",D.getResponseText()),W>0){const ue=D.getResponseJson().error;if(ue&&ue.status&&ue.message){const He=function(at){const ft=at.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(ft)>=0?ft:Ye.UNKNOWN}(ue.status);g(new mt(He,ue.message))}else g(new mt(Ye.UNKNOWN,"Server responded with status "+D.getStatus()))}else g(new mt(Ye.UNAVAILABLE,"Connection failed."));break;default:sn()}}finally{vt("Connection",'RPC "'+e+'" completed.')}});const N=JSON.stringify(u);D.send(t,"POST",N,o,15)})}_o(e,t,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Pa(),g=Ku(),D={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(D.xmlHttpFactory=new Na({})),this.ho(D.initMessageHeaders,t,o),D.encodeInitMessageHeaders=!0;const N=u.join("");vt("Connection","Creating WebChannel: "+N,D);const V=d.createWebChannel(N,D);let W=!1,ue=!1;const He=new sv({Hr:ft=>{ue?vt("Connection","Not sending because WebChannel is closed:",ft):(W||(vt("Connection","Opening WebChannel transport."),V.open(),W=!0),vt("Connection","WebChannel sending:",ft),V.send(ft))},Jr:()=>V.close()}),at=(ft,Wt,fn)=>{ft.listen(Wt,vr=>{try{fn(vr)}catch(Xr){setTimeout(()=>{throw Xr},0)}})};return at(V,Mo.EventType.OPEN,()=>{ue||vt("Connection","WebChannel transport opened.")}),at(V,Mo.EventType.CLOSE,()=>{ue||(ue=!0,vt("Connection","WebChannel transport closed"),He.io())}),at(V,Mo.EventType.ERROR,ft=>{ue||(ue=!0,fa("Connection","WebChannel transport errored:",ft),He.io(new mt(Ye.UNAVAILABLE,"The operation could not be completed")))}),at(V,Mo.EventType.MESSAGE,ft=>{var Wt;if(!ue){const fn=ft.data[0];tn(!!fn);const vr=fn,Xr=vr.error||(null===(Wt=vr[0])||void 0===Wt?void 0:Wt.error);if(Xr){vt("Connection","WebChannel received error:",Xr);const Vr=Xr.status;let Ii=function(Ur){const Ji=lr[Ur];if(void 0!==Ji)return qc(Ji)}(Vr),br=Xr.message;void 0===Ii&&(Ii=Ye.INTERNAL,br="Unknown error status: "+Vr+" with message "+Xr.message),ue=!0,He.io(new mt(Ii,br)),V.close()}else vt("Connection","WebChannel received:",fn),He.ro(fn)}}),at(g,Pc.STAT_EVENT,ft=>{ft.stat===qu.PROXY?vt("Connection","Detected buffering proxy"):ft.stat===qu.NOPROXY&&vt("Connection","Detected no buffering proxy")}),setTimeout(()=>{He.so()},0),He}}function Bh(){return typeof window<"u"?window:null}function jh(){return typeof document<"u"?document:null}function $h(i){return new Eo(i,!0)}class cm{constructor(e,t,o=1e3,u=1.5,d=6e4){this.Hs=e,this.timerId=t,this.wo=o,this.mo=u,this.yo=d,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),u=Math.max(0,t-o);u>0&&vt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class ov{constructor(e,t,o,u,d,g,D,N){this.Hs=e,this.Po=o,this.vo=u,this.Vo=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=D,this.listener=N,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new cm(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,X.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,X.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var o=this;return(0,X.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():t&&t.code===Ye.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),o.xo.Eo()):t&&t.code===Ye.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===t&&this.Go(o,u)},o=>{e(()=>{const u=new mt(Ye.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,t){const o=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,X.Z)(function*(){e.state=0,e.start()}))}Qo(e){return vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class av extends ov{constructor(e,t,o,u,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,g),this.It=d}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function kf(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(N=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===N?1:"REMOVE"===N?2:"CURRENT"===N?3:"RESET"===N?4:sn(),u=e.targetChange.targetIds||[],d=function(N,V){return N.gt?(tn(void 0===V||"string"==typeof V),C.fromBase64String(V||"")):(tn(void 0===V||V instanceof Uint8Array),C.fromUint8Array(V||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,D=g&&function(N){const V=void 0===N.code?Ye.UNKNOWN:qc(N.code);return new mt(V,N.message||"")}(g);t=new Jl(o,u,d,D||null)}else if("documentChange"in e){const o=e.documentChange,u=io(i,o.document.name),d=ri(o.document.updateTime),g=new Mi({mapValue:{fields:o.document.fields}}),D=Wr.newFoundDocument(u,d,g);t=new Yi(o.targetIds||[],o.removedTargetIds||[],D.key,D)}else if("documentDelete"in e){const o=e.documentDelete,u=io(i,o.document),d=o.readTime?ri(o.readTime):nn.min(),g=Wr.newNoDocument(u,d);t=new Yi([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,u=io(i,o.document);t=new Yi([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return sn();{const o=e.filter,d=new Rf(o.count||0);t=new lc(o.targetId,d)}}var N;return t}(this.It,e),o=function(u){if(!("targetChange"in u))return nn.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?nn.min():d.readTime?ri(d.readTime):nn.min()}(e);return this.listener.Wo(t,o)}zo(e){const t={};t.database=ta(this.It),t.addTarget=function(u,d){let g;const D=d.target;return g=tc(D)?{documents:m(u,D)}:{query:l(u,D)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=tl(u,d.resumeToken):d.snapshotVersion.compareTo(nn.min())>0&&(g.readTime=Tu(u,d.snapshotVersion.toTimestamp())),g}(this.It,e);const o=function I(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return sn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Bo(t)}Ho(e){const t={};t.database=ta(this.It),t.removeTarget=e,this.Bo(t)}}class lm extends ov{constructor(e,t,o,u,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,g),this.It=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function _h(i,e){return i&&i.length>0?(tn(void 0!==e),i.map(t=>function(o,u){let d=ri(o.updateTime?o.updateTime:u);return d.isEqual(nn.min())&&(d=ri(u)),new hh(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=ri(e.commitTime);return this.listener.Zo(o,t)}return tn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ta(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Au(this.It,o))};this.Bo(t)}}class G_ extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=o,this.It=u,this.nu=!1}su(){if(this.nu)throw new mt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.Vo.co(e,t,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt(Ye.UNKNOWN,u.toString())})}fo(e,t,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.Vo.fo(e,t,o,d,g,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new mt(Ye.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class uv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Qr(t),this.ou=!1):vt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class yl{constructor(e,t,o,u,d){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.qr(D=>{o.enqueueAndForget((0,X.Z)(function*(){var N;eu(g)&&(vt("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,X.Z)(function*(V){const W=jt(V);W._u.add(4),yield Xa(W),W.gu.set("Unknown"),W._u.delete(4),yield cd(W)}),function(V){return N.apply(this,arguments)})(g))}))}),this.gu=new uv(o,u)}}function cd(i){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,X.Z)(function*(i){if(eu(i))for(const e of i.wu)yield e(!0)}),Hh.apply(this,arguments)}function Xa(i){return mp.apply(this,arguments)}function mp(){return mp=(0,X.Z)(function*(i){for(const e of i.wu)yield e(!1)}),mp.apply(this,arguments)}function ld(i,e){const t=jt(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),_p(t)?vp(t):vd(t).ko()&&yp(t,e))}function dd(i,e){const t=jt(i),o=vd(t);t.du.delete(e),o.ko()&&dm(t,e),0===t.du.size&&(o.ko()?o.Fo():eu(t)&&t.gu.set("Unknown"))}function yp(i,e){i.yu.Ot(e.targetId),vd(i).zo(e)}function dm(i,e){i.yu.Ot(e),vd(i).Ho(e)}function vp(i){i.yu=new el({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),vd(i).start(),i.gu.uu()}function _p(i){return eu(i)&&!vd(i).No()&&i.du.size>0}function eu(i){return 0===jt(i)._u.size}function hm(i){i.yu=void 0}function fm(i){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,X.Z)(function*(i){i.du.forEach((e,t)=>{yp(i,e)})}),Gh.apply(this,arguments)}function Ep(i,e){return pm.apply(this,arguments)}function pm(){return pm=(0,X.Z)(function*(i,e){hm(i),_p(i)?(i.gu.hu(e),vp(i)):i.gu.set("Unknown")}),pm.apply(this,arguments)}function Ip(i,e,t){return wp.apply(this,arguments)}function wp(){return wp=(0,X.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Jl&&2===e.state&&e.cause)try{yield(o=(0,X.Z)(function*(u,d){const g=d.cause;for(const D of d.targetIds)u.du.has(D)&&(yield u.remoteSyncer.rejectListen(D,g),u.du.delete(D),u.yu.removeTarget(D))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Dp(i,o)}else if(e instanceof Yi?i.yu.Gt(e):e instanceof lc?i.yu.Yt(e):i.yu.Wt(e),!t.isEqual(nn.min()))try{const o=yield sm(i.localStore);t.compareTo(o)>=0&&(yield function(u,d){const g=u.yu.te(d);return g.targetChanges.forEach((D,N)=>{if(D.resumeToken.approximateByteSize()>0){const V=u.du.get(N);V&&u.du.set(N,V.withResumeToken(D.resumeToken,d))}}),g.targetMismatches.forEach(D=>{const N=u.du.get(D);if(!N)return;u.du.set(D,N.withResumeToken(C.EMPTY_BYTE_STRING,N.snapshotVersion)),dm(u,D);const V=new Mu(N.target,D,1,N.sequenceNumber);yp(u,V)}),u.remoteSyncer.applyRemoteEvent(g)}(i,t))}catch(o){vt("RemoteStore","Failed to raise snapshot:",o),yield Dp(i,o)}var o}),wp.apply(this,arguments)}function Dp(i,e,t){return ku.apply(this,arguments)}function ku(){return ku=(0,X.Z)(function*(i,e,t){if(!ls(e))throw e;i._u.add(1),yield Xa(i),i.gu.set("Offline"),t||(t=()=>sm(i.localStore)),i.asyncQueue.enqueueRetryable((0,X.Z)(function*(){vt("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield cd(i)}))}),ku.apply(this,arguments)}function Cp(i,e){return e().catch(t=>Dp(i,t,e))}function Dc(i){return vl.apply(this,arguments)}function vl(){return vl=(0,X.Z)(function*(i){const e=jt(i),t=Fu(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;ia(e);)try{const u=yield nv(e.localStore,o);if(null===u){0===e.fu.length&&t.Fo();break}o=u.batchId,gm(e,u)}catch(u){yield Dp(e,u)}mm(e)&&zh(e)}),vl.apply(this,arguments)}function ia(i){return eu(i)&&i.fu.length<10}function gm(i,e){i.fu.push(e);const t=Fu(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function mm(i){return eu(i)&&!Fu(i).No()&&i.fu.length>0}function zh(i){Fu(i).start()}function tu(i){return hd.apply(this,arguments)}function hd(){return hd=(0,X.Z)(function*(i){Fu(i).eu()}),hd.apply(this,arguments)}function ym(i){return fd.apply(this,arguments)}function fd(){return fd=(0,X.Z)(function*(i){const e=Fu(i);for(const t of i.fu)e.Xo(t.mutations)}),fd.apply(this,arguments)}function z_(i,e,t){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,X.Z)(function*(i,e,t){const o=i.fu.shift(),u=Gf.from(o,e,t);yield Cp(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Dc(i)}),Wh.apply(this,arguments)}function W_(i,e){return _l.apply(this,arguments)}function _l(){return _l=(0,X.Z)(function*(i,e){var t;e&&Fu(i).Yo&&(yield(t=(0,X.Z)(function*(o,u){if(ph(d=u.code)&&d!==Ye.ABORTED){const g=o.fu.shift();Fu(o).Oo(),yield Cp(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,u)),yield Dc(o)}var d}),function(o,u){return t.apply(this,arguments)})(i,e)),mm(i)&&zh(i)}),_l.apply(this,arguments)}function pd(i,e){return gd.apply(this,arguments)}function gd(){return gd=(0,X.Z)(function*(i,e){const t=jt(i);t.asyncQueue.verifyOperationInProgress(),vt("RemoteStore","RemoteStore received new credentials");const o=eu(t);t._u.add(3),yield Xa(t),o&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield cd(t)}),gd.apply(this,arguments)}function md(i,e){return yd.apply(this,arguments)}function yd(){return yd=(0,X.Z)(function*(i,e){const t=jt(i);e?(t._u.delete(2),yield cd(t)):e||(t._u.add(2),yield Xa(t),t.gu.set("Unknown"))}),yd.apply(this,arguments)}function vd(i){return i.pu||(i.pu=function(e,t,o){const u=jt(e);return u.su(),new av(t,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:fm.bind(null,i),Zr:Ep.bind(null,i),Wo:Ip.bind(null,i)}),i.wu.push(function(){var e=(0,X.Z)(function*(t){t?(i.pu.Oo(),_p(i)?vp(i):i.gu.set("Unknown")):(yield i.pu.stop(),hm(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function Fu(i){return i.Iu||(i.Iu=function(e,t,o){const u=jt(e);return u.su(),new lm(t,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:tu.bind(null,i),Zr:W_.bind(null,i),tu:ym.bind(null,i),Zo:z_.bind(null,i)}),i.wu.push(function(){var e=(0,X.Z)(function*(t){t?(i.Iu.Oo(),yield Dc(i)):(yield i.Iu.stop(),i.fu.length>0&&(vt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class bp{constructor(e,t,o,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,o,u,d){const g=Date.now()+o,D=new bp(e,t,g,u,d);return D.start(o),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mt(Ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function El(i,e){if(Qr("AsyncQueue",`${e}: ${i}`),ls(i))return new mt(Ye.UNAVAILABLE,`${e}: ${i}`);throw i}class Il{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Vt.comparator(t.key,o.key):(t,o)=>Vt.comparator(t.key,o.key),this.keyedMap=Cu(),this.sortedSet=new zr(this.comparator)}static emptySet(e){return new Il(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Il)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Il;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Tp{constructor(){this.Tu=new zr(Vt.comparator)}track(e){const t=e.doc.key,o=this.Tu.get(t);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(t):1===e.type&&2===o.type?this.Tu=this.Tu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):sn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,o)=>{e.push(o)}),e}}class _d{constructor(e,t,o,u,d,g,D,N){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=D,this.excludesMetadataChanges=N}static fromInitialDocuments(e,t,o,u){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new _d(e,t,Il.emptySet(t),d,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class cv{constructor(){this.Au=void 0,this.listeners=[]}}class K_{constructor(){this.queries=new Jo(e=>Hc(e),ic),this.onlineState="Unknown",this.Ru=new Set}}function Kh(i,e){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,X.Z)(function*(i,e){const t=jt(i),o=e.query;let u=!1,d=t.queries.get(o);if(d||(u=!0,d=new cv),u)try{d.Au=yield t.onListen(o)}catch(g){const D=El(g,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(D)}t.queries.set(o,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&vm(t)}),Zh.apply(this,arguments)}function Ap(i,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,X.Z)(function*(i,e){const t=jt(i),o=e.query;let u=!1;const d=t.queries.get(o);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),u=0===d.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),Ed.apply(this,arguments)}function Z_(i,e){const t=jt(i);let o=!1;for(const u of e){const g=t.queries.get(u.query);if(g){for(const D of g.listeners)D.Pu(u)&&(o=!0);g.Au=u}}o&&vm(t)}function q_(i,e,t){const o=jt(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);o.queries.delete(e)}function vm(i){i.Ru.forEach(e=>{e.next()})}class _m{constructor(e,t,o){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new _d(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=_d.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Y_{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class lv{constructor(e){this.It=e}Ji(e){return io(this.It,e)}Yi(e){return e.metadata.exists?vh(this.It,e.document,!1):Wr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return ri(e)}}class Q_{constructor(e,t,o){this.Mu=e,this.localStore=t,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dv(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=tr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,o=new lv(this.It);for(const u of e)if(u.metadata.queries){const d=o.Ji(u.metadata.name);for(const g of u.metadata.queries){const D=(t.get(g)||Kn()).add(d);t.set(g,D)}}return t}complete(){var e=this;return(0,X.Z)(function*(){const t=yield function rv(i,e,t,o){return up.apply(this,arguments)}(e.localStore,new lv(e.It),e.documents,e.Mu.id),o=e.Fu(e.documents);for(const u of e.queries)yield rr(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function dv(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class hv{constructor(e){this.key=e}}class fv{constructor(e){this.key=e}}class nu{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Kn(),this.mutatedKeys=Kn(),this.Ku=vo(e),this.Gu=new Il(this.Ku)}get Qu(){return this.Lu}ju(e,t){const o=t?t.Wu:new Tp,u=t?t.Gu:this.Gu;let d=t?t.mutatedKeys:this.mutatedKeys,g=u,D=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,V="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((W,ue)=>{const He=u.get(W),at=Gc(this.query,ue)?ue:null,ft=!!He&&this.mutatedKeys.has(He.key),Wt=!!at&&(at.hasLocalMutations||this.mutatedKeys.has(at.key)&&at.hasCommittedMutations);let fn=!1;He&&at?He.data.isEqual(at.data)?ft!==Wt&&(o.track({type:3,doc:at}),fn=!0):this.zu(He,at)||(o.track({type:2,doc:at}),fn=!0,(N&&this.Ku(at,N)>0||V&&this.Ku(at,V)<0)&&(D=!0)):!He&&at?(o.track({type:0,doc:at}),fn=!0):He&&!at&&(o.track({type:1,doc:He}),fn=!0,(N||V)&&(D=!0)),fn&&(at?(g=g.add(at),d=Wt?d.add(W):d.delete(W)):(g=g.delete(W),d=d.delete(W)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const W="F"===this.query.limitType?g.last():g.first();g=g.delete(W.key),d=d.delete(W.key),o.track({type:1,doc:W})}return{Gu:g,Wu:o,$i:D,mutatedKeys:d}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const d=e.Wu.Eu();d.sort((V,W)=>function(ue,He){const at=ft=>{switch(ft){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sn()}};return at(ue)-at(He)}(V.type,W.type)||this.Ku(V.doc,W.doc)),this.Hu(o);const g=t?this.Ju():[],D=0===this.qu.size&&this.current?1:0,N=D!==this.Uu;return this.Uu=D,0!==d.length||N?{snapshot:new _d(this.query,e.Gu,u,d,e.mutatedKeys,0===D,N,!1),Yu:g}:{Yu:g}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Tp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Kn(),this.Gu.forEach(o=>{this.Xu(o.key)&&(this.qu=this.qu.add(o.key))});const t=[];return e.forEach(o=>{this.qu.has(o)||t.push(new fv(o))}),this.qu.forEach(o=>{e.has(o)||t.push(new hv(o))}),t}Zu(e){this.Lu=e.Hi,this.qu=Kn();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return _d.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Sp{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class pv{constructor(e){this.key=e,this.ec=!1}}class Em{constructor(e,t,o,u,d,g){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.nc={},this.sc=new Jo(D=>Hc(D),ic),this.ic=new Map,this.rc=new Set,this.oc=new zr(Vt.comparator),this.uc=new Map,this.cc=new Mh,this.ac={},this.hc=new Map,this.lc=Ou.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Mp(i,e){return qh.apply(this,arguments)}function qh(){return qh=(0,X.Z)(function*(i,e){const t=rf(i);let o,u;const d=t.sc.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),u=d.view.tc();else{const g=yield Ic(t.localStore,bs(e));t.isPrimaryClient&&ld(t.remoteStore,g);const D=t.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,u=yield Id(t,e,o,"current"===D)}return u}),qh.apply(this,arguments)}function Id(i,e,t,o){return xp.apply(this,arguments)}function xp(){return xp=(0,X.Z)(function*(i,e,t,o){i.dc=(W,ue,He)=>{return(at=(0,X.Z)(function*(ft,Wt,fn,vr){let Xr=Wt.view.ju(fn);Xr.$i&&(Xr=yield kh(ft.localStore,Wt.query,!1).then(({documents:br})=>Wt.view.ju(br,Xr)));const Vr=vr&&vr.targetChanges.get(Wt.targetId),Ii=Wt.view.applyChanges(Xr,ft.isPrimaryClient,Vr);return Fp(ft,Wt.targetId,Ii.Yu),Ii.snapshot}),function(ft,Wt,fn,vr){return at.apply(this,arguments)})(i,W,ue,He);var at};const u=yield kh(i.localStore,e,!0),d=new nu(e,u.Hi),g=d.ju(u.documents),D=bu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),N=d.applyChanges(g,i.isPrimaryClient,D);Fp(i,t,N.Yu);const V=new Sp(e,t,d);return i.sc.set(e,V),i.ic.has(t)?i.ic.get(t).push(e):i.ic.set(t,[e]),N.snapshot}),xp.apply(this,arguments)}function Lu(i,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,X.Z)(function*(i,e){const t=jt(i),o=t.sc.get(e),u=t.ic.get(o.targetId);if(u.length>1)return t.ic.set(o.targetId,u.filter(d=>!ic(d,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield gl(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),dd(t.remoteStore,o.targetId),Cc(t,o.targetId)}).catch(Fo))):(Cc(t,o.targetId),yield gl(t.localStore,o.targetId,!0))}),Yh.apply(this,arguments)}function Op(){return Op=(0,X.Z)(function*(i,e,t){const o=Hp(i);try{const u=yield function(d,g){const D=jt(d),N=Gr.now(),V=g.reduce((He,at)=>He.add(at.key),Kn());let W,ue;return D.persistence.runTransaction("Locally write mutations","readwrite",He=>{let at=qi(),ft=Kn();return D.Gi.getEntries(He,V).next(Wt=>{at=Wt,at.forEach((fn,vr)=>{vr.isValidDocument()||(ft=ft.add(fn))})}).next(()=>D.localDocuments.getOverlayedDocuments(He,at)).next(Wt=>{W=Wt;const fn=[];for(const vr of g){const Xr=Kc(vr,W.get(vr.key).overlayedDocument);null!=Xr&&fn.push(new _o(vr.key,Xr,Lc(Xr.value.mapValue),ai.exists(!0)))}return D.mutationQueue.addMutationBatch(He,N,fn,g)}).next(Wt=>{ue=Wt;const fn=Wt.applyToLocalDocumentSet(W,ft);return D.documentOverlayCache.saveOverlays(He,Wt.batchId,fn)})}).then(()=>({batchId:ue.batchId,changes:mh(W)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,g,D){let N=d.ac[d.currentUser.toKey()];N||(N=new zr(jn)),N=N.insert(g,D),d.ac[d.currentUser.toKey()]=N}(o,u.batchId,t),yield Ta(o,u.changes),yield Dc(o.remoteStore)}catch(u){const d=El(u,"Failed to persist write");t.reject(d)}}),Op.apply(this,arguments)}function Rp(i,e){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,X.Z)(function*(i,e){const t=jt(i);try{const o=yield tv(t.localStore,e);e.targetChanges.forEach((u,d)=>{const g=t.uc.get(d);g&&(tn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.ec=!0:u.modifiedDocuments.size>0?tn(g.ec):u.removedDocuments.size>0&&(tn(g.ec),g.ec=!1))}),yield Ta(t,o,e)}catch(o){yield Fo(o)}}),Pp.apply(this,arguments)}function Im(i,e,t){const o=jt(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.sc.forEach((d,g)=>{const D=g.view.bu(e);D.snapshot&&u.push(D.snapshot)}),function(d,g){const D=jt(d);D.onlineState=g;let N=!1;D.queries.forEach((V,W)=>{for(const ue of W.listeners)ue.bu(g)&&(N=!0)}),N&&vm(D)}(o.eventManager,e),u.length&&o.nc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Qh(i,e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,X.Z)(function*(i,e,t){const o=jt(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.uc.get(e),d=u&&u.key;if(d){let g=new zr(Vt.comparator);g=g.insert(d,Wr.newNoDocument(d,nn.min()));const D=Kn().add(d),N=new wa(nn.min(),new Map,new nr(jn),g,D);yield Rp(o,N),o.oc=o.oc.remove(d),o.uc.delete(e),Lp(o)}else yield gl(o.localStore,e,!1).then(()=>Cc(o,e,t)).catch(Fo)}),Vu.apply(this,arguments)}function Np(i,e){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,X.Z)(function*(i,e){const t=jt(i),o=e.batch.batchId;try{const u=yield im(t.localStore,e);Dd(t,o,null),wd(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Ta(t,u)}catch(u){yield Fo(u)}}),Uu.apply(this,arguments)}function kp(i,e,t){return wl.apply(this,arguments)}function wl(){return wl=(0,X.Z)(function*(i,e,t){const o=jt(i);try{const u=yield function(d,g){const D=jt(d);return D.persistence.runTransaction("Reject batch","readwrite-primary",N=>{let V;return D.mutationQueue.lookupMutationBatch(N,g).next(W=>(tn(null!==W),V=W.keys(),D.mutationQueue.removeMutationBatch(N,W))).next(()=>D.mutationQueue.performConsistencyCheck(N)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(N,V,g)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,V)).next(()=>D.localDocuments.getDocuments(N,V))})}(o.localStore,e);Dd(o,e,t),wd(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Ta(o,u)}catch(u){yield Fo(u)}}),wl.apply(this,arguments)}function Jh(){return Jh=(0,X.Z)(function*(i,e){const t=jt(i);eu(t.remoteStore)||vt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const g=jt(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",D=>g.mutationQueue.getHighestUnacknowledgedBatchId(D))}(t.localStore);if(-1===o)return void e.resolve();const u=t.hc.get(o)||[];u.push(e),t.hc.set(o,u)}catch(o){const u=El(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Jh.apply(this,arguments)}function wd(i,e){(i.hc.get(e)||[]).forEach(t=>{t.resolve()}),i.hc.delete(e)}function Dd(i,e,t){const o=jt(i);let u=o.ac[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),o.ac[o.currentUser.toKey()]=u}}function Cc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ic.get(e))i.sc.delete(o),t&&i.nc._c(o,t);i.ic.delete(e),i.isPrimaryClient&&i.cc.ls(e).forEach(o=>{i.cc.containsKey(o)||Xh(i,o)})}function Xh(i,e){i.rc.delete(e.path.canonicalString());const t=i.oc.get(e);null!==t&&(dd(i.remoteStore,t),i.oc=i.oc.remove(e),i.uc.delete(t),Lp(i))}function Fp(i,e,t){for(const o of t)o instanceof hv?(i.cc.addReference(o.key,e),J_(i,o)):o instanceof fv?(vt("SyncEngine","Document no longer in limbo: "+o.key),i.cc.removeReference(o.key,e),i.cc.containsKey(o.key)||Xh(i,o.key)):sn()}function J_(i,e){const t=e.key,o=t.path.canonicalString();i.oc.get(t)||i.rc.has(o)||(vt("SyncEngine","New document in limbo: "+t),i.rc.add(o),Lp(i))}function Lp(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const t=new Vt(tr.fromString(e)),o=i.lc.next();i.uc.set(o,new pv(t)),i.oc=i.oc.insert(t,o),ld(i.remoteStore,new Mu(bs(yu(t.path)),o,2,si.at))}}function Ta(i,e,t){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,X.Z)(function*(i,e,t){const o=jt(i),u=[],d=[],g=[];var D;o.sc.isEmpty()||(o.sc.forEach((D,N)=>{g.push(o.dc(N,e,t).then(V=>{if(V){o.isPrimaryClient&&o.sharedClientState.updateQueryState(N.targetId,V.fromCache?"not-current":"current"),u.push(V);const W=Ph.Ci(N.targetId,V);d.push(W)}}))}),yield Promise.all(g),o.nc.Wo(u),yield(D=(0,X.Z)(function*(N,V){const W=jt(N);try{yield W.persistence.runTransaction("notifyLocalViewChanges","readwrite",ue=>ze.forEach(V,He=>ze.forEach(He.Si,at=>W.persistence.referenceDelegate.addReference(ue,He.targetId,at)).next(()=>ze.forEach(He.Di,at=>W.persistence.referenceDelegate.removeReference(ue,He.targetId,at)))))}catch(ue){if(!ls(ue))throw ue;vt("LocalStore","Failed to update sequence numbers: "+ue)}for(const ue of V){const He=ue.targetId;if(!ue.fromCache){const at=W.Ui.get(He),Wt=at.withLastLimboFreeSnapshotVersion(at.snapshotVersion);W.Ui=W.Ui.insert(He,Wt)}}}),function(N,V){return D.apply(this,arguments)})(o.localStore,d))}),Vp.apply(this,arguments)}function Dm(i,e){return ef.apply(this,arguments)}function ef(){return ef=(0,X.Z)(function*(i,e){const t=jt(i);if(!t.currentUser.isEqual(e)){vt("SyncEngine","User change. New user:",e.toKey());const o=yield ip(t.localStore,e);t.currentUser=e,(u=t).hc.forEach(g=>{g.forEach(D=>{D.reject(new mt(Ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.hc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ta(t,o.ji)}var u}),ef.apply(this,arguments)}function mv(i,e){const t=jt(i),o=t.uc.get(e);if(o&&o.ec)return Kn().add(o.key);{let u=Kn();const d=t.ic.get(e);if(!d)return u;for(const g of d){const D=t.sc.get(g);u=u.unionWith(D.view.Qu)}return u}}function Io(i,e){return tf.apply(this,arguments)}function tf(){return tf=(0,X.Z)(function*(i,e){const t=jt(i),o=yield kh(t.localStore,e.query,!0),u=e.view.Zu(o);return t.isPrimaryClient&&Fp(t,e.targetId,u.Yu),u}),tf.apply(this,arguments)}function yv(i,e){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,X.Z)(function*(i,e){const t=jt(i);return ap(t.localStore,e).then(o=>Ta(t,o))}),Cm.apply(this,arguments)}function vv(i,e,t,o){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,X.Z)(function*(i,e,t,o){const u=jt(i),d=yield function(g,D){const N=jt(g),V=jt(N.mutationQueue);return N.persistence.runTransaction("Lookup mutation documents","readonly",W=>V.Tn(W,D).next(ue=>ue?N.localDocuments.getDocuments(W,ue):ze.resolve(null)))}(u.localStore,e);var D;null!==d?("pending"===t?yield Dc(u.remoteStore):"acknowledged"===t||"rejected"===t?(Dd(u,e,o||null),wd(u,e),D=e,jt(jt(u.localStore).mutationQueue).An(D)):sn(),yield Ta(u,d)):vt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Cd.apply(this,arguments)}function Up(){return Up=(0,X.Z)(function*(i,e){const t=jt(i);if(rf(t),Hp(t),!0===e&&!0!==t.fc){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Tm(t,o.toArray());t.fc=!0,yield md(t.remoteStore,!0);for(const d of u)ld(t.remoteStore,d)}else if(!1===e&&!1!==t.fc){const o=[];let u=Promise.resolve();t.ic.forEach((d,g)=>{t.sharedClientState.isLocalQueryTarget(g)?o.push(g):u=u.then(()=>(Cc(t,g),gl(t.localStore,g,!0))),dd(t.remoteStore,g)}),yield u,yield Tm(t,o),function(d){const g=jt(d);g.uc.forEach((D,N)=>{dd(g.remoteStore,N)}),g.cc.fs(),g.uc=new Map,g.oc=new zr(Vt.comparator)}(t),t.fc=!1,yield md(t.remoteStore,!1)}}),Up.apply(this,arguments)}function Tm(i,e,t){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,X.Z)(function*(i,e,t){const o=jt(i),u=[],d=[];for(const g of e){let D;const N=o.ic.get(g);if(N&&0!==N.length){D=yield Ic(o.localStore,bs(N[0]));for(const V of N){const W=o.sc.get(V),ue=yield Io(o,W);ue.snapshot&&d.push(ue.snapshot)}}else{const V=yield om(o.localStore,g);D=yield Ic(o.localStore,V),yield Id(o,jp(V),g,!1)}u.push(D)}return o.nc.Wo(d),u}),Bp.apply(this,arguments)}function jp(i){return uh(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function _v(i){const e=jt(i);return jt(jt(e.localStore).persistence).vi()}function Am(i,e,t,o){return $p.apply(this,arguments)}function $p(){return $p=(0,X.Z)(function*(i,e,t,o){const u=jt(i);if(u.fc)return void vt("SyncEngine","Ignoring unexpected query state notification.");const d=u.ic.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const g=yield ap(u.localStore,ch(d[0])),D=wa.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ta(u,g,D);break}case"rejected":yield gl(u.localStore,e,!0),Cc(u,e,o);break;default:sn()}}),$p.apply(this,arguments)}function Ev(i,e,t){return nf.apply(this,arguments)}function nf(){return nf=(0,X.Z)(function*(i,e,t){const o=rf(i);if(o.fc){for(const u of e){if(o.ic.has(u)){vt("SyncEngine","Adding an already active target "+u);continue}const d=yield om(o.localStore,u),g=yield Ic(o.localStore,d);yield Id(o,jp(d),g.targetId,!1),ld(o.remoteStore,g)}for(const u of t)o.ic.has(u)&&(yield gl(o.localStore,u,!1).then(()=>{dd(o.remoteStore,u),Cc(o,u)}).catch(Fo))}}),nf.apply(this,arguments)}function rf(i){const e=jt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qh.bind(null,e),e.nc.Wo=Z_.bind(null,e.eventManager),e.nc._c=q_.bind(null,e.eventManager),e}function Hp(i){const e=jt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Np.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kp.bind(null,e),e}class sf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,X.Z)(function*(){t.It=$h(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return ev(this.persistence,new Nh,e.initialUser,this.It)}gc(e){return new ud(fl.Bs,this.It)}mc(e){return new iv}terminate(){var e=this;return(0,X.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Sm extends sf{constructor(e,t,o){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,X.Z)(function*(){yield t().call(o,e),yield o.Ec.initialize(o,e),yield Hp(o.Ec.syncEngine),yield Dc(o.Ec.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return ev(this.persistence,new Nh,e.initialUser,this.It)}Ic(e,t){return new Zy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const o=new va(t,this.persistence);return new kc(e.asyncQueue,o)}gc(e){const t=rp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new np(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Bh(),jh(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new iv}}class Iv extends Sm{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,X.Z)(function*(){yield t().call(o,e);const u=o.Ec.syncEngine;o.sharedClientState instanceof fp&&(o.sharedClientState.syncEngine={Fr:vv.bind(null,u),$r:Am.bind(null,u),Br:Ev.bind(null,u),vi:_v.bind(null,u),Or:yv.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var d=(0,X.Z)(function*(g){yield function bm(i,e){return Up.apply(this,arguments)}(o.Ec.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start():g||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(g&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():g||o.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}mc(e){const t=Bh();if(!fp.C(t))throw new mt(Ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=rp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fp(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Mm{initialize(e,t){var o=this;return(0,X.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Im(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Dm.bind(null,o.syncEngine),yield md(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new K_}createDatastore(e){const t=$h(e.databaseInfo.databaseId),o=new gp(e.databaseInfo);return new G_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,d=D=>Im(this.syncEngine,D,0),g=pp.C()?new pp:new um,new yl(t,o,u,d,g);var t,o,u,d,g}createSyncEngine(e,t){return function(o,u,d,g,D,N,V){const W=new Em(o,u,d,g,D,N);return V&&(W.fc=!0),W}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,X.Z)(function*(t){const o=jt(t);vt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield Xa(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Gp(i,e=10240){let t=0;return{read:()=>(0,X.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,X.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class af{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wv{constructor(e,t){this.bc=e,this.It=t,this.metadata=new fi,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(o=>{o&&o.ku()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,X.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,X.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,X.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const o=e.Pc.decode(t),u=Number(o);isNaN(u)&&e.Sc(`length string (${o}) is not valid number`);const d=yield e.Dc(u);return new Y_(JSON.parse(d),t.length+u)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,X.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Dc(e){var t=this;return(0,X.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const o=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,X.Z)(function*(){const t=yield e.bc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Dv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,X.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new mt(Ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,X.Z)(function*(d,g){const D=jt(d),N=ta(D.It)+"/documents",V={documents:g.map(at=>Qa(D.It,at))},W=yield D.fo("BatchGetDocuments",N,V,g.length),ue=new Map;W.forEach(at=>{const ft=function fc(i,e){return"found"in e?function(t,o){tn(!!o.found);const u=io(t,o.found.name),d=ri(o.found.updateTime),g=new Mi({mapValue:{fields:o.found.fields}});return Wr.newFoundDocument(u,d,g)}(i,e):"missing"in e?function(t,o){tn(!!o.missing),tn(!!o.readTime);const u=io(t,o.missing),d=ri(o.readTime);return Wr.newNoDocument(u,d)}(i,e):sn()}(D.It,at);ue.set(ft.key.toString(),ft)});const He=[];return g.forEach(at=>{const ft=ue.get(at.toString());tn(!!ft),He.push(ft)}),He}),function(d,g){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qo(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,X.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const d=Vt.fromPath(u);e.mutations.push(new cc(d,e.precondition(d)))}),yield(o=(0,X.Z)(function*(u,d){const g=jt(u),D=ta(g.It)+"/documents",N={writes:d.map(V=>Au(g.It,V))};yield g.co("Commit",D,N)}),function(u,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw sn();t=nn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new mt(Ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(nn.min())?ai.exists(!1):ai.updateTime(t):ai.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(nn.min()))throw new mt(Ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ai.updateTime(t)}return ai.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class zp{constructor(e,t,o,u,d){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=d,this.Nc=o.maxAttempts,this.xo=new cm(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,X.Z)(function*(){const t=new Dv(e.datastore),o=e.Mc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Oc(d)}))}).catch(u=>{e.Oc(u)})}))}Mc(e){try{const t=this.updateFunction(e);return!pi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!ph(t)}return!1}}class Cv{constructor(e,t,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=hi.UNAUTHENTICATED,this.clientId=hu.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,X.Z)(function*(D){vt("FirestoreClient","Received user=",D.uid),yield d.authCredentialListener(D),d.user=D});return function(D){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(vt("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,X.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new mt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=El(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function xm(i,e){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,X.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),vt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,X.Z)(function*(d){o.isEqual(d)||(yield ip(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Dl.apply(this,arguments)}function uf(i,e){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,X.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Om(i);vt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>pd(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>pd(e.remoteStore,d)),i.onlineComponents=e}),Cl.apply(this,arguments)}function Om(i){return bd.apply(this,arguments)}function bd(){return bd=(0,X.Z)(function*(i){return i.offlineComponents||(vt("FirestoreClient","Using default OfflineComponentProvider"),yield xm(i,new sf)),i.offlineComponents}),bd.apply(this,arguments)}function Wp(i){return cf.apply(this,arguments)}function cf(){return cf=(0,X.Z)(function*(i){return i.onlineComponents||(vt("FirestoreClient","Using default OnlineComponentProvider"),yield uf(i,new Mm)),i.onlineComponents}),cf.apply(this,arguments)}function Kp(i){return Om(i).then(e=>e.persistence)}function Td(i){return Om(i).then(e=>e.localStore)}function Zp(i){return Wp(i).then(e=>e.remoteStore)}function Ad(i){return Wp(i).then(e=>e.syncEngine)}function ao(i){return bl.apply(this,arguments)}function bl(){return bl=(0,X.Z)(function*(i){const e=yield Wp(i),t=e.eventManager;return t.onListen=Mp.bind(null,e.syncEngine),t.onUnlisten=Lu.bind(null,e.syncEngine),t}),bl.apply(this,arguments)}function df(i,e,t={}){const o=new fi;return i.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(u,d,g,D,N){const V=new af({next:ue=>{d.enqueueAndForget(()=>Ap(u,W));const He=ue.docs.has(g);!He&&ue.fromCache?N.reject(new mt(Ye.UNAVAILABLE,"Failed to get document because the client is offline.")):He&&ue.fromCache&&D&&"server"===D.source?N.reject(new mt(Ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):N.resolve(ue)},error:ue=>N.reject(ue)}),W=new _m(yu(g.path),V,{includeMetadataChanges:!0,Nu:!0});return Kh(u,W)}(yield ao(i),i.asyncQueue,e,t,o)})),o.promise}function Pm(i,e,t={}){const o=new fi;return i.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(u,d,g,D,N){const V=new af({next:ue=>{d.enqueueAndForget(()=>Ap(u,W)),ue.fromCache&&"server"===D.source?N.reject(new mt(Ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):N.resolve(ue)},error:ue=>N.reject(ue)}),W=new _m(g,V,{includeMetadataChanges:!0,Nu:!0});return Kh(u,W)}(yield ao(i),i.asyncQueue,e,t,o)})),o.promise}const Nm=new Map;function km(i,e,t){if(!t)throw new mt(Ye.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Fm(i,e,t,o){if(!0===e&&!0===o)throw new mt(Ye.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Lm(i){if(!Vt.isDocumentKey(i))throw new mt(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Vm(i){if(Vt.isDocumentKey(i))throw new mt(Ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function xd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":sn()}function wr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new mt(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xd(i);throw new mt(Ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Um(i,e){if(e<=0)throw new mt(Ye.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class hf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new mt(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new mt(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Fm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new mt(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new mt(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hf(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new La;switch(t.type){case"gapi":return new Ro(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new mt(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Nm.get(e);t&&(vt("ComponentProvider","Removing Datastore"),Nm.delete(e),t.terminate())}(this),Promise.resolve()}}class ui{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ui(this.firestore,e,this._key)}}class ks{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new ks(this.firestore,e,this._query)}}class Sa extends ks{constructor(e,t,o){super(e,t,yu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ui(this.firestore,null,new Vt(e))}withConverter(e){return new Sa(this.firestore,e,this._path)}}function Bm(i,e,...t){if(i=(0,ve.m9)(i),km("collection","path",e),i instanceof Od){const o=tr.fromString(e,...t);return Vm(o),new Sa(i,null,o)}{if(!(i instanceof ui||i instanceof Sa))throw new mt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(tr.fromString(e,...t));return Vm(o),new Sa(i.firestore,null,o)}}function Ma(i,e,...t){if(i=(0,ve.m9)(i),1===arguments.length&&(e=hu.R()),km("doc","path",e),i instanceof Od){const o=tr.fromString(e,...t);return Lm(o),new ui(i,null,new Vt(o))}{if(!(i instanceof ui||i instanceof Sa))throw new mt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(tr.fromString(e,...t));return Lm(o),new ui(i.firestore,i instanceof Sa?i.converter:null,new Vt(o))}}function Mv(i,e){return i=(0,ve.m9)(i),e=(0,ve.m9)(e),(i instanceof ui||i instanceof Sa)&&(e instanceof ui||e instanceof Sa)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Tl(i,e){return i=(0,ve.m9)(i),e=(0,ve.m9)(e),i instanceof ks&&e instanceof ks&&i.firestore===e.firestore&&ic(i._query,e._query)&&i.converter===e.converter}class xv{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new cm(this,"async_queue_retry"),this.jc=()=>{const t=jh();t&&vt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=jh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=jh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new fi;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,X.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!ls(t))throw t;vt("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(o=>{throw this.qc=o,this.Kc=!1,Qr("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(o)),o}).then(o=>(this.Kc=!1,o))));return this.$c=t,t}enqueueAfterDelay(e,t,o){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const u=bp.createAndSchedule(this,e,t,o,d=>this.Jc(d));return this.Uc.push(u),u}Wc(){this.qc&&sn()}verifyOperationInProgress(){}Yc(){var e=this;return(0,X.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function qp(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Yp{constructor(){this._progressObserver={},this._taskCompletionResolver=new fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Mr extends Od{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new xv,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Rd(this),this._firestoreClient.terminate()}}function ii(i){return i._firestoreClient||Rd(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Rd(i){var e;const t=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new on(i._databaseId,d,i._persistenceKey,(D=t).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,D.useFetchStreams));var d,D;i._firestoreClient=new Cv(i._authCredentials,i._appCheckCredentials,i._queue,o)}function bc(i,e,t){const o=new fi;return i.asyncQueue.enqueue((0,X.Z)(function*(){try{yield xm(i,t),yield uf(i,e),o.resolve()}catch(u){const d=u;if(!("FirebaseError"===(g=d).name?g.code===Ye.FAILED_PRECONDITION||g.code===Ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw d;fa("Error enabling offline persistence. Falling back to persistence disabled: "+d),o.reject(d)}var g})).then(()=>o.promise)}function Tc(i){if(i._initialized||i._terminated)throw new mt(Ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class xa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new mt(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sa(C.fromBase64String(e))}catch(t){throw new mt(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sa(C.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bu{constructor(e){this._methodName=e}}class Nd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new mt(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new mt(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jn(this._lat,e._lat)||jn(this._long,e._long)}}const jm=/^__.*__$/;class $m{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new _o(e,this.data,this.fieldMask,t,this.fieldTransforms):new Du(e,this.data,t,this.fieldTransforms)}}class Jp{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new _o(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Xp(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sn()}}class gf{constructor(e,t,o,u,d,g){this.settings=e,this.databaseId=t,this.It=o,this.ignoreUndefinedProperties=u,void 0===d&&this.ea(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new gf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.sa({path:o,ra:!1});return u.oa(e),u}ua(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.sa({path:o,ra:!1});return u.ea(),u}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Ud(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Xp(this.na)&&jm.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class Pv{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=o||$h(e)}fa(e,t,o,u=!1){return new gf({na:e,methodName:t,la:o,path:Lr.emptyPath(),ra:!1,ha:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ju(i){const e=i._freezeSettings(),t=$h(i._databaseId);return new Pv(i._databaseId,!!e.ignoreUndefinedProperties,t)}function mf(i,e,t,o,u,d={}){const g=i.fa(d.merge||d.mergeFields?2:0,e,t,u);Vd("Data must be an object, but it was:",g,o);const D=tg(o,g);let N,V;if(d.merge)N=new E(g.fieldMask),V=g.fieldTransforms;else if(d.mergeFields){const W=[];for(const ue of d.mergeFields){const He=If(e,ue,t);if(!g.contains(He))throw new mt(Ye.INVALID_ARGUMENT,`Field '${He}' is specified in your field mask but missing from your input data.`);Gm(W,He)||W.push(He)}N=new E(W),V=g.fieldTransforms.filter(ue=>N.covers(ue.field))}else N=null,V=g.fieldTransforms;return new $m(new Mi(D),N,V)}class kd extends Bu{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kd}}function yf(i,e,t){return new gf({na:3,la:e.settings.la,methodName:i._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Fd extends Bu{_toFieldTransform(e){return new Iu(e.path,new vu)}isEqual(e){return e instanceof Fd}}class Nv extends Bu{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=yf(this,e,!0),o=this.da.map(d=>ru(d,t)),u=new qa(o);return new Iu(e.path,u)}isEqual(e){return this===e}}class vf extends Bu{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=yf(this,e,!0),o=this.da.map(d=>ru(d,t)),u=new Ya(o);return new Iu(e.path,u)}isEqual(e){return this===e}}class _f extends Bu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Ns(e.It,Of(e.It,this._a));return new Iu(e.path,t)}isEqual(e){return this===e}}function Ld(i,e,t,o){const u=i.fa(1,e,t);Vd("Data must be an object, but it was:",u,o);const d=[],g=Mi.empty();zo(o,(N,V)=>{const W=Pl(e,N,t);V=(0,ve.m9)(V);const ue=u.ua(W);if(V instanceof kd)d.push(W);else{const He=ru(V,ue);null!=He&&(d.push(W),g.set(W,He))}});const D=new E(d);return new Jp(g,D,u.fieldTransforms)}function eg(i,e,t,o,u,d){const g=i.fa(1,e,t),D=[If(e,o,t)],N=[u];if(d.length%2!=0)throw new mt(Ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let He=0;He<d.length;He+=2)D.push(If(e,d[He])),N.push(d[He+1]);const V=[],W=Mi.empty();for(let He=D.length-1;He>=0;--He)if(!Gm(V,D[He])){const at=D[He];let ft=N[He];ft=(0,ve.m9)(ft);const Wt=g.ua(at);if(ft instanceof kd)V.push(at);else{const fn=ru(ft,Wt);null!=fn&&(V.push(at),W.set(at,fn))}}const ue=new E(V);return new Jp(W,ue,g.fieldTransforms)}function Ef(i,e,t,o=!1){return ru(t,i.fa(o?4:3,e))}function ru(i,e){if(ng(i=(0,ve.m9)(i)))return Vd("Unsupported field value:",e,i),tg(i,e);if(i instanceof Bu)return function(t,o){if(!Xp(o.na))throw o.aa(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.aa(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,o){const u=[];let d=0;for(const g of t){let D=ru(g,o.ca(d));null==D&&(D={nullValue:"NULL_VALUE"}),u.push(D),d++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,ve.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Of(o.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Gr.fromDate(t);return{timestampValue:Tu(o.It,u)}}if(t instanceof Gr){const u=new Gr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Tu(o.It,u)}}if(t instanceof Nd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof sa)return{bytesValue:tl(o.It,t._byteString)};if(t instanceof ui){const u=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw o.aa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hc(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.aa(`Unsupported field value: ${xd(t)}`)}(i,e)}function tg(i,e){const t={};return pu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zo(i,(o,u)=>{const d=ru(u,e.ia(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function ng(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Gr||i instanceof Nd||i instanceof sa||i instanceof ui||i instanceof Bu)}function Vd(i,e,t){if(!ng(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=xd(t);throw e.aa("an object"===o?i+" a custom object":i+" "+o)}var o}function If(i,e,t){if((e=(0,ve.m9)(e))instanceof xa)return e._internalPath;if("string"==typeof e)return Pl(i,e);throw Ud("Field path arguments must be of type string or ",i,!1,void 0,t)}const Hm=new RegExp("[~\\*/\\[\\]]");function Pl(i,e,t){if(e.search(Hm)>=0)throw Ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new xa(...e.split("."))._internalPath}catch{throw Ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Ud(i,e,t,o,u){const d=o&&!o.isEmpty(),g=void 0!==u;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let N="";return(d||g)&&(N+=" (found",d&&(N+=` in field ${o}`),g&&(N+=` in document ${u}`),N+=")"),new mt(Ye.INVALID_ARGUMENT,D+i+N)}function Gm(i,e){return i.some(t=>t.isEqual(e))}class Nl{constructor(e,t,o,u,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new ui(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zm extends Nl{data(){return super.data()}}function Bd(i,e){return"string"==typeof e?Pl(i,e):e instanceof xa?e._internalPath:e._delegate._internalPath}class $u{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iu extends Nl{constructor(e,t,o,u,d,g){super(e,t,o,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Bd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class jd extends iu{data(e={}){return super.data(e)}}class Hu{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new $u(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new jd(this._firestore,this._userDataWriter,o.key,o,new $u(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new mt(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new jd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new $u(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||3!==g.type).map(g=>{const D=new jd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new $u(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let N=-1,V=-1;return 0!==g.type&&(N=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),V=d.indexOf(g.doc.key)),{type:rg(g.type),doc:D,oldIndex:N,newIndex:V}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sn()}}function wf(i,e){return i instanceof iu&&e instanceof iu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Hu&&e instanceof Hu&&i._firestore===e._firestore&&Tl(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function ig(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new mt(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kl{}function su(i,...e){for(const t of e)i=t._apply(i);return i}class Wm extends kl{constructor(e,t,o){super(),this.wa=e,this.ma=t,this.ga=o,this.type="where"}_apply(e){const t=ju(e.firestore),o=function(u,d,g,D,N,V,W){let ue;if(N.isKeyField()){if("array-contains"===V||"array-contains-any"===V)throw new mt(Ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${V}' queries on documentId().`);if("in"===V||"not-in"===V){ey(W,V);const at=[];for(const ft of W)at.push(og(D,u,ft));ue={arrayValue:{values:at}}}else ue=og(D,u,W)}else"in"!==V&&"not-in"!==V&&"array-contains-any"!==V||ey(W,V),ue=Ef(g,"where",W,"in"===V||"not-in"===V);const He=ns.create(N,V,ue);return function(at,ft){if(ft.dt()){const fn=rc(at);if(null!==fn&&!fn.isEqual(ft.field))throw new mt(Ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${fn.toString()}' and '${ft.field.toString()}'`);const vr=Wa(at);null!==vr&&ag(0,ft.field,vr)}const Wt=function(fn,vr){for(const Xr of fn.filters)if(vr.indexOf(Xr.op)>=0)return Xr.op;return null}(at,function(fn){switch(fn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ft.op));if(null!==Wt)throw new mt(Ye.INVALID_ARGUMENT,Wt===ft.op?`Invalid query. You cannot use more than one '${ft.op.toString()}' filter.`:`Invalid query. You cannot use '${ft.op.toString()}' filters with '${Wt.toString()}' filters.`)}(u,He),He}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ks(e.firestore,e.converter,function(u,d){const g=u.filters.concat([d]);return new Ps(u.path,u.collectionGroup,u.explicitOrderBy.slice(),g,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class Zm extends kl{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(o,u,d){if(null!==o.startAt)throw new mt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new mt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new mu(u,d);return function(D,N){if(null===Wa(D)){const V=rc(D);null!==V&&ag(0,V,N.field)}}(o,g),g}(e._query,this.wa,this.ya);return new ks(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new Ps(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class sg extends kl{constructor(e,t,o){super(),this.type=e,this.pa=t,this.Ia=o}_apply(e){return new ks(e.firestore,e.converter,Za(e._query,this.pa,this.Ia))}}class Ym extends kl{constructor(e,t,o){super(),this.type=e,this.Ta=t,this.Ea=o}_apply(e){const t=Xm(e,this.type,this.Ta,this.Ea);return new ks(e.firestore,e.converter,(u=t,new Ps((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class Qi extends kl{constructor(e,t,o){super(),this.type=e,this.Ta=t,this.Ea=o}_apply(e){const t=Xm(e,this.type,this.Ta,this.Ea);return new ks(e.firestore,e.converter,(u=t,new Ps((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Xm(i,e,t,o){if(t[0]=(0,ve.m9)(t[0]),t[0]instanceof Nl)return function(u,d,g,D,N){if(!D)throw new mt(Ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const V=[];for(const W of Ka(u))if(W.field.isKeyField())V.push(Zo(d,D.key));else{const ue=D.data.field(W.field);if(Xe(ue))throw new mt(Ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+W.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ue){const He=W.field.canonicalString();throw new mt(Ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${He}' (used as the orderBy) does not exist.`)}V.push(ue)}return new Vo(V,N)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=ju(i.firestore);return function(d,g,D,N,V,W){const ue=d.explicitOrderBy;if(V.length>ue.length)throw new mt(Ye.INVALID_ARGUMENT,`Too many arguments provided to ${N}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const He=[];for(let at=0;at<V.length;at++){const ft=V[at];if(ue[at].field.isKeyField()){if("string"!=typeof ft)throw new mt(Ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${N}(), but got a ${typeof ft}`);if(!$c(d)&&-1!==ft.indexOf("/"))throw new mt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${N}() must be a plain document ID, but '${ft}' contains a slash.`);const Wt=d.path.child(tr.fromString(ft));if(!Vt.isDocumentKey(Wt))throw new mt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${N}() must result in a valid document path, but '${Wt}' is not because it contains an odd number of segments.`);const fn=new Vt(Wt);He.push(Zo(g,fn))}else{const Wt=Ef(D,N,ft);He.push(Wt)}}return new Vo(He,W)}(i._query,i.firestore._databaseId,u,e,t,o)}}function og(i,e,t){if("string"==typeof(t=(0,ve.m9)(t))){if(""===t)throw new mt(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$c(e)&&-1!==t.indexOf("/"))throw new mt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(tr.fromString(t));if(!Vt.isDocumentKey(o))throw new mt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Zo(i,new Vt(o))}if(t instanceof ui)return Zo(i,t._key);throw new mt(Ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xd(t)}.`)}function ey(i,e){if(!Array.isArray(i)||0===i.length)throw new mt(Ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new mt(Ye.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ag(i,e,t){if(!t.isEqual(e))throw new mt(Ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const ty={maxAttempts:5};class Gu{convertValue(e,t="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Y(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(se(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw sn()}}convertObject(e,t){const o={};return zo(e.fields,(u,d)=>{o[u]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new Nd(Y(e.latitude),Y(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Ot(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Sn(e));default:return null}}convertTimestamp(e){const t=B(e);return new Gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=tr.fromString(e);tn(Ei(o));const u=new Hn(o.get(1),o.get(3)),d=new Vt(o.popFirst(5));return u.isEqual(t)||Qr(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function Df(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class Vv extends Gu{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,t)}}class ug{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ju(e)}set(e,t,o){this._verifyNotCommitted();const u=zu(e,this._firestore),d=Df(u.converter,t,o),g=mf(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,o);return this._mutations.push(g.toMutation(u._key,ai.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const d=zu(e,this._firestore);let g;return g="string"==typeof(t=(0,ve.m9)(t))||t instanceof xa?eg(this._dataReader,"WriteBatch.update",d._key,t,o,u):Ld(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(g.toMutation(d._key,ai.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zu(e,this._firestore);return this._mutations=this._mutations.concat(new Qo(t._key,ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new mt(Ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zu(i,e){if((i=(0,ve.m9)(i)).firestore!==e)throw new mt(Ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Fl extends Gu{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,t)}}function oa(i,e,t){i=wr(i,ui);const o=wr(i.firestore,Mr),u=Df(i.converter,e,t);return Ll(o,[mf(ju(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,ai.none())])}function jo(i,e,t,...o){i=wr(i,ui);const u=wr(i.firestore,Mr),d=ju(u);let g;return g="string"==typeof(e=(0,ve.m9)(e))||e instanceof xa?eg(d,"updateDoc",i._key,e,t,o):Ld(d,"updateDoc",i._key,e),Ll(u,[g.toMutation(i._key,ai.exists(!0))])}function lg(i,...e){var t,o,u;i=(0,ve.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||qp(e[g])||(d=e[g],g++);const D={includeMetadataChanges:d.includeMetadataChanges};if(qp(e[g])){const ue=e[g];e[g]=null===(t=ue.next)||void 0===t?void 0:t.bind(ue),e[g+1]=null===(o=ue.error)||void 0===o?void 0:o.bind(ue),e[g+2]=null===(u=ue.complete)||void 0===u?void 0:u.bind(ue)}let N,V,W;if(i instanceof ui)V=wr(i.firestore,Mr),W=yu(i._key.path),N={next:ue=>{e[g]&&e[g](dg(V,i,ue))},error:e[g+1],complete:e[g+2]};else{const ue=wr(i,ks);V=wr(ue.firestore,Mr),W=ue._query;const He=new Fl(V);N={next:at=>{e[g]&&e[g](new Hu(V,He,ue,at))},error:e[g+1],complete:e[g+2]},ig(i._query)}return function(ue,He,at,ft){const Wt=new af(ft),fn=new _m(He,Wt,at);return ue.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return Kh(yield ao(ue),fn)})),()=>{Wt.Rc(),ue.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return Ap(yield ao(ue),fn)}))}}(ii(V),W,D,N)}function Ll(i,e){return function(t,o){const u=new fi;return t.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function gv(i,e,t){return Op.apply(this,arguments)}(yield Ad(t),o,u)})),u.promise}(ii(i),e)}function dg(i,e,t){const o=t.docs.get(e._key),u=new Fl(i);return new iu(i,u,e._key,o,new $u(t.hasPendingWrites,t.fromCache),e.converter)}class $v extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ju(e)}get(e){const t=zu(e,this._firestore),o=new Vv(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return sn();const d=u[0];if(d.isFoundDocument())return new Nl(this._firestore,o,d.key,d,t.converter);if(d.isNoDocument())return new Nl(this._firestore,o,t._key,null,t.converter);throw sn()})}set(e,t,o){const u=zu(e,this._firestore),d=Df(u.converter,t,o),g=mf(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,o);return this._transaction.set(u._key,g),this}update(e,t,o,...u){const d=zu(e,this._firestore);let g;return g="string"==typeof(t=(0,ve.m9)(t))||t instanceof xa?eg(this._dataReader,"Transaction.update",d._key,t,o,u):Ld(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,g),this}delete(e){const t=zu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=zu(e,this._firestore),o=new Fl(this._firestore);return super.get(e).then(u=>new iu(this._firestore,o,t._key,u._document,new $u(!1,!1),t.converter))}}function Hd(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new mt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Gd(){if(typeof Uint8Array>"u")throw new mt("unimplemented","Uint8Arrays are not available in this environment.")}function pg(){if(!function v(){return typeof atob<"u"}())throw new mt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){xo=Fe.SDK_VERSION,(0,Fe._registerComponent)(new Nt.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const d=t.getProvider("app").getImmediate(),g=new Mr(new pa(t.getProvider("auth-internal")),new $l(t.getProvider("app-check-internal")),function(D,N){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new mt(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hn(D.options.projectId,N)}(d,o),d);return u=Object.assign({useFetchStreams:e},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),(0,Fe.registerVersion)(da,"3.5.0",i),(0,Fe.registerVersion)(da,"3.5.0","esm2017")}();class Ac{constructor(e){this._delegate=e}static fromBase64String(e){return pg(),new Ac(sa.fromBase64String(e))}static fromUint8Array(e){return Gd(),new Ac(sa.fromUint8Array(e))}toBase64(){return pg(),this._delegate.toBase64()}toUint8Array(){return Gd(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Cf(i){return function ly(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class dy{enableIndexedDbPersistence(e,t){return function Bo(i,e){Tc(i=wr(i,Mr));const t=ii(i),o=i._freezeSettings(),u=new Mm;return bc(t,u,new Sm(u,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Qp(i){Tc(i=wr(i,Mr));const e=ii(i),t=i._freezeSettings(),o=new Mm;return bc(e,o,new Iv(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Al(i){if(i._initialized&&!i._terminated)throw new mt(Ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new fi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{yield(t=(0,X.Z)(function*(o){if(!to.C())return Promise.resolve();const u=o+"main";yield to.delete(u)}),function(o){return t.apply(this,arguments)})(rp(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class gg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Hn||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&fa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Sv(i,e,t,o={}){var u;const d=(i=wr(i,Od))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&fa("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let g,D;if("string"==typeof o.mockUserToken)g=o.mockUserToken,D=hi.MOCK_USER;else{g=(0,ve.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const N=o.mockUserToken.sub||o.mockUserToken.user_id;if(!N)throw new mt(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new hi(N)}i._authCredentials=new du(new Fa(g,D))}}(this._delegate,e,t,o)}enableNetwork(){return function Ml(i){return function lf(i){return i.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield Kp(i),t=yield Zp(i);return e.setNetworkEnabled(!0),function(o){const u=jt(o);return u._u.delete(0),cd(u)}(t)}))}(ii(i=wr(i,Mr)))}(this._delegate)}disableNetwork(){return function xl(i){return function Sd(i){return i.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield Kp(i),t=yield Zp(i);return e.setNetworkEnabled(!1),(o=(0,X.Z)(function*(u){const d=jt(u);d._u.add(0),yield Xa(d),d.gu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(ii(i=wr(i,Mr)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Fm("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Sl(i){return function(e){const t=new fi;return e.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function wm(i,e){return Jh.apply(this,arguments)}(yield Ad(e),t)})),t.promise}(ii(i=wr(i,Mr)))}(this._delegate)}onSnapshotsInSync(e){return function jv(i,e){return function Tv(i,e){const t=new af(e);return i.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return o=yield ao(i),u=t,jt(o).Ru.add(u),void u.next();var o,u})),()=>{t.Rc(),i.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return o=yield ao(i),u=t,void jt(o).Ru.delete(u);var o,u}))}}(ii(i=wr(i,Mr)),qp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new mt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Vl(this,Bm(this._delegate,e))}catch(t){throw Ks(t,"collection()","Firestore.collection()")}}doc(e){try{return new $o(this,Ma(this._delegate,e))}catch(t){throw Ks(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Zs(this,function ff(i,e){if(i=wr(i,Od),km("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new mt(Ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ks(i,null,(t=e,new Ps(tr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ks(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function hg(i,e,t){i=wr(i,Mr);const o=Object.assign(Object.assign({},ty),t);return function(u){if(u.maxAttempts<1)throw new mt(Ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function Md(i,e,t){const o=new fi;return i.asyncQueue.enqueueAndForget((0,X.Z)(function*(){const u=yield(d=i,Wp(d).then(g=>g.datastore));var d;new zp(i.asyncQueue,u,t,e,o).run()})),o.promise}(ii(i),u=>e(new $v(i,u)),o)}(this._delegate,t=>e(new fy(this,t)))}batch(){return ii(this._delegate),new py(new ug(this._delegate,e=>Ll(this._delegate,e)))}loadBundle(e){return function Ol(i,e){const t=ii(i=wr(i,Mr)),o=new Yp;return function Av(i,e,t,o){const u=function(d,g){let D;return D="string"==typeof d?(new TextEncoder).encode(d):d,N=function(N,V){if(N instanceof Uint8Array)return Gp(N,V);if(N instanceof ArrayBuffer)return Gp(new Uint8Array(N),V);if(N instanceof ReadableStream)return N.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(D),new wv(N,g);var N}(t,$h(e));i.asyncQueue.enqueueAndForget((0,X.Z)(function*(){!function Aa(i,e,t){const o=jt(i);var u;(u=(0,X.Z)(function*(d,g,D){try{const N=yield g.getMetadata();if(yield function(He,at){const ft=jt(He),Wt=ri(at.createTime);return ft.persistence.runTransaction("hasNewerBundle","readonly",fn=>ft.Ns.getBundleMetadata(fn,at.id)).then(fn=>!!fn&&fn.createTime.compareTo(Wt)>=0)}(d.localStore,N))return yield g.close(),D._completeWith({taskState:"Success",documentsLoaded:(He=N).totalDocuments,bytesLoaded:He.totalBytes,totalDocuments:He.totalDocuments,totalBytes:He.totalBytes}),Promise.resolve(new Set);D._updateProgress(dv(N));const V=new Q_(N,d.localStore,g.It);let W=yield g.wc();for(;W;){const He=yield V.Ou(W);He&&D._updateProgress(He),W=yield g.wc()}const ue=yield V.complete();return yield Ta(d,ue.Bu,void 0),yield function(He,at){const ft=jt(He);return ft.persistence.runTransaction("Save bundle","readwrite",Wt=>ft.Ns.saveBundleMetadata(Wt,at))}(d.localStore,N),D._completeWith(ue.progress),Promise.resolve(ue.$u)}catch(N){return fa("SyncEngine",`Loading bundle failed with ${N}`),D._failWith(N),Promise.resolve(new Set)}var He}),function(d,g,D){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Ad(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Rl(i,e){return function X_(i,e){return i.asyncQueue.enqueue((0,X.Z)(function*(){return function(t,o){const u=jt(t);return u.persistence.runTransaction("Get named query","readonly",d=>u.Ns.getNamedQuery(d,o))}(yield Td(i),e)}))}(ii(i=wr(i,Mr)),e).then(t=>t?new ks(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Zs(this,t):null)}}class zd extends Gu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ac(new sa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return $o.forKey(t,this.firestore,null)}}class fy{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new zd(e)}get(e){const t=Mc(e);return this._delegate.get(t).then(o=>new Wd(this._firestore,new iu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=Mc(e);return o?(Hd("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const d=Mc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...u),this}delete(e){const t=Mc(e);return this._delegate.delete(t),this}}class py{constructor(e){this._delegate=e}set(e,t,o){const u=Mc(e);return o?(Hd("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const d=Mc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...u),this}delete(e){const t=Mc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Sc{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new jd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Kd(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Sc.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let d=u.get(t);return d||(d=new Sc(e,new zd(e),t),u.set(t,d)),d}}Sc.INSTANCES=new WeakMap;class $o{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zd(e)}static forPath(e,t,o){if(e.length%2!=0)throw new mt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $o(t,new ui(t._delegate,o,new Vt(e)))}static forKey(e,t,o){return new $o(t,new ui(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Vl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Vl(this.firestore,Bm(this._delegate,e))}catch(t){throw Ks(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ve.m9)(e))instanceof ui&&Mv(this._delegate,e)}set(e,t){t=Hd("DocumentReference.set",t);try{return t?oa(this._delegate,e,t):oa(this._delegate,e)}catch(o){throw Ks(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?jo(this._delegate,e):jo(this._delegate,e,t,...o)}catch(u){throw Ks(u,"updateDoc()","DocumentReference.update()")}}delete(){return function aa(i){return Ll(wr(i.firestore,Mr),[new Qo(i._key,ai.none())])}(this._delegate)}onSnapshot(...e){const t=gy(e),o=my(e,u=>new Wd(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return lg(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function ry(i){i=wr(i,ui);const e=wr(i.firestore,Mr),t=ii(e),o=new Fl(e);return function bv(i,e){const t=new fi;return i.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(o=(0,X.Z)(function*(u,d,g){try{const D=yield function(N,V){const W=jt(N);return W.persistence.runTransaction("read document","readonly",ue=>W.localDocuments.getDocument(ue,V))}(u,d);D.isFoundDocument()?g.resolve(D):D.isNoDocument()?g.resolve(null):g.reject(new mt(Ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(D){const N=El(D,`Failed to get document '${d} from cache`);g.reject(N)}}),function(u,d,g){return o.apply(this,arguments)})(yield Td(i),e,t);var o})),t.promise}(t,i._key).then(u=>new iu(e,o,i._key,u,new $u(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function cg(i){i=wr(i,ui);const e=wr(i.firestore,Mr);return df(ii(e),i._key,{source:"server"}).then(t=>dg(e,i,t))}(this._delegate):function ny(i){i=wr(i,ui);const e=wr(i.firestore,Mr);return df(ii(e),i._key).then(t=>dg(e,i,t))}(this._delegate),t.then(o=>new Wd(this.firestore,new iu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new $o(this.firestore,this._delegate.withConverter(e?Sc.getInstance(this.firestore,e):null))}}function Ks(i,e,t){return i.message=i.message.replace(e,t),i}function gy(i){for(const e of i)if("object"==typeof e&&!Cf(e))return e;return{}}function my(i,e){var t,o;let u;return u=Cf(i[0])?i[0]:Cf(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{u.next&&u.next(e(d))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Wd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new $o(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wf(this._delegate,e._delegate)}}class Kd extends Wd{data(e){const t=this._delegate.data(e);return function Hs(i,e){i||sn()}(void 0!==t),t}}class Zs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zd(e)}where(e,t,o){try{return new Zs(this.firestore,su(this._delegate,function Km(i,e,t){const o=e,u=Bd("where",i);return new Wm(u,o,t)}(e,t,o)))}catch(u){throw Ks(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Zs(this.firestore,su(this._delegate,function qm(i,e="asc"){const t=e,o=Bd("orderBy",i);return new Zm(o,t)}(e,t)))}catch(o){throw Ks(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Zs(this.firestore,su(this._delegate,function e0(i){return Um("limit",i),new sg("limit",i,"F")}(e)))}catch(t){throw Ks(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Zs(this.firestore,su(this._delegate,function kv(i){return Um("limitToLast",i),new sg("limitToLast",i,"L")}(e)))}catch(t){throw Ks(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Zs(this.firestore,su(this._delegate,function Qm(...i){return new Ym("startAt",i,!0)}(...e)))}catch(t){throw Ks(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Zs(this.firestore,su(this._delegate,function Fv(...i){return new Ym("startAfter",i,!1)}(...e)))}catch(t){throw Ks(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Zs(this.firestore,su(this._delegate,function Jm(...i){return new Qi("endBefore",i,!1)}(...e)))}catch(t){throw Ks(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Zs(this.firestore,su(this._delegate,function Lv(...i){return new Qi("endAt",i,!0)}(...e)))}catch(t){throw Ks(t,"endAt()","Query.endAt()")}}isEqual(e){return Tl(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Uv(i){i=wr(i,ks);const e=wr(i.firestore,Mr),t=ii(e),o=new Fl(e);return function Rm(i,e){const t=new fi;return i.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(o=(0,X.Z)(function*(u,d,g){try{const D=yield kh(u,d,!0),N=new nu(d,D.Hi),V=N.ju(D.documents),W=N.applyChanges(V,!1);g.resolve(W.snapshot)}catch(D){const N=El(D,`Failed to execute query '${d} against cache`);g.reject(N)}}),function(u,d,g){return o.apply(this,arguments)})(yield Td(i),e,t);var o})),t.promise}(t,i._query).then(u=>new Hu(e,o,i,u))}(this._delegate):"server"===e?.source?function Bv(i){i=wr(i,ks);const e=wr(i.firestore,Mr),t=ii(e),o=new Fl(e);return Pm(t,i._query,{source:"server"}).then(u=>new Hu(e,o,i,u))}(this._delegate):function Oa(i){i=wr(i,ks);const e=wr(i.firestore,Mr),t=ii(e),o=new Fl(e);return ig(i._query),Pm(t,i._query).then(u=>new Hu(e,o,i,u))}(this._delegate),t.then(o=>new mg(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=gy(e),o=my(e,u=>new mg(this.firestore,new Hu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return lg(this._delegate,t,o)}withConverter(e){return new Zs(this.firestore,this._delegate.withConverter(e?Sc.getInstance(this.firestore,e):null))}}class Wv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Kd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class mg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Zs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Kd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Wv(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Kd(this._firestore,o))})}isEqual(e){return wf(this._delegate,e._delegate)}}class Vl extends Zs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $o(this.firestore,e):null}doc(e){try{return new $o(this.firestore,void 0===e?Ma(this._delegate):Ma(this._delegate,e))}catch(t){throw Ks(t,"doc()","CollectionReference.doc()")}}add(e){return function iy(i,e){const t=wr(i.firestore,Mr),o=Ma(i),u=Df(i.converter,e);return Ll(t,[mf(ju(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,ai.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new $o(this.firestore,t))}isEqual(e){return Mv(this._delegate,e._delegate)}withConverter(e){return new Vl(this.firestore,this._delegate.withConverter(e?Sc.getInstance(this.firestore,e):null))}}function Mc(i){return wr(i,ui)}class yg{constructor(...e){this._delegate=new xa(...e)}static documentId(){return new yg(Lr.keyField().canonicalString())}isEqual(e){return(e=(0,ve.m9)(e))instanceof xa&&this._delegate._internalPath.isEqual(e._internalPath)}}class xc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Hv(){return new Fd("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new xc(e)}static delete(){const e=function $d(){return new kd("deleteField")}();return e._methodName="FieldValue.delete",new xc(e)}static arrayUnion(...e){const t=function sy(...i){return new Nv("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new xc(t)}static arrayRemove(...e){const t=function Gv(...i){return new vf("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new xc(t)}static increment(e){const t=function oy(i){return new _f("increment",i)}(e);return t._methodName="FieldValue.increment",new xc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Kv={Firestore:gg,GeoPoint:Nd,Timestamp:Gr,Blob:Ac,Transaction:fy,WriteBatch:py,DocumentReference:$o,DocumentSnapshot:Wd,Query:Zs,QueryDocumentSnapshot:Kd,QuerySnapshot:mg,CollectionReference:Vl,FieldPath:yg,FieldValue:xc,setLogLevel:function hy(i){!function ka(i){ws.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function yy(i){(function Zv(i,e){i.INTERNAL.registerComponent(new Nt.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},Kv)))})(i,(e,t)=>new gg(e,t,new dy)),i.registerVersion("@firebase/firestore-compat","0.1.25")}(wt.Z);var ou=P(3385),vy=P(7128),_y=P(127);function vg(i,e){return function Ey(i,e=U.z){return new S.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(i,e)}function bf(i,e){return vg(i,e).pipe((0,Ee.U)(t=>({payload:t,type:"query"})))}function Zd(i,e){return bf(i,e).pipe((0,me.O)(void 0),(0,we.G)(),(0,Ee.U)(([t,o])=>{const u=o.payload.docChanges(),d=u.map(g=>({type:g.type,payload:g}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((g,D)=>{const N=u.find(W=>W.doc.ref.isEqual(g.ref)),V=t?.payload.docs.find(W=>W.ref.isEqual(g.ref));N&&JSON.stringify(N.doc.metadata)===JSON.stringify(g.metadata)||!N&&V&&JSON.stringify(V.metadata)===JSON.stringify(g.metadata)||d.push({type:"modified",payload:{oldIndex:D,newIndex:D,type:"modified",doc:g}})}),d}))}function _g(i,e,t){return Zd(i,t).pipe((0,ne.R)((o,u)=>function wy(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function qv(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return au(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return au(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return au(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(d=>d.payload),e),[]),(0,re.x)(),(0,Ee.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function au(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function Dy(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Oc{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Zd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ee.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,me.O)(void 0),(0,we.G)(),(0,he.h)(([o,u])=>u.length>0||!o),(0,Ee.U)(([o,u])=>u),pe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ne.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Dy(e);return _g(this.query,t,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(e={}){return bf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ee.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),pe.iC)}get(e){return(0,ae.D)(this.query.get(e)).pipe(pe.iC)}add(e){return this.ref.add(e)}doc(e){return new Yv(this.ref.doc(e),this.afs)}}class Yv{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:d}=Fn(o,t);return new Oc(u,d,this.afs)}snapshotChanges(){return function Iy(i,e){return vg(i,e).pipe((0,me.O)(void 0),(0,we.G)(),(0,Ee.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ee.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ae.D)(this.ref.get(e)).pipe(pe.iC)}}class Eg{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Zd(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ee.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,he.h)(t=>t.length>0),pe.iC):Zd(this.query,this.afs.schedulers.outsideAngular).pipe(pe.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ne.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Dy(e);return _g(this.query,t,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(e={}){return bf(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ee.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),pe.iC)}get(e){return(0,ae.D)(this.query.get(e)).pipe(pe.iC)}}const Qv=new p.OlP("angularfire2.enableFirestorePersistence"),Ig=new p.OlP("angularfire2.firestore.persistenceSettings"),Cy=new p.OlP("angularfire2.firestore.settings"),t0=new p.OlP("angularfire2.firestore.use-emulator");function Fn(i,e=(t=>t)){return{query:e(i),ref:i}}let by=(()=>{class i{constructor(t,o,u,d,g,D,N,V,W,ue,He,at,ft,Wt,fn,vr,Xr){this.schedulers=N;const Vr=(0,Ue.on)(t,D,o),Ii=W;ue&&(0,ou.nw)(Vr,D,He,ft,Wt,fn,at,vr),[this.firestore,this.persistenceEnabled$]=(0,Ue.cc)(`${Vr.name}.firestore`,"AngularFirestore",Vr.name,()=>{const br=D.runOutsideAngular(()=>Vr.firestore());if(d&&br.settings(d),Ii&&br.useEmulator(...Ii),u&&!(0,Ne.PM)(g)){const Ur=()=>{try{return(0,ae.D)(br.enablePersistence(V||void 0).then(()=>!0,()=>!1))}catch(Ji){return typeof console<"u"&&console.warn(Ji),(0,ge.of)(!1)}};return[br,D.runOutsideAngular(Ur)]}return[br,(0,ge.of)(!1)]},[d,Ii,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:g}=Fn(u,o),D=this.schedulers.ngZone.run(()=>d);return new Oc(D,g,this)}collectionGroup(t,o){const u=o||(g=>g),d=this.firestore.collectionGroup(t);return new Eg(u(d),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new Yv(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(p.LFG(Ue.Dh),p.LFG(Ue.xv,8),p.LFG(Qv,8),p.LFG(Cy,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(pe.HU),p.LFG(Ig,8),p.LFG(t0,8),p.LFG(ou.zQ,8),p.LFG(ou.Qv,8),p.LFG(ou.L6,8),p.LFG(ou._Q,8),p.LFG(ou.rT,8),p.LFG(ou.lh,8),p.LFG(ou.f7,8),p.LFG(vy.nm,8))},i.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Jv=(()=>{class i{constructor(){_y.Z.registerVersion("angularfire",pe.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Qv,useValue:!0},{provide:Ig,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=p.oAB({type:i}),i.\u0275inj=p.cJS({providers:[by]}),i})()},2011:(Mt,ke,P)=>{P.d(ke,{Dh:()=>we,GT:()=>pe,Ot:()=>me,cc:()=>Ne,hO:()=>Ue,on:()=>ne,pX:()=>ge,xv:()=>Ee});var p=P(4650),U=P(127),S=P(880);Mt=P.hmd(Mt);const ae=["ngOnDestroy"],ge=(Fe,Nt,Et,ve={})=>new Proxy(Fe,{get:(Le,ce)=>Et.runOutsideAngular(()=>{var Me;if(Fe[ce])return!(null===(Me=ve?.spy)||void 0===Me)&&Me.get&&ve.spy.get(ce,Fe[ce]),Fe[ce];if(ae.indexOf(ce)>-1)return()=>{};const je=Nt.toPromise().then(Z=>{const Ze=Z&&Z[ce];return"function"==typeof Ze?Ze.bind(Z):Ze&&Ze.then?Ze.then(_e=>Et.run(()=>_e)):Et.run(()=>Ze)});return new Proxy(()=>{},{get:(Z,Ze)=>je[Ze],apply:(Z,Ze,_e)=>je.then(be=>{var Se;const Ce=be&&be(..._e);return!(null===(Se=ve?.spy)||void 0===Se)&&Se.apply&&ve.spy.apply(ce,_e,Ce),Ce})})})}),pe=(Fe,Nt)=>{Nt.forEach(Et=>{Object.getOwnPropertyNames(Et.prototype||Et).forEach(ve=>{Object.defineProperty(Fe.prototype,ve,Object.getOwnPropertyDescriptor(Et.prototype||Et,ve))})})};class me{constructor(Nt){return Nt}}const we=new p.OlP("angularfire2.app.options"),Ee=new p.OlP("angularfire2.app.name");function ne(Fe,Nt,Et){const Le="object"==typeof Et&&Et||{};Le.name=Le.name||"string"==typeof Et&&Et||"[DEFAULT]";const Me=U.Z.apps.filter(je=>je&&je.name===Le.name)[0]||Nt.runOutsideAngular(()=>U.Z.initializeApp(Fe,Le));try{JSON.stringify(Fe)!==JSON.stringify(Me.options)&&re("error",`${Me.name} Firebase App already initialized with different options${Mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(Me)}const re=(Fe,...Nt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Fe](...Nt)},he={provide:me,useFactory:ne,deps:[we,p.R0b,[new p.FiY,Ee]]};let Ue=(()=>{class Fe{constructor(Et){U.Z.registerVersion("angularfire",S.q4.full,"core"),U.Z.registerVersion("angularfire",S.q4.full,"app-compat"),U.Z.registerVersion("angular",p.q4F.full,Et.toString())}static initializeApp(Et,ve){return{ngModule:Fe,providers:[{provide:we,useValue:Et},{provide:Ee,useValue:ve}]}}}return Fe.\u0275fac=function(Et){return new(Et||Fe)(p.LFG(p.Lbi))},Fe.\u0275mod=p.oAB({type:Fe}),Fe.\u0275inj=p.cJS({providers:[he]}),Fe})();function Ne(Fe,Nt,Et,ve,Le){const[,ce,Me]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===Fe)||[];if(ce)return function Be(Fe,Nt){try{return Fe.toString()===Nt.toString()}catch{return Fe===Nt}}(Le,Me)||(X("error",`${Nt} was already initialized on the ${Et} Firebase App with different settings.${wt?" You may need to reload as Firebase is not HMR aware.":""}`),X("warn",{is:Le,was:Me})),ce;{const je=ve();return globalThis.\u0275AngularfireInstanceCache.push([Fe,je,Le]),je}}const wt=!!Mt.hot,X=(Fe,...Nt)=>{(0,p.X6Q)()&&typeof console<"u"&&console[Fe](...Nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(Mt,ke,P)=>{P.d(ke,{q4:()=>Pi,iC:()=>Ss,HU:()=>ki,vb:()=>hr,JM:()=>Rr,nk:()=>co});var p=P(4650),U=P(5867),S=P(5861),ae=P(9681),ge=P(2090),pe=P(4859),me=P(1877);P(2833);const Ee="@firebase/remote-config",Ne=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pt{constructor(K,Ie,qe,gt){this.client=K,this.storage=Ie,this.storageCache=qe,this.logger=gt}isCachedDataFresh(K,Ie){if(!Ie)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const qe=Date.now()-Ie,gt=qe<=K;return this.logger.debug(`Config fetch cache check. Cache age millis: ${qe}. Cache max age millis (minimumFetchIntervalMillis setting): ${K}. Is cache hit: ${gt}.`),gt}fetch(K){var Ie=this;return(0,S.Z)(function*(){const[qe,gt]=yield Promise.all([Ie.storage.getLastSuccessfulFetchTimestampMillis(),Ie.storage.getLastSuccessfulFetchResponse()]);if(gt&&Ie.isCachedDataFresh(K.cacheMaxAgeMillis,qe))return gt;K.eTag=gt&&gt.eTag;const Ct=yield Ie.client.fetch(K),Yt=[Ie.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ct.status&&Yt.push(Ie.storage.setLastSuccessfulFetchResponse(Ct)),yield Promise.all(Yt),Ct})()}}function kt(G=navigator){return G.languages&&G.languages[0]||G.language}class Ht{constructor(K,Ie,qe,gt,Ct,Yt){this.firebaseInstallations=K,this.sdkVersion=Ie,this.namespace=qe,this.projectId=gt,this.apiKey=Ct,this.appId=Yt}fetch(K){var Ie=this;return(0,S.Z)(function*(){var qe,gt,Ct;const[Yt,Bn]=yield Promise.all([Ie.firebaseInstallations.getId(),Ie.firebaseInstallations.getToken()]),ot=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ie.projectId}/namespaces/${Ie.namespace}:fetch?key=${Ie.apiKey}`,un={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":K.eTag||"*"},_n={sdk_version:Ie.sdkVersion,app_instance_id:Yt,app_instance_id_token:Bn,app_id:Ie.appId,language_code:kt()},zi={method:"POST",headers:un,body:JSON.stringify(_n)},Sr=fetch(ot,zi),es=new Promise((Es,R)=>{K.signal.addEventListener(()=>{const x=new Error("The operation was aborted.");x.name="AbortError",R(x)})});let yi;try{yield Promise.race([Sr,es]),yi=yield Sr}catch(Es){let R="fetch-client-network";throw"AbortError"===(null===(qe=Es)||void 0===qe?void 0:qe.name)&&(R="fetch-timeout"),Ne.create(R,{originalErrorMessage:null===(gt=Es)||void 0===gt?void 0:gt.message})}let ti=yi.status;const _s=yi.headers.get("ETag")||void 0;let Fi,Si;if(200===yi.status){let Es;try{Es=yield yi.json()}catch(R){throw Ne.create("fetch-client-parse",{originalErrorMessage:null===(Ct=R)||void 0===Ct?void 0:Ct.message})}Fi=Es.entries,Si=Es.state}if("INSTANCE_STATE_UNSPECIFIED"===Si?ti=500:"NO_CHANGE"===Si?ti=304:("NO_TEMPLATE"===Si||"EMPTY_CONFIG"===Si)&&(Fi={}),304!==ti&&200!==ti)throw Ne.create("fetch-status",{httpStatus:ti});return{status:ti,eTag:_s,config:Fi}})()}}class In{constructor(K,Ie){this.client=K,this.storage=Ie}fetch(K){var Ie=this;return(0,S.Z)(function*(){const qe=(yield Ie.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ie.attemptFetch(K,qe)})()}attemptFetch(K,{throttleEndTimeMillis:Ie,backoffCount:qe}){var gt=this;return(0,S.Z)(function*(){yield function tt(G,K){return new Promise((Ie,qe)=>{const gt=Math.max(K-Date.now(),0),Ct=setTimeout(Ie,gt);G.addEventListener(()=>{clearTimeout(Ct),qe(Ne.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}(K.signal,Ie);try{const Ct=yield gt.client.fetch(K);return yield gt.storage.deleteThrottleMetadata(),Ct}catch(Ct){if(!function Gt(G){if(!(G instanceof ge.ZR&&G.customData))return!1;const K=Number(G.customData.httpStatus);return 429===K||500===K||503===K||504===K}(Ct))throw Ct;const Yt={throttleEndTimeMillis:Date.now()+(0,ge.$s)(qe),backoffCount:qe+1};return yield gt.storage.setThrottleMetadata(Yt),gt.attemptFetch(K,Yt)}})()}}class fr{constructor(K,Ie,qe,gt,Ct){this.app=K,this._client=Ie,this._storageCache=qe,this._storage=gt,this._logger=Ct,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qt(G,K){var Ie;const qe=G.target.error||void 0;return Ne.create(K,{originalErrorMessage:qe&&(null===(Ie=qe)||void 0===Ie?void 0:Ie.message)})}const Xt="app_namespace_store";class Ln{constructor(K,Ie,qe,gt=function Qn(){return new Promise((G,K)=>{var Ie;try{const qe=indexedDB.open("firebase_remote_config",1);qe.onerror=gt=>{K(qt(gt,"storage-open"))},qe.onsuccess=gt=>{G(gt.target.result)},qe.onupgradeneeded=gt=>{0===gt.oldVersion&&gt.target.result.createObjectStore(Xt,{keyPath:"compositeKey"})}}catch(qe){K(Ne.create("storage-open",{originalErrorMessage:null===(Ie=qe)||void 0===Ie?void 0:Ie.message}))}})}()){this.appId=K,this.appName=Ie,this.namespace=qe,this.openDbPromise=gt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(K){return this.set("last_fetch_status",K)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(K){return this.set("last_successful_fetch_timestamp_millis",K)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(K){return this.set("last_successful_fetch_response",K)}getActiveConfig(){return this.get("active_config")}setActiveConfig(K){return this.set("active_config",K)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(K){return this.set("active_config_etag",K)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(K){return this.set("throttle_metadata",K)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(K){var Ie=this;return(0,S.Z)(function*(){const qe=yield Ie.openDbPromise;return new Promise((gt,Ct)=>{var Yt;const Fr=qe.transaction([Xt],"readonly").objectStore(Xt),ot=Ie.createCompositeKey(K);try{const un=Fr.get(ot);un.onerror=_n=>{Ct(qt(_n,"storage-get"))},un.onsuccess=_n=>{const zi=_n.target.result;gt(zi?zi.value:void 0)}}catch(un){Ct(Ne.create("storage-get",{originalErrorMessage:null===(Yt=un)||void 0===Yt?void 0:Yt.message}))}})})()}set(K,Ie){var qe=this;return(0,S.Z)(function*(){const gt=yield qe.openDbPromise;return new Promise((Ct,Yt)=>{var Bn;const ot=gt.transaction([Xt],"readwrite").objectStore(Xt),un=qe.createCompositeKey(K);try{const _n=ot.put({compositeKey:un,value:Ie});_n.onerror=zi=>{Yt(qt(zi,"storage-set"))},_n.onsuccess=()=>{Ct()}}catch(_n){Yt(Ne.create("storage-set",{originalErrorMessage:null===(Bn=_n)||void 0===Bn?void 0:Bn.message}))}})})()}delete(K){var Ie=this;return(0,S.Z)(function*(){const qe=yield Ie.openDbPromise;return new Promise((gt,Ct)=>{var Yt;const Fr=qe.transaction([Xt],"readwrite").objectStore(Xt),ot=Ie.createCompositeKey(K);try{const un=Fr.delete(ot);un.onerror=_n=>{Ct(qt(_n,"storage-delete"))},un.onsuccess=()=>{gt()}}catch(un){Ct(Ne.create("storage-delete",{originalErrorMessage:null===(Yt=un)||void 0===Yt?void 0:Yt.message}))}})})()}createCompositeKey(K){return[this.appId,this.appName,this.namespace,K].join()}}class mr{constructor(K){this.storage=K}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var K=this;return(0,S.Z)(function*(){const Ie=K.storage.getLastFetchStatus(),qe=K.storage.getLastSuccessfulFetchTimestampMillis(),gt=K.storage.getActiveConfig(),Ct=yield Ie;Ct&&(K.lastFetchStatus=Ct);const Yt=yield qe;Yt&&(K.lastSuccessfulFetchTimestampMillis=Yt);const Bn=yield gt;Bn&&(K.activeConfig=Bn)})()}setLastFetchStatus(K){return this.lastFetchStatus=K,this.storage.setLastFetchStatus(K)}setLastSuccessfulFetchTimestampMillis(K){return this.lastSuccessfulFetchTimestampMillis=K,this.storage.setLastSuccessfulFetchTimestampMillis(K)}setActiveConfig(K){return this.activeConfig=K,this.storage.setActiveConfig(K)}}function ir(){return bt.apply(this,arguments)}function bt(){return(bt=(0,S.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch{return!1}})).apply(this,arguments)}!function Ft(){(0,ae._registerComponent)(new pe.wA("remote-config",function G(K,{instanceIdentifier:Ie}){const qe=K.getProvider("app").getImmediate(),gt=K.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ne.create("registration-window");if(!(0,ge.hl)())throw Ne.create("indexed-db-unavailable");const{projectId:Ct,apiKey:Yt,appId:Bn}=qe.options;if(!Ct)throw Ne.create("registration-project-id");if(!Yt)throw Ne.create("registration-api-key");if(!Bn)throw Ne.create("registration-app-id");const Fr=new Ln(Bn,qe.name,Ie=Ie||"firebase"),ot=new mr(Fr),un=new me.Yd(Ee);un.logLevel=me.in.ERROR;const _n=new Ht(gt,ae.SDK_VERSION,Ie,Ct,Yt,Bn),zi=new In(_n,Fr),Sr=new Pt(zi,Fr,ot,un),es=new fr(qe,Sr,ot,Fr,un);return function Me(G){const K=(0,ge.m9)(G);K._initializePromise||(K._initializePromise=K._storageCache.loadFromStorage().then(()=>{K._isInitializationComplete=!0}))}(es),es},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Ee,"0.3.11"),(0,ae.registerVersion)(Ee,"0.3.11","esm2017")}();var Zn=P(8766);const Mn="/firebase-messaging-sw.js",Vn="/firebase-cloud-messaging-push-scope",Tr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",or="google.c.a.c_id",Cn="google.c.a.c_l",ln="google.c.a.ts",Ut="google.c.a.e";var yn=(()=>{return(G=yn||(yn={})).PUSH_RECEIVED="push-received",G.NOTIFICATION_CLICKED="notification-clicked",yn;var G})();function xn(G){const K=new Uint8Array(G);return btoa(String.fromCharCode(...K)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jn(G){const Ie=(G+"=".repeat((4-G.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),qe=atob(Ie),gt=new Uint8Array(qe.length);for(let Ct=0;Ct<qe.length;++Ct)gt[Ct]=qe.charCodeAt(Ct);return gt}const _r="fcm_token_details_db",jr="fcm_token_object_Store";function An(G){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,S.Z)(function*(G){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ct=>Ct.name).includes(_r))return null;let K=null;return(yield(0,Zn.X3)(_r,5,{upgrade:(qe=(0,S.Z)(function*(gt,Ct,Yt,Bn){var Fr;if(Ct<2||!gt.objectStoreNames.contains(jr))return;const ot=Bn.objectStore(jr),un=yield ot.index("fcmSenderId").get(G);if(yield ot.clear(),un)if(2===Ct){const _n=un;if(!_n.auth||!_n.p256dh||!_n.endpoint)return;K={token:_n.fcmToken,createTime:null!==(Fr=_n.createTime)&&void 0!==Fr?Fr:Date.now(),subscriptionOptions:{auth:_n.auth,p256dh:_n.p256dh,endpoint:_n.endpoint,swScope:_n.swScope,vapidKey:"string"==typeof _n.vapidKey?_n.vapidKey:xn(_n.vapidKey)}}}else if(3===Ct){const _n=un;K={token:_n.fcmToken,createTime:_n.createTime,subscriptionOptions:{auth:xn(_n.auth),p256dh:xn(_n.p256dh),endpoint:_n.endpoint,swScope:_n.swScope,vapidKey:xn(_n.vapidKey)}}}else if(4===Ct){const _n=un;K={token:_n.fcmToken,createTime:_n.createTime,subscriptionOptions:{auth:xn(_n.auth),p256dh:xn(_n.p256dh),endpoint:_n.endpoint,swScope:_n.swScope,vapidKey:xn(_n.vapidKey)}}}}),function(Ct,Yt,Bn,Fr){return qe.apply(this,arguments)})})).close(),yield(0,Zn.Lj)(_r),yield(0,Zn.Lj)("fcm_vapid_details_db"),yield(0,Zn.Lj)("undefined"),Pn(K)?K:null;var qe}),Ar.apply(this,arguments)}function Pn(G){if(!G||!G.subscriptionOptions)return!1;const{subscriptionOptions:K}=G;return"number"==typeof G.createTime&&G.createTime>0&&"string"==typeof G.token&&G.token.length>0&&"string"==typeof K.auth&&K.auth.length>0&&"string"==typeof K.p256dh&&K.p256dh.length>0&&"string"==typeof K.endpoint&&K.endpoint.length>0&&"string"==typeof K.swScope&&K.swScope.length>0&&"string"==typeof K.vapidKey&&K.vapidKey.length>0}const ie="firebase-messaging-store";let le=null;function fe(){return le||(le=(0,Zn.X3)("firebase-messaging-database",1,{upgrade:(G,K)=>{0===K&&G.createObjectStore(ie)}})),le}function st(G){return _t.apply(this,arguments)}function _t(){return(_t=(0,S.Z)(function*(G){const K=Ge(G),qe=yield(yield fe()).transaction(ie).objectStore(ie).get(K);if(qe)return qe;{const gt=yield An(G.appConfig.senderId);if(gt)return yield Lt(G,gt),gt}})).apply(this,arguments)}function Lt(G,K){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,S.Z)(function*(G,K){const Ie=Ge(G),gt=(yield fe()).transaction(ie,"readwrite");return yield gt.objectStore(ie).put(K,Ie),yield gt.done,K})).apply(this,arguments)}function mn(G){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,S.Z)(function*(G){const K=Ge(G),qe=(yield fe()).transaction(ie,"readwrite");yield qe.objectStore(ie).delete(K),yield qe.done})).apply(this,arguments)}function Ge({appConfig:G}){return G.appId}const pt=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Dt(G,K){return zt.apply(this,arguments)}function zt(){return(zt=(0,S.Z)(function*(G,K){var Ie;const qe=yield xe(G),gt=St(K),Ct={method:"POST",headers:qe,body:JSON.stringify(gt)};let Yt;try{Yt=yield(yield fetch(q(G.appConfig),Ct)).json()}catch(Bn){throw pt.create("token-subscribe-failed",{errorInfo:null===(Ie=Bn)||void 0===Ie?void 0:Ie.toString()})}if(Yt.error)throw pt.create("token-subscribe-failed",{errorInfo:Yt.error.message});if(!Yt.token)throw pt.create("token-subscribe-no-token");return Yt.token})).apply(this,arguments)}function Zt(G,K){return dn.apply(this,arguments)}function dn(){return(dn=(0,S.Z)(function*(G,K){var Ie;const qe=yield xe(G),gt=St(K.subscriptionOptions),Ct={method:"PATCH",headers:qe,body:JSON.stringify(gt)};let Yt;try{Yt=yield(yield fetch(`${q(G.appConfig)}/${K.token}`,Ct)).json()}catch(Bn){throw pt.create("token-update-failed",{errorInfo:null===(Ie=Bn)||void 0===Ie?void 0:Ie.toString()})}if(Yt.error)throw pt.create("token-update-failed",{errorInfo:Yt.error.message});if(!Yt.token)throw pt.create("token-update-no-token");return Yt.token})).apply(this,arguments)}function te(G,K){return J.apply(this,arguments)}function J(){return(J=(0,S.Z)(function*(G,K){var Ie;const gt={method:"DELETE",headers:yield xe(G)};try{const Yt=yield(yield fetch(`${q(G.appConfig)}/${K}`,gt)).json();if(Yt.error)throw pt.create("token-unsubscribe-failed",{errorInfo:Yt.error.message})}catch(Ct){throw pt.create("token-unsubscribe-failed",{errorInfo:null===(Ie=Ct)||void 0===Ie?void 0:Ie.toString()})}})).apply(this,arguments)}function q({projectId:G}){return`https://fcmregistrations.googleapis.com/v1/projects/${G}/registrations`}function xe(G){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,S.Z)(function*({appConfig:G,installations:K}){const Ie=yield K.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":G.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ie}`})})).apply(this,arguments)}function St({p256dh:G,auth:K,endpoint:Ie,vapidKey:qe}){const gt={web:{endpoint:Ie,auth:K,p256dh:G}};return qe!==Tr&&(gt.web.applicationPubKey=qe),gt}const hn=6048e5;function vn(G){return dt.apply(this,arguments)}function dt(){return(dt=(0,S.Z)(function*(G){const K=yield Bt(G.swRegistration,G.vapidKey),Ie={vapidKey:G.vapidKey,swScope:G.swRegistration.scope,endpoint:K.endpoint,auth:xn(K.getKey("auth")),p256dh:xn(K.getKey("p256dh"))},qe=yield st(G.firebaseDependencies);if(qe){if(qn(qe.subscriptionOptions,Ie))return Date.now()>=qe.createTime+hn?de(G,{token:qe.token,createTime:Date.now(),subscriptionOptions:Ie}):qe.token;try{yield te(G.firebaseDependencies,qe.token)}catch(gt){console.warn(gt)}return rt(G.firebaseDependencies,Ie)}return rt(G.firebaseDependencies,Ie)})).apply(this,arguments)}function en(G){return ct.apply(this,arguments)}function ct(){return(ct=(0,S.Z)(function*(G){const K=yield st(G.firebaseDependencies);K&&(yield te(G.firebaseDependencies,K.token),yield mn(G.firebaseDependencies));const Ie=yield G.swRegistration.pushManager.getSubscription();return!Ie||Ie.unsubscribe()})).apply(this,arguments)}function de(G,K){return Re.apply(this,arguments)}function Re(){return(Re=(0,S.Z)(function*(G,K){try{const Ie=yield Zt(G.firebaseDependencies,K),qe=Object.assign(Object.assign({},K),{token:Ie,createTime:Date.now()});return yield Lt(G.firebaseDependencies,qe),Ie}catch(Ie){throw yield en(G),Ie}})).apply(this,arguments)}function rt(G,K){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,S.Z)(function*(G,K){const qe={token:yield Dt(G,K),createTime:Date.now(),subscriptionOptions:K};return yield Lt(G,qe),qe.token})).apply(this,arguments)}function Bt(G,K){return pn.apply(this,arguments)}function pn(){return(pn=(0,S.Z)(function*(G,K){return(yield G.pushManager.getSubscription())||G.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jn(K)})})).apply(this,arguments)}function qn(G,K){return K.vapidKey===G.vapidKey&&K.endpoint===G.endpoint&&K.auth===G.auth&&K.p256dh===G.p256dh}function En(G){const K={from:G.from,collapseKey:G.collapse_key,messageId:G.fcmMessageId};return function pr(G,K){if(!K.notification)return;G.notification={};const Ie=K.notification.title;Ie&&(G.notification.title=Ie);const qe=K.notification.body;qe&&(G.notification.body=qe);const gt=K.notification.image;gt&&(G.notification.image=gt)}(K,G),function On(G,K){!K.data||(G.data=K.data)}(K,G),function cn(G,K){var Ie,qe,gt,Ct,Yt;if(!(K.fcmOptions||null!==(Ie=K.notification)&&void 0!==Ie&&Ie.click_action))return;G.fcmOptions={};const Bn=null!==(gt=null===(qe=K.fcmOptions)||void 0===qe?void 0:qe.link)&&void 0!==gt?gt:null===(Ct=K.notification)||void 0===Ct?void 0:Ct.click_action;Bn&&(G.fcmOptions.link=Bn);const Fr=null===(Yt=K.fcmOptions)||void 0===Yt?void 0:Yt.analytics_label;Fr&&(G.fcmOptions.analyticsLabel=Fr)}(K,G),K}function xr(G){return"object"==typeof G&&!!G&&or in G}function ar(G,K){const Ie=[];for(let qe=0;qe<G.length;qe++)Ie.push(G.charAt(qe)),qe<K.length&&Ie.push(K.charAt(qe));return Ie.join("")}function ci(G){return pt.create("missing-app-config-values",{valueName:G})}ar("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ar("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hr{constructor(K,Ie,qe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const gt=function Xn(G){if(!G||!G.options)throw ci("App Configuration Object");if(!G.name)throw ci("App Name");const K=["projectId","apiKey","appId","messagingSenderId"],{options:Ie}=G;for(const qe of K)if(!Ie[qe])throw ci(qe);return{appName:G.name,projectId:Ie.projectId,apiKey:Ie.apiKey,appId:Ie.appId,senderId:Ie.messagingSenderId}}(K);this.firebaseDependencies={app:K,appConfig:gt,installations:Ie,analyticsProvider:qe}}_delete(){return Promise.resolve()}}function Oe(G){return Te.apply(this,arguments)}function Te(){return(Te=(0,S.Z)(function*(G){var K;try{G.swRegistration=yield navigator.serviceWorker.register(Mn,{scope:Vn}),G.swRegistration.update().catch(()=>{})}catch(Ie){throw pt.create("failed-service-worker-registration",{browserErrorMessage:null===(K=Ie)||void 0===K?void 0:K.message})}})).apply(this,arguments)}function Ve(G,K){return nt.apply(this,arguments)}function nt(){return(nt=(0,S.Z)(function*(G,K){if(!K&&!G.swRegistration&&(yield Oe(G)),K||!G.swRegistration){if(!(K instanceof ServiceWorkerRegistration))throw pt.create("invalid-sw-registration");G.swRegistration=K}})).apply(this,arguments)}function yt(G,K){return xt.apply(this,arguments)}function xt(){return(xt=(0,S.Z)(function*(G,K){K?G.vapidKey=K:G.vapidKey||(G.vapidKey=Tr)})).apply(this,arguments)}function Dr(){return(Dr=(0,S.Z)(function*(G,K){if(!navigator)throw pt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pt.create("permission-blocked");return yield yt(G,K?.vapidKey),yield Ve(G,K?.serviceWorkerRegistration),vn(G)})).apply(this,arguments)}function zn(G,K,Ie){return er.apply(this,arguments)}function er(){return(er=(0,S.Z)(function*(G,K,Ie){const qe=li(K);(yield G.firebaseDependencies.analyticsProvider.get()).logEvent(qe,{message_id:Ie[or],message_name:Ie[Cn],message_time:Ie[ln],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function li(G){switch(G){case yn.NOTIFICATION_CLICKED:return"notification_open";case yn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Or(){return(Or=(0,S.Z)(function*(G,K){const Ie=K.data;if(!Ie.isFirebaseMessaging)return;G.onMessageHandler&&Ie.messageType===yn.PUSH_RECEIVED&&("function"==typeof G.onMessageHandler?G.onMessageHandler(En(Ie)):G.onMessageHandler.next(En(Ie)));const qe=Ie.data;xr(qe)&&"1"===qe[Ut]&&(yield zn(G,Ie.messageType,qe))})).apply(this,arguments)}const wi="@firebase/messaging",Pr=G=>{const K=new Hr(G.getProvider("app").getImmediate(),G.getProvider("installations-internal").getImmediate(),G.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ie=>function Ui(G,K){return Or.apply(this,arguments)}(K,Ie)),K},qs=G=>{const K=G.getProvider("messaging").getImmediate();return{getToken:qe=>function bn(G,K){return Dr.apply(this,arguments)}(K,qe)}};function Di(){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,S.Z)(function*(){try{yield(0,ge.eu)()}catch{return!1}return typeof window<"u"&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Do(){(0,ae._registerComponent)(new pe.wA("messaging",Pr,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("messaging-internal",qs,"PRIVATE")),(0,ae.registerVersion)(wi,"0.9.16"),(0,ae.registerVersion)(wi,"0.9.16","esm2017")}();var Ci=P(7982),Xi=P(4408),Bi=P(7565);const bi=new class Co extends Bi.v{}(class Oi extends Xi.o{constructor(K,Ie){super(K,Ie),this.scheduler=K,this.work=Ie}schedule(K,Ie=0){return Ie>0?super.schedule(K,Ie):(this.delay=Ie,this.state=K,this.scheduler.flush(this),this)}execute(K,Ie){return Ie>0||this.closed?super.execute(K,Ie):this._execute(K,Ie)}requestAsyncId(K,Ie,qe=0){return null!=qe&&qe>0||null==qe&&this.delay>0?super.requestAsyncId(K,Ie,qe):K.flush(this)}});var Zr=P(4986),Ri=P(8505),ms=P(9468),mi=P(5363);const Pi=new p.GfV("7.4.1"),ys="__angularfire_symbol__analyticsIsSupportedValue",$i="__angularfire_symbol__analyticsIsSupported",os="__angularfire_symbol__remoteConfigIsSupportedValue",Hi="__angularfire_symbol__remoteConfigIsSupported",ni="__angularfire_symbol__messagingIsSupportedValue",Ti="__angularfire_symbol__messagingIsSupported";globalThis[$i]||(globalThis[$i]=(0,Ci.Gb)().then(G=>globalThis[ys]=G).catch(()=>globalThis[ys]=!1)),globalThis[Ti]||(globalThis[Ti]=Di().then(G=>globalThis[ni]=G).catch(()=>globalThis[ni]=!1)),globalThis[Hi]||(globalThis[Hi]=ir().then(G=>globalThis[os]=G).catch(()=>globalThis[os]=!1));const co={async:()=>globalThis[$i],sync:()=>{const G=globalThis[ys];if(void 0===G)throw new Error((G=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${G} in the constructor, first ensure that ${G} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${G})\`.`)("Analytics"));return G}};function Rr(G,K,Ie){if(K){if(1===K.length)return K[0];const Ct=K.filter(Yt=>Yt.app===Ie);if(1===Ct.length)return Ct[0]}return Ie.container.getProvider(G).getImmediate({optional:!0})}const hr=(G,K)=>{const Ie=K?[K]:(0,U.C6)(),qe=[];return Ie.forEach(gt=>{gt.container.getProvider(G).instances.forEach(Yt=>{qe.includes(Yt)||qe.push(Yt)})}),qe};function Gi(){}class Ai{constructor(K,Ie=bi){this.zone=K,this.delegate=Ie}now(){return this.delegate.now()}schedule(K,Ie,qe){const gt=this.zone;return this.delegate.schedule(function(Yt){gt.runGuarded(()=>{K.apply(this,[Yt])})},Ie,qe)}}class kr{constructor(K){this.zone=K,this.task=null}call(K,Ie){const qe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gi,{},Gi,Gi)),Ie.pipe((0,Ri.b)({next:qe,complete:qe,error:qe})).subscribe(K).add(qe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ki=(()=>{class G{constructor(Ie){this.ngZone=Ie,this.outsideAngular=Ie.runOutsideAngular(()=>new Ai(Zone.current)),this.insideAngular=Ie.run(()=>new Ai(Zone.current,Zr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return G.\u0275fac=function(Ie){return new(Ie||G)(p.LFG(p.R0b))},G.\u0275prov=p.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();function di(){const G=globalThis.\u0275AngularFireScheduler;if(!G)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return G}function Ss(G){return di(),function ei(G){return function(Ie){return(Ie=Ie.lift(new kr(G.ngZone))).pipe((0,ms.R)(G.outsideAngular),(0,mi.Q)(G.insideAngular))}}(di())(G)}},2090:(Mt,ke,P)=>{P.d(ke,{$s:()=>jr,BH:()=>Ue,G6:()=>je,L:()=>we,LL:()=>ut,Sg:()=>Ne,UG:()=>X,US:()=>pe,ZB:()=>re,ZR:()=>Ce,b$:()=>Et,eu:()=>Ze,hl:()=>Z,jU:()=>Fe,m9:()=>Pn,ne:()=>ir,pd:()=>wn,r3:()=>fr,ru:()=>Nt,tV:()=>Ee,uI:()=>wt,vZ:()=>sr,w1:()=>Le,xO:()=>mr,xb:()=>Xt,z$:()=>Be,zI:()=>_e,zd:()=>Ft});const ae=function(ye){const ee=[];let ie=0;for(let le=0;le<ye.length;le++){let fe=ye.charCodeAt(le);fe<128?ee[ie++]=fe:fe<2048?(ee[ie++]=fe>>6|192,ee[ie++]=63&fe|128):55296==(64512&fe)&&le+1<ye.length&&56320==(64512&ye.charCodeAt(le+1))?(fe=65536+((1023&fe)<<10)+(1023&ye.charCodeAt(++le)),ee[ie++]=fe>>18|240,ee[ie++]=fe>>12&63|128,ee[ie++]=fe>>6&63|128,ee[ie++]=63&fe|128):(ee[ie++]=fe>>12|224,ee[ie++]=fe>>6&63|128,ee[ie++]=63&fe|128)}return ee},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,ee){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let fe=0;fe<ye.length;fe+=3){const st=ye[fe],_t=fe+1<ye.length,Lt=_t?ye[fe+1]:0,Nn=fe+2<ye.length,mn=Nn?ye[fe+2]:0;let et=(15&Lt)<<2|mn>>6,pt=63&mn;Nn||(pt=64,_t||(et=64)),le.push(ie[st>>2],ie[(3&st)<<4|Lt>>4],ie[et],ie[pt])}return le.join("")},encodeString(ye,ee){return this.HAS_NATIVE_SUPPORT&&!ee?btoa(ye):this.encodeByteArray(ae(ye),ee)},decodeString(ye,ee){return this.HAS_NATIVE_SUPPORT&&!ee?atob(ye):function(ye){const ee=[];let ie=0,le=0;for(;ie<ye.length;){const fe=ye[ie++];if(fe<128)ee[le++]=String.fromCharCode(fe);else if(fe>191&&fe<224){const st=ye[ie++];ee[le++]=String.fromCharCode((31&fe)<<6|63&st)}else if(fe>239&&fe<365){const Nn=((7&fe)<<18|(63&ye[ie++])<<12|(63&ye[ie++])<<6|63&ye[ie++])-65536;ee[le++]=String.fromCharCode(55296+(Nn>>10)),ee[le++]=String.fromCharCode(56320+(1023&Nn))}else{const st=ye[ie++],_t=ye[ie++];ee[le++]=String.fromCharCode((15&fe)<<12|(63&st)<<6|63&_t)}}return ee.join("")}(this.decodeStringToByteArray(ye,ee))},decodeStringToByteArray(ye,ee){this.init_();const ie=ee?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let fe=0;fe<ye.length;){const st=ie[ye.charAt(fe++)],Lt=fe<ye.length?ie[ye.charAt(fe)]:0;++fe;const mn=fe<ye.length?ie[ye.charAt(fe)]:64;++fe;const Ge=fe<ye.length?ie[ye.charAt(fe)]:64;if(++fe,null==st||null==Lt||null==mn||null==Ge)throw Error();le.push(st<<2|Lt>>4),64!==mn&&(le.push(Lt<<4&240|mn>>2),64!==Ge&&le.push(mn<<6&192|Ge))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}},we=function(ye){return function(ye){const ee=ae(ye);return pe.encodeByteArray(ee,!0)}(ye).replace(/\./g,"")},Ee=function(ye){try{return pe.decodeString(ye,!0)}catch(ee){console.error("base64Decode failed: ",ee)}return null};function re(ye,ee){if(!(ee instanceof Object))return ee;switch(ee.constructor){case Date:return new Date(ee.getTime());case Object:void 0===ye&&(ye={});break;case Array:ye=[];break;default:return ee}for(const ie in ee)!ee.hasOwnProperty(ie)||!he(ie)||(ye[ie]=re(ye[ie],ee[ie]));return ye}function he(ye){return"__proto__"!==ye}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ee,ie)=>{this.resolve=ee,this.reject=ie})}wrapCallback(ee){return(ie,le)=>{ie?this.reject(ie):this.resolve(le),"function"==typeof ee&&(this.promise.catch(()=>{}),1===ee.length?ee(ie):ee(ie,le))}}}function Ne(ye,ee){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=ee||"demo-project",fe=ye.iat||0,st=ye.sub||ye.user_id;if(!st)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _t=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:fe,exp:fe+3600,auth_time:fe,sub:st,user_id:st,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(_t)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function wt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function X(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fe(){return"object"==typeof self&&self.self===self}function Nt(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function Et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){const ye=Be();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function je(){return!X()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z(){return"object"==typeof indexedDB}function Ze(){return new Promise((ye,ee)=>{try{let ie=!0;const le="validate-browser-context-for-indexeddb-analytics-module",fe=self.indexedDB.open(le);fe.onsuccess=()=>{fe.result.close(),ie||self.indexedDB.deleteDatabase(le),ye(!0)},fe.onupgradeneeded=()=>{ie=!1},fe.onerror=()=>{var st;ee((null===(st=fe.error)||void 0===st?void 0:st.message)||"")}}catch(ie){ee(ie)}})}function _e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ce extends Error{constructor(ee,ie,le){super(ie),this.code=ee,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ut.prototype.create)}}class ut{constructor(ee,ie,le){this.service=ee,this.serviceName=ie,this.errors=le}create(ee,...ie){const le=ie[0]||{},fe=`${this.service}/${ee}`,st=this.errors[ee],_t=st?function lt(ye,ee){return ye.replace(Pt,(ie,le)=>{const fe=ee[le];return null!=fe?String(fe):`<${le}?>`})}(st,le):"Error";return new Ce(fe,`${this.serviceName}: ${_t} (${fe}).`,le)}}const Pt=/\{\$([^}]+)}/g;function fr(ye,ee){return Object.prototype.hasOwnProperty.call(ye,ee)}function Xt(ye){for(const ee in ye)if(Object.prototype.hasOwnProperty.call(ye,ee))return!1;return!0}function sr(ye,ee){if(ye===ee)return!0;const ie=Object.keys(ye),le=Object.keys(ee);for(const fe of ie){if(!le.includes(fe))return!1;const st=ye[fe],_t=ee[fe];if(Qn(st)&&Qn(_t)){if(!sr(st,_t))return!1}else if(st!==_t)return!1}for(const fe of le)if(!ie.includes(fe))return!1;return!0}function Qn(ye){return null!==ye&&"object"==typeof ye}function mr(ye){const ee=[];for(const[ie,le]of Object.entries(ye))Array.isArray(le)?le.forEach(fe=>{ee.push(encodeURIComponent(ie)+"="+encodeURIComponent(fe))}):ee.push(encodeURIComponent(ie)+"="+encodeURIComponent(le));return ee.length?"&"+ee.join("&"):""}function Ft(ye){const ee={};return ye.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[fe,st]=le.split("=");ee[decodeURIComponent(fe)]=decodeURIComponent(st)}}),ee}function wn(ye){const ee=ye.indexOf("?");if(!ee)return"";const ie=ye.indexOf("#",ee);return ye.substring(ee,ie>0?ie:void 0)}function ir(ye,ee){const ie=new bt(ye,ee);return ie.subscribe.bind(ie)}class bt{constructor(ee,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{ee(this)}).catch(le=>{this.error(le)})}next(ee){this.forEachObserver(ie=>{ie.next(ee)})}error(ee){this.forEachObserver(ie=>{ie.error(ee)}),this.close(ee)}complete(){this.forEachObserver(ee=>{ee.complete()}),this.close()}subscribe(ee,ie,le){let fe;if(void 0===ee&&void 0===ie&&void 0===le)throw new Error("Missing Observer.");fe=function Mn(ye,ee){if("object"!=typeof ye||null===ye)return!1;for(const ie of ee)if(ie in ye&&"function"==typeof ye[ie])return!0;return!1}(ee,["next","error","complete"])?ee:{next:ee,error:ie,complete:le},void 0===fe.next&&(fe.next=Vn),void 0===fe.error&&(fe.error=Vn),void 0===fe.complete&&(fe.complete=Vn);const st=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?fe.error(this.finalError):fe.complete()}catch{}}),this.observers.push(fe),st}unsubscribeOne(ee){void 0===this.observers||void 0===this.observers[ee]||(delete this.observers[ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ee){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,ee)}sendOne(ee,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ee])try{ie(this.observers[ee])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(ee){this.finalized||(this.finalized=!0,void 0!==ee&&(this.finalError=ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vn(){}function jr(ye,ee=1e3,ie=2){const le=ee*Math.pow(ie,ye),fe=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+fe)}function Pn(ye){return ye&&ye._delegate?ye._delegate:ye}},5895:(Mt,ke,P)=>{P.d(ke,{b:()=>p});class p{constructor(){this.correo="",this.clave="",this.nombre=""}existeCorreo(S){let ae=!1;return S.forEach(ge=>{ge.correo==this.correo&&(ae=!0)}),ae}correspondeClave(S){let ae=!1;return S.forEach(ge=>{ge.correo==this.correo&&ge.clave==this.clave&&(ae=!0)}),ae}equals(S){return this.correo==S.correo}static toUsuario(S){let ae=new p;return ae.correo=S.correo,ae.clave=S.clave,ae.nombre=S.nombre,ae}validarCorreo(){return new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(this.correo)}validarNombre(){return!(null==this.nombre||""==this.nombre||" "==this.nombre||this.nombre.length>20)}validarClave(){return!(null==this.clave||""==this.clave||" "==this.clave)}}},5980:(Mt,ke,P)=>{P.d(ke,{r:()=>S});var p=P(5895),U=P(4650);let S=(()=>{class ae{constructor(){this.usuarioLogueado=new p.b,this.hayUsuarioLogueado()&&(this.usuarioLogueado=p.b.toUsuario(JSON.parse(localStorage.getItem("usuarioLogueado")||"{}")))}hayUsuarioLogueado(){return null!=localStorage.getItem("usuarioLogueado")}loguearUsuario(pe){localStorage.setItem("usuarioLogueado",JSON.stringify(pe)),this.usuarioLogueado=new p.b,this.usuarioLogueado=pe}desloguearUsuario(){localStorage.removeItem("usuarioLogueado")}obtenerUsuarioLogueado(){return this.usuarioLogueado}}return ae.\u0275fac=function(pe){return new(pe||ae)},ae.\u0275prov=U.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})()},9543:(Mt,ke,P)=>{P.r(ke),P.d(ke,{HomeModule:()=>Et});var p=P(6895),U=P(9051),S=P(4650);function ae(ve,Le){if(1&ve){const ce=S.EpF();S.TgZ(0,"div",2)(1,"div",3)(2,"h3"),S._uU(3,"F\xe9lix se ha salvado"),S.qZA(),S._UZ(4,"img",4),S.TgZ(5,"h3"),S._uU(6),S.qZA(),S.TgZ(7,"a",5),S.NdJ("click",function(){S.CHM(ce);const je=S.oxw();return S.KtG(je.refresh())}),S._uU(8,"Volver a jugar"),S.qZA(),S.TgZ(9,"a",6),S._uU(10,"Salir"),S.qZA()()()}if(2&ve){const ce=S.oxw();S.xp6(6),S.hij("La palabra era: ",ce.palabraReal,"")}}function ge(ve,Le){if(1&ve){const ce=S.EpF();S.TgZ(0,"div",2)(1,"div",3)(2,"h3"),S._uU(3,"F\xe9lix ha muerto"),S.qZA(),S._UZ(4,"img",7),S.TgZ(5,"h3"),S._uU(6),S.qZA(),S.TgZ(7,"a",5),S.NdJ("click",function(){S.CHM(ce);const je=S.oxw();return S.KtG(je.refresh())}),S._uU(8,"Volver a jugar"),S.qZA(),S.TgZ(9,"a",6),S._uU(10,"Salir"),S.qZA()()()}if(2&ve){const ce=S.oxw();S.xp6(6),S.hij("La palabra era: ",ce.palabraReal,"")}}function pe(ve,Le){if(1&ve&&(S.TgZ(0,"a"),S._uU(1),S.qZA()),2&ve){const ce=Le.$implicit;S.xp6(1),S.Oqu(ce)}}function me(ve,Le){if(1&ve){const ce=S.EpF();S.TgZ(0,"div",14)(1,"a",15),S.NdJ("click",function(){const Z=S.CHM(ce).$implicit,Ze=S.oxw(2);return S.KtG(Ze.asignarLetra(Z))}),S._uU(2),S.qZA()()}if(2&ve){const ce=Le.$implicit,Me=S.oxw(2);S.xp6(1),S.Q6J("ngClass",Me.estadoBotones.get(ce)?"btn btn-primary btn-lg":"btn btn-primary btn-lg disabled"),S.xp6(1),S.Oqu(ce)}}function we(ve,Le){if(1&ve&&(S.TgZ(0,"div",8),S._UZ(1,"img",9),S.TgZ(2,"label"),S._uU(3),S.qZA(),S.TgZ(4,"div",10),S.YNc(5,pe,2,1,"a",11),S.qZA(),S.TgZ(6,"div",12),S.YNc(7,me,3,2,"div",13),S.qZA()()),2&ve){const ce=S.oxw();S.xp6(1),S.s9C("src","../../../../assets/juegos/ahorcado/"+ce.contador+".jpg",S.LSH),S.xp6(2),S.Oqu(ce.descripcion),S.xp6(2),S.Q6J("ngForOf",ce.palabraEnDisplay),S.xp6(2),S.Q6J("ngForOf",ce.letras)}}const Ee=".grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);gap:10px;background-color:#29c68c;padding:10px}.grid-container2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(12,1fr);gap:1px;background-color:#add8e6;padding:10px}.imagen-ahorcado[_ngcontent-%COMP%]{width:200px;height:200px;display:table-cell;margin:0 auto}.Fila[_ngcontent-%COMP%]{display:table}.alerta[_ngcontent-%COMP%]{position:fixed;width:100%;background-color:#ffffff80;z-index:9999;margin:auto;text-align:center;align-items:center;inset:50% 0 0 50%;transform:translate(-50%,-50%)}.container-alerta[_ngcontent-%COMP%]{background-color:#fff}";let ne=(()=>{class ve{constructor(){this.letras=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","\xf1","o","p","q","r","s","t","u","v","w","x","y","z"],this.palabras=[{palabra:"ornitorrinco",descripcion:"Un mam\xedfero que pone huevos"},{palabra:"serrucho",descripcion:"Una herramienta para cortar"},{palabra:"plancha",descripcion:"Con ella alisar\xe1 la ropa"},{palabra:"chocolate",descripcion:"Es un dulce muy rico"},{palabra:"martillo",descripcion:"Una herramienta y un tibur\xf3n"},{palabra:"pionono",descripcion:"Para enrollar en las fiestas"},{palabra:"hamburguesa",descripcion:"Con fritas y gaseosa"},{palabra:"zapato",descripcion:"Va en el pie"},{palabra:"computadora",descripcion:"No se puede vivir sin ella"},{palabra:"alba\xf1il",descripcion:"El que construy\xf3 tu casa"},{palabra:"piramide",descripcion:"El legado de los Egipcios"},{palabra:"hipopotamo",descripcion:"Un animal gordo y feroz"},{palabra:"dinosaurio",descripcion:"Rein\xf3 en la Tierra hace mucho tiempo"},{palabra:"motocicleta",descripcion:"Una alternativa al autom\xf3vil"},{palabra:"castillo",descripcion:"Donde viven los se\xf1ores"},{palabra:"caballero",descripcion:"El que jur\xf3 ante su rey"},{palabra:"astronauta",descripcion:"El que viaja en un cohete"},{palabra:"monstruo",descripcion:"El que vive debajo de la cama"},{palabra:"microfono",descripcion:"Con eso se graba la voz"},{palabra:"autopista",descripcion:"Una rodea a la Ciudad de Bs. As."},{palabra:"lapicera",descripcion:"Con ella se puede escribir"},{palabra:"crucero",descripcion:"Con uno se viaja por el mar"}],this.palabraReal="",this.descripcion="",this.letrasPalabraReal=[],this.palabraEnDisplay=[],this.estadoBotones=new Map,this.contador=0,this.alertaVictoria=!1,this.alertaDerrota=!1}ngOnInit(){let ce=this.generarNumeroAleatorio(0,this.palabras.length-1);this.palabraReal=this.palabras[ce].palabra,this.descripcion=this.palabras[ce].descripcion,this.letrasPalabraReal=this.palabraReal.split(""),this.inicializarPalabraEnDisplay(),this.inicializarEstadoBotones()}asignarLetra(ce){console.log(this.contador),this.encontrarLetra(ce)||(this.contador++,this.contador>6&&(this.alertaDerrota=!0)),this.palabraCompleta()&&(this.alertaVictoria=!0)}encontrarLetra(ce){let Me=!1;this.estadoBotones.set(ce,!1),console.log(this.estadoBotones);for(let je=0;je<this.letrasPalabraReal.length;je++)this.letrasPalabraReal[je]==ce&&(this.palabraEnDisplay[je]=ce,Me=!0);return Me}inicializarEstadoBotones(){for(let ce=0;ce<this.letras.length;ce++)this.estadoBotones.set(this.letras[ce],!0)}generarNumeroAleatorio(ce,Me){return Math.floor(Math.random()*(Me-ce+1))+ce}inicializarPalabraEnDisplay(){for(let ce=0;ce<this.letrasPalabraReal.length;ce++)this.palabraEnDisplay.push("_")}palabraCompleta(){let ce=!0;return this.palabraEnDisplay.forEach(Me=>{"_"==Me&&(ce=!1)}),ce}refresh(){window.location.reload()}}return ve.\u0275fac=function(ce){return new(ce||ve)},ve.\u0275cmp=S.Xpm({type:ve,selectors:[["app-ahorcado"]],decls:6,vars:3,consts:[["class","alerta",4,"ngIf"],["class","Fila",4,"ngIf"],[1,"alerta"],[1,"container-alerta"],["src","../../../../assets/juegos/ahorcado/logo.jpg",1,"imagen-ahorcado"],[1,"btn","btn-primary","btn-lg",3,"click"],["routerLink","/home",1,"btn","btn-primary","btn-lg"],["src","../../../../assets/juegos/ahorcado/7.jpg",1,"imagen-ahorcado"],[1,"Fila"],[1,"imagen-ahorcado",3,"src"],[1,"grid-container2"],[4,"ngFor","ngForOf"],[1,"grid-container"],["class","cuadroBotones",4,"ngFor","ngForOf"],[1,"cuadroBotones"],["role","button",3,"ngClass","click"]],template:function(ce,Me){1&ce&&(S.TgZ(0,"html"),S._UZ(1,"head"),S.TgZ(2,"body"),S.YNc(3,ae,11,1,"div",0),S.YNc(4,ge,11,1,"div",0),S.YNc(5,we,8,4,"div",1),S.qZA()()),2&ce&&(S.xp6(3),S.Q6J("ngIf",Me.alertaVictoria),S.xp6(1),S.Q6J("ngIf",Me.alertaDerrota),S.xp6(1),S.Q6J("ngIf",!Me.alertaVictoria&&!Me.alertaDerrota))},dependencies:[p.mk,p.sg,p.O5,U.yS],styles:[Ee,Ee]}),ve})();function re(ve,Le){1&ve&&S._UZ(0,"img",10)}function he(ve,Le){if(1&ve){const ce=S.EpF();S.TgZ(0,"div",2)(1,"div",3),S.YNc(2,re,1,0,"img",4),S._UZ(3,"img",5),S.TgZ(4,"label"),S._uU(5),S.qZA()(),S.TgZ(6,"div",6)(7,"a",7),S.NdJ("click",function(){S.CHM(ce);const je=S.oxw();return S.KtG(je.tomarCarta("mayor"))}),S._uU(8,"Mayor"),S.qZA()(),S.TgZ(9,"div",8)(10,"a",7),S.NdJ("click",function(){S.CHM(ce);const je=S.oxw();return S.KtG(je.tomarCarta("menor"))}),S._uU(11,"Menor"),S.qZA()(),S.TgZ(12,"div",9)(13,"h3"),S._uU(14),S.qZA()()()}if(2&ve){const ce=S.oxw();S.xp6(2),S.Q6J("ngIf",ce.cartas.length>0),S.xp6(1),S.s9C("src",ce.pathFinal,S.LSH),S.xp6(2),S.hij("",ce.cartas.length,"/50"),S.xp6(9),S.hij("Puntaje: ",ce.puntaje,"")}}function Ue(ve,Le){if(1&ve){const ce=S.EpF();S.TgZ(0,"div",11)(1,"div",12)(2,"h3"),S._uU(3,"Juego finalizado"),S.qZA(),S.TgZ(4,"h3"),S._uU(5,"La \xfaltima carta era:"),S.qZA(),S._UZ(6,"img",5),S.TgZ(7,"h3"),S._uU(8),S.qZA(),S.TgZ(9,"a",13),S.NdJ("click",function(){S.CHM(ce);const je=S.oxw();return S.KtG(je.refresh())}),S._uU(10,"Volver a jugar"),S.qZA(),S.TgZ(11,"a",14),S._uU(12,"Salir"),S.qZA()()()}if(2&ve){const ce=S.oxw();S.xp6(6),S.s9C("src",ce.pathFinal,S.LSH),S.xp6(2),S.hij("Puntaje: ",ce.puntaje,"")}}const Ne='.imagen-carta[_ngcontent-%COMP%]{width:50;height:100px}.item1[_ngcontent-%COMP%]{grid-area:header}.item3[_ngcontent-%COMP%]{grid-area:main}.item4[_ngcontent-%COMP%]{grid-area:right}.item5[_ngcontent-%COMP%]{grid-area:footer}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-areas:"header header header header header header" "main main main right right right" "footer footer footer footer footer footer";gap:10px;background-color:#2196f3;padding:10px}.grid-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#fffc;text-align:center;padding:20px 0;font-size:30px}.alerta[_ngcontent-%COMP%]{position:fixed;width:100%;background-color:#ffffff80;z-index:9999;margin:auto;text-align:center;align-items:center;inset:50% 0 0 50%;transform:translate(-50%,-50%)}.container-alerta[_ngcontent-%COMP%]{background-color:#fff}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:active, .btn-primary[_ngcontent-%COMP%]:visited{background-color:#29c68c!important;border-color:#20d190!important}';let Be=(()=>{class ve{constructor(){this.cartas=["1-pica.png","2-pica.png","3-pica.png","4-pica.png","5-pica.png","6-pica.png","7-pica.png","8-pica.png","9-pica.png","10-pica.png","11-pica.png","12-pica.png","13-pica.png","1-trebol.png","2-trebol.png","3-trebol.png","4-trebol.png","5-trebol.png","6-trebol.png","7-trebol.png","8-trebol.png","9-trebol.png","10-trebol.png","11-trebol.png","12-trebol.png","13-trebol.png","1-diamante.png","2-diamante.png","3-diamante.png","5-diamante.png","6-diamante.png","7-diamante.png","8-diamante.png","9-diamante.png","10-diamante.png","11-diamante.png","12-diamante.png","13-diamante.png","1-corazon.png","2-corazon.png","3-corazon.png","5-corazon.png","6-corazon.png","7-corazon.png","8-corazon.png","9-corazon.png","10-corazon.png","11-corazon.png","12-corazon.png","13-corazon.png"],this.cartaTomada="",this.path="../../../../assets/juegos/mayorMenor/cartas/",this.pathFinal="",this.apuestaOn=!1,this.valorCartaAnterior=0,this.puntaje=0}ngOnInit(){this.tomarCarta("inicio")}generarNumeroAleatorio(ce,Me){return Math.floor(Math.random()*(Me-ce+1))+ce}tomarCarta(ce){if(this.cartas.length>0){let Me=this.generarNumeroAleatorio(0,this.cartas.length-1);this.cartaTomada=this.cartas[Me],this.cartas.splice(Me,1),this.pathFinal=this.path+this.cartaTomada;let je=Number(this.cartaTomada.split("-")[0]);switch(ce){case"mayor":je>this.valorCartaAnterior?this.puntaje++:this.puntaje>0&&this.puntaje--;break;case"menor":je<this.valorCartaAnterior?this.puntaje++:this.puntaje>0&&this.puntaje--}this.valorCartaAnterior=je}}refresh(){window.location.reload()}}return ve.\u0275fac=function(ce){return new(ce||ve)},ve.\u0275cmp=S.Xpm({type:ve,selectors:[["app-mayor-o-menor"]],decls:7,vars:2,consts:[["class","grid-container",4,"ngIf"],["class","alerta",4,"ngIf"],[1,"grid-container"],[1,"item1"],["class","imagen-carta","src","../../../../assets/juegos/mayorMenor/cartas/dorso.png",4,"ngIf"],[1,"imagen-carta",3,"src"],[1,"item3"],["role","button",1,"btn","btn-primary","btn-lg",3,"click"],[1,"item4"],[1,"item5"],["src","../../../../assets/juegos/mayorMenor/cartas/dorso.png",1,"imagen-carta"],[1,"alerta"],[1,"container-alerta"],[1,"btn","btn-primary","btn-lg",3,"click"],["routerLink","/home",1,"btn","btn-primary","btn-lg"]],template:function(ce,Me){1&ce&&(S.TgZ(0,"html"),S._UZ(1,"head"),S.TgZ(2,"body")(3,"h1"),S._uU(4,"Haga su apuesta:"),S.qZA(),S.YNc(5,he,15,4,"div",0),S.YNc(6,Ue,13,2,"div",1),S.qZA()()),2&ce&&(S.xp6(5),S.Q6J("ngIf",Me.cartas.length>0),S.xp6(1),S.Q6J("ngIf",0==Me.cartas.length))},dependencies:[p.O5,U.yS],styles:[Ne,Ne]}),ve})();const wt=".btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:active, .btn-primary[_ngcontent-%COMP%]:visited{background-color:#29c68c!important;border-color:#20d190!important}.logo[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;box-shadow:10px 10px 5px #ccc}",Fe=[{path:"",component:(()=>{class ve{constructor(ce){this.router=ce,this.mensajes=[]}ngOnInit(){}}return ve.\u0275fac=function(ce){return new(ce||ve)(S.Y36(U.F0))},ve.\u0275cmp=S.Xpm({type:ve,selectors:[["app-home"]],decls:26,vars:0,consts:[[1,"jumbotron"],["src","./assets/juegos/mayorMenor/logo.jpg",1,"logo"],[1,"display-4"],[1,"lead"],[1,"my-4"],["routerLink","mayorMenor","role","button",1,"btn","btn-primary","btn-lg"],["src","./assets/juegos/ahorcado/logo.jpg",1,"logo"],["routerLink","ahorcado","role","button",1,"btn","btn-primary","btn-lg"]],template:function(ce,Me){1&ce&&(S._UZ(0,"head"),S.TgZ(1,"body")(2,"h3"),S._uU(3,"Juegos:"),S.qZA(),S.TgZ(4,"div",0),S._UZ(5,"img",1),S.TgZ(6,"h1",2),S._uU(7,"Mayor o Menor"),S.qZA(),S.TgZ(8,"p",3),S._uU(9,"Ponga a prueba su suerte e ingenio con este apasionante juego de cartas"),S.qZA(),S._UZ(10,"hr",4),S.TgZ(11,"p",3)(12,"a",5),S._uU(13,"Jugar"),S.qZA()()(),S.TgZ(14,"div",0),S._UZ(15,"img",6),S.TgZ(16,"h1",2),S._uU(17,"Ahorcado"),S.qZA(),S.TgZ(18,"p",3),S._uU(19,"Evite que el piano caiga sobre la cabeza de F\xe9lix"),S.qZA(),S.TgZ(20,"p",3),S._uU(21,"\xa1S\xe1lvelo de una muerte segura!"),S.qZA(),S._UZ(22,"hr",4),S.TgZ(23,"p",3)(24,"a",7),S._uU(25,"Jugar"),S.qZA()()()())},dependencies:[U.yS],styles:[wt,wt]}),ve})()},{path:"mayorMenor",component:Be},{path:"ahorcado",component:ne}];let Nt=(()=>{class ve{}return ve.\u0275fac=function(ce){return new(ce||ve)},ve.\u0275mod=S.oAB({type:ve}),ve.\u0275inj=S.cJS({imports:[U.Bz.forChild(Fe),U.Bz]}),ve})(),Et=(()=>{class ve{}return ve.\u0275fac=function(ce){return new(ce||ve)},ve.\u0275mod=S.oAB({type:ve}),ve.\u0275inj=S.cJS({imports:[p.ez,Nt]}),ve})()},9519:(Mt,ke,P)=>{var p=P(1481),U=P(4650),S=P(9051);const ae=[{path:"",loadChildren:()=>Promise.all([P.e(592),P.e(57)]).then(P.bind(P,9057)).then(dt=>dt.LoginModule)},{path:"home",loadChildren:()=>Promise.resolve().then(P.bind(P,9543)).then(dt=>dt.HomeModule)},{path:"quiensoy",loadChildren:()=>P.e(838).then(P.bind(P,5838)).then(dt=>dt.QuienSoyModule)},{path:"registro",loadChildren:()=>Promise.all([P.e(592),P.e(965)]).then(P.bind(P,7965)).then(dt=>dt.RegistroModule)},{path:"chat",loadChildren:()=>P.e(868).then(P.bind(P,8868)).then(dt=>dt.ChatModule)}];let ge=(()=>{class dt{}return dt.\u0275fac=function(ct){return new(ct||dt)},dt.\u0275mod=U.oAB({type:dt}),dt.\u0275inj=U.cJS({imports:[S.Bz.forRoot(ae),S.Bz]}),dt})();var pe=P(5980),me=P(6895);function we(dt,en){if(1&dt){const ct=U.EpF();U.TgZ(0,"div",17)(1,"label"),U._uU(2),U.qZA(),U.TgZ(3,"button",18),U.NdJ("click",function(){U.CHM(ct);const Re=U.oxw();return U.KtG(Re.unLogin())}),U._uU(4,"Salir"),U.qZA()()}if(2&dt){const ct=U.oxw();U.xp6(2),U.hij("Logueado como:\xa0",ct.loginService.obtenerUsuarioLogueado().correo,"\xa0\xa0")}}const Ee='@charset "UTF-8";[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:8px 0}p[_ngcontent-%COMP%]{margin:0}.spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:600}.toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px}.toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}.toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}.content[_ngcontent-%COMP%]{display:flex;margin:20px auto 32px;padding:0 16px;max-width:1080px;flex-direction:column;align-items:center}svg.material-icons[_ngcontent-%COMP%]{height:24px;width:auto}svg.material-icons[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:16px}.card[_ngcontent-%COMP%]{all:unset;border-radius:4px;border:1px solid #eee;background-color:#fafafa;height:40px;width:200px;margin:0 8px 16px;padding:16px;display:flex;flex-direction:row;justify-content:center;align-items:center;transition:all .2s ease-in-out;line-height:24px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child){margin-right:0}.card.card-small[_ngcontent-%COMP%]{height:16px;width:168px}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card){cursor:pointer}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover{transform:translateY(-3px);box-shadow:0 4px 17px #00000059}.card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#696767}.card.highlight-card[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;border:none;width:auto;min-width:30%;position:relative}.card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:60px}svg#rocket[_ngcontent-%COMP%]{width:80px;position:absolute;left:-10px;top:-24px}svg#rocket-smoke[_ngcontent-%COMP%]{height:calc(100vh - 95px);position:absolute;top:10px;right:180px;z-index:-10}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover{color:#1976d2;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#125699}.terminal[_ngcontent-%COMP%]{position:relative;width:80%;max-width:600px;border-radius:6px;padding-top:45px;margin-top:8px;overflow:hidden;background-color:#0f0f10}.terminal[_ngcontent-%COMP%]:before{content:"\\2022\\2022\\2022";position:absolute;top:0;left:0;height:4px;background:rgb(58,58,58);color:#c2c3c4;width:100%;font-size:2rem;line-height:0;padding:14px 0;text-indent:4px}.terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;color:#fff;padding:0 1rem 1rem;margin:0}.circle-link[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:40px;margin:8px;background-color:#fff;border:1px solid #eeeeee;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;transition:1s ease-out}.circle-link[_ngcontent-%COMP%]:hover{transform:translateY(-.25rem);box-shadow:0 3px 15px #0003}footer[_ngcontent-%COMP%]{margin-top:8px;display:flex;align-items:center;line-height:20px}footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center}.github-star-badge[_ngcontent-%COMP%]{color:#24292e;display:flex;align-items:center;font-size:12px;padding:3px 10px;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-image:linear-gradient(-180deg,#fafbfc,#eff3f6 90%);margin-left:4px;font-weight:600}.github-star-badge[_ngcontent-%COMP%]:hover{background-image:linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);border-color:#1b1f2359;background-position:-.5em}.github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{height:16px;width:16px;margin-right:4px}svg#clouds[_ngcontent-%COMP%]{position:fixed;bottom:-160px;left:-230px;z-index:-10;width:1920px}@media screen and (max-width: 767px){.card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]:not(.highlight-card){height:16px;margin:8px 0}.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:72px}svg#rocket-smoke[_ngcontent-%COMP%]{right:120px;transform:rotate(-5deg)}}@media screen and (max-width: 575px){svg#rocket-smoke[_ngcontent-%COMP%]{display:none;visibility:hidden}}body[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif}.form-control[_ngcontent-%COMP%]{box-shadow:none;border-radius:4px;border-color:#dfe3e8}.navbar[_ngcontent-%COMP%]{background:#fff;padding-left:16px;padding-right:16px;border-bottom:1px solid #dfe3e8;border-radius:0}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{font-size:20px;padding-left:0;padding-right:50px;margin:0}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#29c68c}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#999;background:transparent}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#29c68c!important}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > a.active[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-nav.show[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#26bb84!important;background:transparent!important}.navbar[_ngcontent-%COMP%]   .form-inline[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{box-shadow:none;border-radius:2px 0 0 2px;background:#f5f5f5;border-color:#dfe3e8;font-size:16px}.navbar[_ngcontent-%COMP%]   .form-inline[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.navbar[_ngcontent-%COMP%]   .form-inline[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:2px;color:#fff;border-color:#29c68c;background:#29c68c;outline:none}.navbar[_ngcontent-%COMP%]   .form-inline[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .form-inline[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{border-color:#26bb84;background:#26bb84}.navbar[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]{display:inline-block}.navbar[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:4px}.navbar[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:2px}.navbar[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-right:4px;float:left}.navbar[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{max-width:158px;border-radius:0 2px 2px 0}.navbar[_ngcontent-%COMP%]   .navbar-right[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{font-size:14px;border-radius:1px;border-color:#e5e5e5;box-shadow:0 2px 8px #0000000d}.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:6px 20px}.navbar[_ngcontent-%COMP%]   .login-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:505px;padding:20px;left:auto;right:0}.navbar[_ngcontent-%COMP%]   .login-dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}@media (min-width: 1200px){.search-form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:300px;margin-left:30px}}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{width:100%;background:transparent;padding:10px 20px}.navbar[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.navbar[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{max-width:none}.navbar[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}#cover-spin[_ngcontent-%COMP%]{position:fixed;width:100%;inset:0;background-color:#ffffffb3;z-index:9999}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#cover-spin[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;left:48%;top:40%;width:40px;height:40px;border-style:solid;border-color:#000;border-top-color:transparent;border-width:4px;border-radius:50%;animation:spin .8s linear infinite}a[_ngcontent-%COMP%]{cursor:pointer}.containerImage[_ngcontent-%COMP%]{width:40px;padding-right:5px}.containerImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:active, .btn-primary[_ngcontent-%COMP%]:visited{background-color:#29c68c!important;border-color:#20d190!important;font-size:11px}';let ne=(()=>{class dt{constructor(ct,de){this.loginService=ct,this.router=de,this.title="Sprint3"}unLogin(){this.loginService.desloguearUsuario(),this.router.navigateByUrl("")}}return dt.\u0275fac=function(ct){return new(ct||dt)(U.Y36(pe.r),U.Y36(S.F0))},dt.\u0275cmp=U.Xpm({type:dt,selectors:[["app-root"]],decls:27,vars:1,consts:[["lang","en"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["rel","stylesheet","href","https://fonts.googleapis.com/css?family=Open+Sans:400,600"],["rel","stylesheet","href","https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"],["rel","stylesheet","href","https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"containerImage"],["src","./assets/felix-nav.png"],[1,"navbar-brand"],["id","navbarCollapse",1,"collapse","navbar-collapse","justify-content-start"],[1,"navbar-nav"],["routerLink","home",1,"nav-item","nav-link"],["routerLink","quiensoy",1,"nav-item","nav-link"],["routerLink","chat",1,"nav-item","nav-link"],["class","login",4,"ngIf"],["role","main",1,"content"],[1,"login"],[1,"btn","btn-primary","btn-lg",3,"click"]],template:function(ct,de){1&ct&&(U.TgZ(0,"html",0)(1,"head"),U._UZ(2,"meta",1)(3,"meta",2),U.TgZ(4,"title"),U._uU(5,"Bootstrap Navbar with Inline Login Form in Dropdown"),U.qZA(),U._UZ(6,"link",3)(7,"link",4)(8,"link",5),U.qZA(),U.TgZ(9,"nav",6)(10,"div",7),U._UZ(11,"img",8),U.qZA(),U.TgZ(12,"label",9),U._uU(13,"Juegos"),U.TgZ(14,"b"),U._uU(15,"Bacchetta"),U.qZA()(),U.TgZ(16,"div",10)(17,"div",11)(18,"a",12),U._uU(19,"Home"),U.qZA(),U.TgZ(20,"a",13),U._uU(21,"Qui\xe9n Soy"),U.qZA(),U.TgZ(22,"a",14),U._uU(23,"Sala de chat"),U.qZA()()(),U.YNc(24,we,5,1,"div",15),U.qZA(),U.TgZ(25,"div",16),U._UZ(26,"router-outlet"),U.qZA()()),2&ct&&(U.xp6(24),U.Q6J("ngIf",de.loginService.hayUsuarioLogueado()))},dependencies:[me.O5,S.lC,S.yS],styles:[Ee,Ee,Ee]}),dt})();var re=P(9543);const he_firebase={projectId:"sprint3-bacchetta-labo4",appId:"1:621307795251:web:a1bc4afb1b4d127f859046",storageBucket:"sprint3-bacchetta-labo4.appspot.com",apiKey:"AIzaSyCGwXYrUajbmoRosI6sDE2lZ-7zOGnQoPs",authDomain:"sprint3-bacchetta-labo4.firebaseapp.com",messagingSenderId:"621307795251",measurementId:"G-PBL1XBBWJ9"};var Ue=P(2011),Ne=P(655),Be=P(9646),wt=P(515),X=P(5363),Fe=P(3900),Nt=P(4004),Et=P(3151),ve=P(880),Le=P(7982),ce=P(3385),Me=P(127),je=P(9300),Z=P(9751),Ze=P(8421),_e=P(7579),be=P(4482),Se=P(5403);var ut=P(5577),lt=P(1884),Pt=P(8675),kt=P(1520);P(3692),P(5867);const Vn="firebase_screen_id",dr="outlet",ln="screen_class",Ut="screen_name";let Jn=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const _r={},Qt=dt=>{const en=[dt[ln],dt[dr]].join("#");if(_r.hasOwnProperty(en))return _r[en];{const ct=Jn++;return _r[en]=ct,ct}},_t=new U.OlP("angularfire2.analytics.analyticsCollectionEnabled"),Lt=new U.OlP("angularfire2.analytics.appVersion"),Nn=new U.OlP("angularfire2.analytics.appName"),mn=new U.OlP("angularfire2.analytics.debugMode"),Pe=new U.OlP("angularfire2.analytics.config"),Zt="dataLayer";let te=(()=>{class dt{constructor(ct,de,Re,rt,Tt,Bt,pn,qn,En){if(this.analyticsInitialized=new Promise(()=>{}),(0,me.NF)(pn)){window[Zt]=window[Zt]||[];const On=(...ar)=>"config"===ar[0]&&"firebase"===ar[2].origin&&(this.measurementId=ar[1],!0),cn=ar=>{window.gtag=(...Xn)=>{ar&&ar(...Xn),"event"===Xn[0]&&Xn[2].send_to===this.measurementId&&(rt&&(Xn[2].app_name=rt),Re&&(Xn[2].app_version=Re)),Tt&&typeof console<"u"&&console.info(...Xn),function(...ci){window[Zt].push(arguments)}(...Xn)}};window[Zt].some(On)?(this.analyticsInitialized=Promise.resolve(),cn()):this.analyticsInitialized=new Promise(ar=>{cn((...Xn)=>{On(...Xn)&&ar()})}),Bt&&this.updateConfig(Bt),Tt&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const pr=(0,Be.of)(void 0).pipe((0,X.Q)(En.outsideAngular),(0,Fe.w)(Le.Gb),(0,Fe.w)(On=>On?qn.runOutsideAngular(()=>P.e(643).then(P.bind(P,8643))):wt.E),(0,Nt.U)(()=>(0,Ue.cc)("analytics","AngularFireAnalytics",ct.name,()=>{const On=ct.analytics();return!1===de&&On.setAnalyticsCollectionEnabled(!1),On},[ct,de,Bt,Tt])),(0,Et.d)({bufferSize:1,refCount:!1}));return(0,Ue.pX)(this,pr,qn)}updateConfig(ct){return(0,Ne.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},ct),{update:!0}))})}}return dt.\u0275fac=function(ct){return new(ct||dt)(U.LFG(Ue.Ot),U.LFG(_t,8),U.LFG(Lt,8),U.LFG(Nn,8),U.LFG(mn,8),U.LFG(Pe,8),U.LFG(U.Lbi),U.LFG(U.R0b),U.LFG(ve.HU))},dt.\u0275prov=U.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"any"}),dt})(),J=(()=>{class dt{constructor(ct,de,Re,rt){if(this.disposables=[],Me.Z.registerVersion("angularfire",ve.q4.full,"compat-user-tracking"),(0,me.PM)(de))this.initialized=Promise.resolve();else{let Tt;this.initialized=rt.runOutsideAngular(()=>new Promise(Bt=>Tt=Bt)),this.disposables=[Re.authState.subscribe(Bt=>{ct.setUserId(Bt?.uid),Tt()}),Re.credential.subscribe(Bt=>{if(Bt){const pn=Bt.user.isAnonymous?"anonymous":Bt.additionalUserInfo.providerId;Bt.additionalUserInfo.isNewUser&&ct.logEvent("sign_up",{method:pn}),ct.logEvent("login",{method:pn})}})]}}ngOnDestroy(){this.disposables.forEach(ct=>ct.unsubscribe())}}return dt.\u0275fac=function(ct){return new(ct||dt)(U.LFG(te),U.LFG(U.Lbi),U.LFG(ce.zQ),U.LFG(U.R0b))},dt.\u0275prov=U.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),xe=(()=>{class dt{constructor(ct,de,Re,rt,Tt,Bt){if(Me.Z.registerVersion("angularfire",ve.q4.full,"compat-screen-tracking"),!de||!ct)return this;Tt.runOutsideAngular(()=>{this.disposable=((dt,en,ct)=>dt.events.pipe((0,je.h)(Re=>Re instanceof S.jw)).pipe((0,Fe.w)(Re=>{var rt;const Bt=(null===(rt=dt.parseUrl(dt.url.replace(/(?:\().+(?:\))/g,cn=>cn.replace("://",":///"))).root.children[Re.snapshot.outlet])||void 0===rt?void 0:rt.toString())||"",pn=dt.routerState.root.children.map(cn=>cn).find(cn=>cn.outlet===Re.snapshot.outlet);if(!pn)return(0,Be.of)(null);let qn=pn;for(;qn.firstChild;)qn=qn.firstChild;const En=qn.pathFromRoot.map(cn=>{var xr;return null===(xr=cn.routeConfig)||void 0===xr?void 0:xr.path}).filter(cn=>cn).join("/")||"/",pr={[Ut]:En,page_path:`/${Bt}`,firebase_event_origin:"auto",firebase_screen:En,[dr]:Re.snapshot.outlet};en&&(pr.page_title=en.getTitle());let On=pn.component;if(On){if(On===S.fw){let cn=Re.snapshot;for(;cn.firstChild;)cn=cn.firstChild;On=cn.component}}else On=Re.snapshot.component;if("string"==typeof On)return(0,Be.of)(Object.assign(Object.assign({},pr),{[ln]:On}));if(On){const cn=ct.resolveComponentFactory(On);return(0,Be.of)(Object.assign(Object.assign({},pr),{[ln]:cn.selector}))}return(0,Be.of)(null)}),(0,je.h)(Re=>!!Re),(0,Nt.U)(Re=>Object.assign({firebase_screen_class:Re[ln],[Vn]:Qt(Re)},Re)),function Ce(dt,en,ct,de){return(0,be.e)((Re,rt)=>{let Tt;en&&"function"!=typeof en?({duration:ct,element:Tt,connector:de}=en):Tt=en;const Bt=new Map,pn=xr=>{Bt.forEach(xr),xr(rt)},qn=xr=>pn(ar=>ar.error(xr));let En=0,pr=!1;const On=new Se.Q(rt,xr=>{try{const ar=dt(xr);let Xn=Bt.get(ar);if(!Xn){Bt.set(ar,Xn=de?de():new _e.x);const ci=function cn(xr,ar){const Xn=new Z.y(ci=>{En++;const Hr=ar.subscribe(ci);return()=>{Hr.unsubscribe(),0==--En&&pr&&On.unsubscribe()}});return Xn.key=xr,Xn}(ar,Xn);if(rt.next(ci),ct){const Hr=(0,Se.x)(Xn,()=>{Xn.complete(),Hr?.unsubscribe()},void 0,void 0,()=>Bt.delete(ar));On.add((0,Ze.Xf)(ct(ci)).subscribe(Hr))}}Xn.next(Tt?Tt(xr):xr)}catch(ar){qn(ar)}},()=>pn(xr=>xr.complete()),qn,()=>Bt.clear(),()=>(pr=!0,0===En));Re.subscribe(On)})}(Re=>Re[dr]),(0,ut.z)(Re=>Re.pipe((0,lt.x)((rt,Tt)=>JSON.stringify(rt)===JSON.stringify(Tt)),(0,Pt.O)(void 0),(0,kt.G)(),(0,Nt.U)(([rt,Tt])=>rt?Object.assign({firebase_previous_class:rt[ln],firebase_previous_screen:rt[Ut],firebase_previous_id:rt[Vn]},Tt):Tt)))))(de,Re,rt).pipe((0,Fe.w)(pn=>(0,Ne.mG)(this,void 0,void 0,function*(){return Bt&&(yield Bt.initialized),yield ct.logEvent("screen_view",pn)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return dt.\u0275fac=function(ct){return new(ct||dt)(U.LFG(te),U.LFG(S.F0,8),U.LFG(p.Dx,8),U.LFG(U._Vd),U.LFG(U.R0b),U.LFG(J,8))},dt.\u0275prov=U.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),Ke=(()=>{class dt{constructor(ct,de,Re){Me.Z.registerVersion("angularfire",ve.q4.full,"analytics-compat"),ct.app.then(()=>{})}}return dt.\u0275fac=function(ct){return new(ct||dt)(U.LFG(te),U.LFG(xe,8),U.LFG(J,8))},dt.\u0275mod=U.oAB({type:dt}),dt.\u0275inj=U.cJS({providers:[te]}),dt})();var St=P(1995),hn=P(433);let vn=(()=>{class dt{}return dt.\u0275fac=function(ct){return new(ct||dt)},dt.\u0275mod=U.oAB({type:dt,bootstrap:[ne]}),dt.\u0275inj=U.cJS({imports:[p.b2,ge,re.HomeModule,Ue.hO.initializeApp(he_firebase),Ke,St.yb,hn.u5]}),dt})();(0,U.G48)(),p.q6().bootstrapModule(vn).catch(dt=>console.error(dt))},7982:(Mt,ke,P)=>{P.d(ke,{Gb:()=>p.Gb});var p=P(579)},5867:(Mt,ke,P)=>{P.d(ke,{C6:()=>p.getApps,Mq:()=>p.getApp});var p=P(9681);(0,p.registerVersion)("firebase","9.10.0","app")},127:(Mt,ke,P)=>{P.d(ke,{Z:()=>p.Z});var p=P(3942);p.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(Mt,ke,P)=>{P.r(ke);var p=P(5861),U=P(3942),S=P(2090),ae=P(9681),ge=P(655),pe=P(1877),me=P(4859);const Be=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},wt=function Ne(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},X=new S.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nt=new pe.Yd("@firebase/auth");function Et(m,...l){Nt.logLevel<=pe.in.ERROR&&Nt.error(`Auth (${ae.SDK_VERSION}): ${m}`,...l)}function ve(m,...l){throw je(m,...l)}function Le(m,...l){return je(m,...l)}function ce(m,l,f){const I=Object.assign(Object.assign({},wt()),{[l]:f});return new S.LL("auth","Firebase",I).create(l,{appName:m.name})}function Me(m,l,f){if(!(l instanceof f))throw f.name!==l.constructor.name&&ve(m,"argument-error"),ce(m,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(m,...l){if("string"!=typeof m){const f=l[0],I=[...l.slice(1)];return I[0]&&(I[0].appName=m.name),m._errorFactory.create(f,...I)}return X.create(m,...l)}function Z(m,l,...f){if(!m)throw je(l,...f)}function Ze(m){const l="INTERNAL ASSERTION FAILED: "+m;throw Et(l),new Error(l)}function _e(m,l){m||Ze(l)}const be=new Map;function Se(m){_e(m instanceof Function,"Expected a class definition");let l=be.get(m);return l?(_e(l instanceof m,"Instance stored in cache mismatched with class"),l):(l=new m,be.set(m,l),l)}function lt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Pt(){return"http:"===kt()||"https:"===kt()}function kt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Gt{constructor(l,f){this.shortDelay=l,this.longDelay=f,_e(f>l,"Short delay should be less than long delay!"),this.isMobile=(0,S.uI)()||(0,S.b$)()}get(){return function Ht(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,S.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function In(m,l){_e(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return l?`${f}${l.startsWith("/")?l.slice(1):l}`:f}class Rn{static initialize(l,f,I){this.fetchImpl=l,f&&(this.headersImpl=f),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},fr=new Gt(3e4,6e4);function qt(m,l){return m.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:m.tenantId}):l}function Xt(m,l,f,I){return Br.apply(this,arguments)}function Br(){return(Br=(0,p.Z)(function*(m,l,f,I,F={}){return sr(m,F,(0,p.Z)(function*(){let z={},Ae={};I&&("GET"===l?Ae=I:z={body:JSON.stringify(I)});const Qe=(0,S.xO)(Object.assign({key:m.config.apiKey},Ae)).slice(1),At=yield m._getAdditionalHeaders();return At["Content-Type"]="application/json",m.languageCode&&(At["X-Firebase-Locale"]=m.languageCode),Rn.fetch()(Ft(m,m.config.apiHost,f,Qe),Object.assign({method:l,headers:At,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function sr(m,l,f){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,p.Z)(function*(m,l,f){m._canInitEmulator=!1;const I=Object.assign(Object.assign({},Dn),l);try{const F=new wn(m),z=yield Promise.race([f(),F.promise]);F.clearNetworkTimeout();const Ae=yield z.json();if("needConfirmation"in Ae)throw $n(m,"account-exists-with-different-credential",Ae);if(z.ok&&!("errorMessage"in Ae))return Ae;{const Qe=z.ok?Ae.errorMessage:Ae.error.message,[At,an]=Qe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===At)throw $n(m,"credential-already-in-use",Ae);if("EMAIL_EXISTS"===At)throw $n(m,"email-already-in-use",Ae);if("USER_DISABLED"===At)throw $n(m,"user-disabled",Ae);const kn=I[At]||At.toLowerCase().replace(/[_\s]+/g,"-");if(an)throw ce(m,kn,an);ve(m,kn)}}catch(F){if(F instanceof S.ZR)throw F;ve(m,"network-request-failed")}})).apply(this,arguments)}function Ln(m,l,f,I){return mr.apply(this,arguments)}function mr(){return(mr=(0,p.Z)(function*(m,l,f,I,F={}){const z=yield Xt(m,l,f,I,F);return"mfaPendingCredential"in z&&ve(m,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function Ft(m,l,f,I){const F=`${l}${f}?${I}`;return m.config.emulator?In(m.config,F):`${m.config.apiScheme}://${F}`}class wn{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((f,I)=>{this.timer=setTimeout(()=>I(Le(this.auth,"network-request-failed")),fr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(m,l,f){const I={appName:m.name};f.email&&(I.email=f.email),f.phoneNumber&&(I.phoneNumber=f.phoneNumber);const F=Le(m,l,I);return F.customData._tokenResponse=f,F}function bt(){return(bt=(0,p.Z)(function*(m,l){return Xt(m,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Zn(m,l){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,p.Z)(function*(m,l){return Xt(m,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Vn(m,l){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,p.Z)(function*(m,l){return Xt(m,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function dr(m){if(m)try{const l=new Date(Number(m));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function ln(){return(ln=(0,p.Z)(function*(m,l=!1){const f=(0,S.m9)(m),I=yield f.getIdToken(l),F=$t(I);Z(F&&F.exp&&F.auth_time&&F.iat,f.auth,"internal-error");const z="object"==typeof F.firebase?F.firebase:void 0,Ae=z?.sign_in_provider;return{claims:F,token:I,authTime:dr(Ut(F.auth_time)),issuedAtTime:dr(Ut(F.iat)),expirationTime:dr(Ut(F.exp)),signInProvider:Ae||null,signInSecondFactor:z?.sign_in_second_factor||null}})).apply(this,arguments)}function Ut(m){return 1e3*Number(m)}function $t(m){var l;const[f,I,F]=m.split(".");if(void 0===f||void 0===I||void 0===F)return Et("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,S.tV)(I);return z?JSON.parse(z):(Et("Failed to decode base64 JWT payload"),null)}catch(z){return Et("Caught error parsing JWT payload as JSON",null===(l=z)||void 0===l?void 0:l.toString()),null}}function xn(m,l){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,p.Z)(function*(m,l,f=!1){if(f)return l;try{return yield l}catch(I){throw I instanceof S.ZR&&_r(I)&&m.auth.currentUser===m&&(yield m.auth.signOut()),I}})).apply(this,arguments)}function _r({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class Qt{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var f;if(l){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const F=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(l=!1){var f=this;if(!this.isRunning)return;const I=this.getInterval(l);this.timerId=setTimeout((0,p.Z)(function*(){yield f.iteration()}),I)}iteration(){var l=this;return(0,p.Z)(function*(){var f;try{yield l.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===(null===(f=I)||void 0===f?void 0:f.code)&&l.schedule(!0))}l.schedule()})()}}class jr{constructor(l,f){this.createdAt=l,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=dr(this.lastLoginAt),this.creationTime=dr(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function An(m){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,p.Z)(function*(m){var l;const f=m.auth,I=yield m.getIdToken(),F=yield xn(m,Vn(f,{idToken:I}));Z(F?.users.length,f,"internal-error");const z=F.users[0];m._notifyReloadListener(z);const Ae=null!==(l=z.providerUserInfo)&&void 0!==l&&l.length?ie(z.providerUserInfo):[],Qe=ee(m.providerData,Ae),kn=!!m.isAnonymous&&!(m.email&&z.passwordHash||Qe?.length),Tn={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:Qe,metadata:new jr(z.createdAt,z.lastLoginAt),isAnonymous:kn};Object.assign(m,Tn)})).apply(this,arguments)}function ye(){return(ye=(0,p.Z)(function*(m){const l=(0,S.m9)(m);yield An(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function ee(m,l){return[...m.filter(I=>!l.some(F=>F.providerId===I.providerId)),...l]}function ie(m){return m.map(l=>{var{providerId:f}=l,I=(0,ge._T)(l,["providerId"]);return{providerId:f,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function fe(){return(fe=(0,p.Z)(function*(m,l){const f=yield sr(m,{},(0,p.Z)(function*(){const I=(0,S.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:F,apiKey:z}=m.config,Ae=Ft(m,F,"/v1/token",`key=${z}`),Qe=yield m._getAdditionalHeaders();return Qe["Content-Type"]="application/x-www-form-urlencoded",Rn.fetch()(Ae,{method:"POST",headers:Qe,body:I})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class st{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){Z(l.idToken,"internal-error"),Z(typeof l.idToken<"u","internal-error"),Z(typeof l.refreshToken<"u","internal-error");const f="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function yn(m){const l=$t(m);return Z(l,"internal-error"),Z(typeof l.exp<"u","internal-error"),Z(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,f)}getToken(l,f=!1){var I=this;return(0,p.Z)(function*(){return Z(!I.accessToken||I.refreshToken,l,"user-token-expired"),f||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(l,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,f){var I=this;return(0,p.Z)(function*(){const{accessToken:F,refreshToken:z,expiresIn:Ae}=yield function le(m,l){return fe.apply(this,arguments)}(l,f);I.updateTokensAndExpiration(F,z,Number(Ae))})()}updateTokensAndExpiration(l,f,I){this.refreshToken=f||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(l,f){const{refreshToken:I,accessToken:F,expirationTime:z}=f,Ae=new st;return I&&(Z("string"==typeof I,"internal-error",{appName:l}),Ae.refreshToken=I),F&&(Z("string"==typeof F,"internal-error",{appName:l}),Ae.accessToken=F),z&&(Z("number"==typeof z,"internal-error",{appName:l}),Ae.expirationTime=z),Ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new st,this.toJSON())}_performRefresh(){return Ze("not implemented")}}function _t(m,l){Z("string"==typeof m||typeof m>"u","internal-error",{appName:l})}class Lt{constructor(l){var{uid:f,auth:I,stsTokenManager:F}=l,z=(0,ge._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=I,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new jr(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(l){var f=this;return(0,p.Z)(function*(){const I=yield xn(f,f.stsTokenManager.getToken(f.auth,l));return Z(I,f.auth,"internal-error"),f.accessToken!==I&&(f.accessToken=I,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),I})()}getIdTokenResult(l){return function Cn(m){return ln.apply(this,arguments)}(this,l)}reload(){return function Pn(m){return ye.apply(this,arguments)}(this)}_assign(l){this!==l&&(Z(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(f=>Object.assign({},f)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new Lt(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,f=!1){var I=this;return(0,p.Z)(function*(){let F=!1;l.idToken&&l.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(l),F=!0),f&&(yield An(I)),yield I.auth._persistUserIfCurrent(I),F&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var l=this;return(0,p.Z)(function*(){const f=yield l.getIdToken();return yield xn(l,function ir(m,l){return bt.apply(this,arguments)}(l.auth,{idToken:f})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,f){var I,F,z,Ae,Qe,At,an,kn;const Tn=null!==(I=f.displayName)&&void 0!==I?I:void 0,Ei=null!==(F=f.email)&&void 0!==F?F:void 0,Jr=null!==(z=f.phoneNumber)&&void 0!==z?z:void 0,Su=null!==(Ae=f.photoURL)&&void 0!==Ae?Ae:void 0,rd=null!==(Qe=f.tenantId)&&void 0!==Qe?Qe:void 0,so=null!==(At=f._redirectEventId)&&void 0!==At?At:void 0,pc=null!==(an=f.createdAt)&&void 0!==an?an:void 0,il=null!==(kn=f.lastLoginAt)&&void 0!==kn?kn:void 0,{uid:id,emailVerified:sl,isAnonymous:Ff,providerData:Eh,stsTokenManager:Lf}=f;Z(id&&Lf,l,"internal-error");const Ng=st.fromJSON(this.name,Lf);Z("string"==typeof id,l,"internal-error"),_t(Tn,l.name),_t(Ei,l.name),Z("boolean"==typeof sl,l,"internal-error"),Z("boolean"==typeof Ff,l,"internal-error"),_t(Jr,l.name),_t(Su,l.name),_t(rd,l.name),_t(so,l.name),_t(pc,l.name),_t(il,l.name);const Ih=new Lt({uid:id,auth:l,email:Ei,emailVerified:sl,displayName:Tn,isAnonymous:Ff,photoURL:Su,phoneNumber:Jr,tenantId:rd,stsTokenManager:Ng,createdAt:pc,lastLoginAt:il});return Eh&&Array.isArray(Eh)&&(Ih.providerData=Eh.map(Vf=>Object.assign({},Vf))),so&&(Ih._redirectEventId=so),Ih}static _fromIdTokenResponse(l,f,I=!1){return(0,p.Z)(function*(){const F=new st;F.updateFromServerResponse(f);const z=new Lt({uid:f.localId,auth:l,stsTokenManager:F,isAnonymous:I});return yield An(z),z})()}}const mn=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(f,I){var F=this;return(0,p.Z)(function*(){F.storage[f]=I})()}_get(f){var I=this;return(0,p.Z)(function*(){const F=I.storage[f];return void 0===F?null:F})()}_remove(f){var I=this;return(0,p.Z)(function*(){delete I.storage[f]})()}_addListener(f,I){}_removeListener(f,I){}}return m.type="NONE",m})();function Pe(m,l,f){return`firebase:${m}:${l}:${f}`}class Ge{constructor(l,f,I){this.persistence=l,this.auth=f,this.userKey=I;const{config:F,name:z}=this.auth;this.fullUserKey=Pe(this.userKey,F.apiKey,z),this.fullPersistenceKey=Pe("persistence",F.apiKey,z),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,p.Z)(function*(){const f=yield l.persistence._get(l.fullUserKey);return f?Lt._fromJSON(l.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var f=this;return(0,p.Z)(function*(){if(f.persistence===l)return;const I=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=l,I?f.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,f,I="authUser"){return(0,p.Z)(function*(){if(!f.length)return new Ge(Se(mn),l,I);const F=(yield Promise.all(f.map(function(){var an=(0,p.Z)(function*(kn){if(yield kn._isAvailable())return kn});return function(kn){return an.apply(this,arguments)}}()))).filter(an=>an);let z=F[0]||Se(mn);const Ae=Pe(I,l.config.apiKey,l.name);let Qe=null;for(const an of f)try{const kn=yield an._get(Ae);if(kn){const Tn=Lt._fromJSON(l,kn);an!==z&&(Qe=Tn),z=an;break}}catch{}const At=F.filter(an=>an._shouldAllowMigration);return z._shouldAllowMigration&&At.length?(z=At[0],Qe&&(yield z._set(Ae,Qe.toJSON())),yield Promise.all(f.map(function(){var an=(0,p.Z)(function*(kn){if(kn!==z)try{yield kn._remove(Ae)}catch{}});return function(kn){return an.apply(this,arguments)}}())),new Ge(z,l,I)):new Ge(z,l,I)})()}}function et(m){const l=m.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(Zt(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(pt(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(te(l))return"Blackberry";if(J(l))return"Webos";if(Dt(l))return"Safari";if((l.includes("chrome/")||zt(l))&&!l.includes("edge/"))return"Chrome";if(dn(l))return"Android";{const I=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function pt(m=(0,S.z$)()){return/firefox\//i.test(m)}function Dt(m=(0,S.z$)()){const l=m.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function zt(m=(0,S.z$)()){return/crios\//i.test(m)}function Zt(m=(0,S.z$)()){return/iemobile/i.test(m)}function dn(m=(0,S.z$)()){return/android/i.test(m)}function te(m=(0,S.z$)()){return/blackberry/i.test(m)}function J(m=(0,S.z$)()){return/webos/i.test(m)}function q(m=(0,S.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function hn(m=(0,S.z$)()){return q(m)||dn(m)||J(m)||te(m)||/windows phone/i.test(m)||Zt(m)}function dt(m,l=[]){let f;switch(m){case"Browser":f=et((0,S.z$)());break;case"Worker":f=`${et((0,S.z$)())}-${m}`;break;default:f=m}const I=l.length?l.join(","):"FirebaseCore-web";return`${f}/JsCore/${ae.SDK_VERSION}/${I}`}class en{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,f){const I=z=>new Promise((Ae,Qe)=>{try{Ae(l(z))}catch(At){Qe(At)}});I.onAbort=f,this.queue.push(I);const F=this.queue.length-1;return()=>{this.queue[F]=()=>Promise.resolve()}}runMiddleware(l){var f=this;return(0,p.Z)(function*(){var I;if(f.auth.currentUser===l)return;const F=[];try{for(const z of f.queue)yield z(l),z.onAbort&&F.push(z.onAbort)}catch(z){F.reverse();for(const Ae of F)try{Ae()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(I=z)||void 0===I?void 0:I.message})}})()}}class ct{constructor(l,f,I){this.app=l,this.heartbeatServiceProvider=f,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Re(this),this.idTokenSubscription=new Re(this),this.beforeStateQueue=new en(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(l,f){var I=this;return f&&(this._popupRedirectResolver=Se(f)),this._initializationPromise=this.queue((0,p.Z)(function*(){var F,z;if(!I._deleted&&(I.persistenceManager=yield Ge.create(I,l),!I._deleted)){if(null!==(F=I._popupRedirectResolver)&&void 0!==F&&F._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(f),I.lastNotifiedUid=(null===(z=I.currentUser)||void 0===z?void 0:z.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,p.Z)(function*(){if(l._deleted)return;const f=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||f){if(l.currentUser&&f&&l.currentUser.uid===f.uid)return l._currentUser._assign(f),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(f,!0)}})()}initializeCurrentUser(l){var f=this;return(0,p.Z)(function*(){var I;const F=yield f.assertedPersistence.getCurrentUser();let z=F,Ae=!1;if(l&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const Qe=null===(I=f.redirectUser)||void 0===I?void 0:I._redirectEventId,At=z?._redirectEventId,an=yield f.tryRedirectSignIn(l);(!Qe||Qe===At)&&an?.user&&(z=an.user,Ae=!0)}if(!z)return f.directlySetCurrentUser(null);if(!z._redirectEventId){if(Ae)try{yield f.beforeStateQueue.runMiddleware(z)}catch(Qe){z=F,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(Qe))}return z?f.reloadAndSetCurrentUserOrClear(z):f.directlySetCurrentUser(null)}return Z(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===z._redirectEventId?f.directlySetCurrentUser(z):f.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(l){var f=this;return(0,p.Z)(function*(){let I=null;try{I=yield f._popupRedirectResolver._completeRedirectFn(f,l,!0)}catch{yield f._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(l){var f=this;return(0,p.Z)(function*(){var I;try{yield An(l)}catch(F){if("auth/network-request-failed"!==(null===(I=F)||void 0===I?void 0:I.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function tt(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var l=this;return(0,p.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var f=this;return(0,p.Z)(function*(){const I=l?(0,S.m9)(l):null;return I&&Z(I.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(I&&I._clone(f))})()}_updateCurrentUser(l,f=!1){var I=this;return(0,p.Z)(function*(){if(!I._deleted)return l&&Z(I.tenantId===l.tenantId,I,"tenant-id-mismatch"),f||(yield I.beforeStateQueue.runMiddleware(l)),I.queue((0,p.Z)(function*(){yield I.directlySetCurrentUser(l),I.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,p.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var f=this;return this.queue((0,p.Z)(function*(){yield f.assertedPersistence.setPersistence(Se(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new S.LL("auth","Firebase",l())}onAuthStateChanged(l,f,I){return this.registerStateListener(this.authStateSubscription,l,f,I)}beforeAuthStateChanged(l,f){return this.beforeStateQueue.pushCallback(l,f)}onIdTokenChanged(l,f,I){return this.registerStateListener(this.idTokenSubscription,l,f,I)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,f){var I=this;return(0,p.Z)(function*(){const F=yield I.getOrInitRedirectPersistenceManager(f);return null===l?F.removeCurrentUser():F.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var f=this;return(0,p.Z)(function*(){if(!f.redirectPersistenceManager){const I=l&&Se(l)||f._popupRedirectResolver;Z(I,f,"argument-error"),f.redirectPersistenceManager=yield Ge.create(f,[Se(I._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(l){var f=this;return(0,p.Z)(function*(){var I,F;return f._isInitialized&&(yield f.queue((0,p.Z)(function*(){}))),(null===(I=f._currentUser)||void 0===I?void 0:I._redirectEventId)===l?f._currentUser:(null===(F=f.redirectUser)||void 0===F?void 0:F._redirectEventId)===l?f.redirectUser:null})()}_persistUserIfCurrent(l){var f=this;return(0,p.Z)(function*(){if(l===f.currentUser)return f.queue((0,p.Z)(function*(){return f.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(f=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,f,I,F){if(this._deleted)return()=>{};const z="function"==typeof f?f:f.next.bind(f),Ae=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(Ae,this,"internal-error"),Ae.then(()=>z(this.currentUser)),"function"==typeof f?l.addObserver(f,I,F):l.addObserver(f)}directlySetCurrentUser(l){var f=this;return(0,p.Z)(function*(){f.currentUser&&f.currentUser!==l&&f._currentUser._stopProactiveRefresh(),l&&f.isProactiveRefreshEnabled&&l._startProactiveRefresh(),f.currentUser=l,l?yield f.assertedPersistence.setCurrentUser(l):yield f.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=dt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,p.Z)(function*(){var f;const I={"X-Client-Version":l.clientVersion};l.app.options.appId&&(I["X-Firebase-gmpid"]=l.app.options.appId);const F=yield null===(f=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return F&&(I["X-Firebase-Client"]=F),I})()}}function de(m){return(0,S.m9)(m)}class Re{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,S.ne)(f=>this.observer=f)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Tt(m){const l=m.indexOf(":");return l<0?"":m.substr(0,l+1)}function pn(m){if(!m)return null;const l=Number(m);return isNaN(l)?null:l}class En{constructor(l,f){this.providerId=l,this.signInMethod=f}toJSON(){return Ze("not implemented")}_getIdTokenResponse(l){return Ze("not implemented")}_linkToIdToken(l,f){return Ze("not implemented")}_getReauthenticationResolver(l){return Ze("not implemented")}}function pr(m,l){return On.apply(this,arguments)}function On(){return(On=(0,p.Z)(function*(m,l){return Xt(m,"POST","/v1/accounts:resetPassword",qt(m,l))})).apply(this,arguments)}function cn(m,l){return xr.apply(this,arguments)}function xr(){return(xr=(0,p.Z)(function*(m,l){return Xt(m,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function ar(m,l){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,p.Z)(function*(m,l){return Xt(m,"POST","/v1/accounts:update",qt(m,l))})).apply(this,arguments)}function Hr(){return(Hr=(0,p.Z)(function*(m,l){return Ln(m,"POST","/v1/accounts:signInWithPassword",qt(m,l))})).apply(this,arguments)}function Oe(m,l){return Te.apply(this,arguments)}function Te(){return(Te=(0,p.Z)(function*(m,l){return Xt(m,"POST","/v1/accounts:sendOobCode",qt(m,l))})).apply(this,arguments)}function Ve(m,l){return nt.apply(this,arguments)}function nt(){return(nt=(0,p.Z)(function*(m,l){return Oe(m,l)})).apply(this,arguments)}function yt(m,l){return xt.apply(this,arguments)}function xt(){return(xt=(0,p.Z)(function*(m,l){return Oe(m,l)})).apply(this,arguments)}function bn(m,l){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,p.Z)(function*(m,l){return Oe(m,l)})).apply(this,arguments)}function zn(m,l){return er.apply(this,arguments)}function er(){return(er=(0,p.Z)(function*(m,l){return Oe(m,l)})).apply(this,arguments)}function Ui(){return(Ui=(0,p.Z)(function*(m,l){return Ln(m,"POST","/v1/accounts:signInWithEmailLink",qt(m,l))})).apply(this,arguments)}function wi(){return(wi=(0,p.Z)(function*(m,l){return Ln(m,"POST","/v1/accounts:signInWithEmailLink",qt(m,l))})).apply(this,arguments)}class ps extends En{constructor(l,f,I,F=null){super("password",I),this._email=l,this._password=f,this._tenantId=F}static _fromEmailAndPassword(l,f){return new ps(l,f,"password")}static _fromEmailAndCode(l,f,I=null){return new ps(l,f,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(l){var f=this;return(0,p.Z)(function*(){switch(f.signInMethod){case"password":return function ci(m,l){return Hr.apply(this,arguments)}(l,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function li(m,l){return Ui.apply(this,arguments)}(l,{email:f._email,oobCode:f._password});default:ve(l,"internal-error")}})()}_linkToIdToken(l,f){var I=this;return(0,p.Z)(function*(){switch(I.signInMethod){case"password":return cn(l,{idToken:f,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Or(m,l){return wi.apply(this,arguments)}(l,{idToken:f,email:I._email,oobCode:I._password});default:ve(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Pr(m,l){return qs.apply(this,arguments)}function qs(){return(qs=(0,p.Z)(function*(m,l){return Ln(m,"POST","/v1/accounts:signInWithIdp",qt(m,l))})).apply(this,arguments)}class Di extends En{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const f=new Di(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(f.idToken=l.idToken),l.accessToken&&(f.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(f.nonce=l.nonce),l.pendingToken&&(f.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(f.accessToken=l.oauthToken,f.secret=l.oauthTokenSecret):ve("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l,{providerId:I,signInMethod:F}=f,z=(0,ge._T)(f,["providerId","signInMethod"]);if(!I||!F)return null;const Ae=new Di(I,F);return Ae.idToken=z.idToken||void 0,Ae.accessToken=z.accessToken||void 0,Ae.secret=z.secret,Ae.nonce=z.nonce,Ae.pendingToken=z.pendingToken||null,Ae}_getIdTokenResponse(l){return Pr(l,this.buildRequest())}_linkToIdToken(l,f){const I=this.buildRequest();return I.idToken=f,Pr(l,I)}_getReauthenticationResolver(l){const f=this.buildRequest();return f.autoCreate=!1,Pr(l,f)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),l.postBody=(0,S.xO)(f)}return l}}function Fs(m,l){return gs.apply(this,arguments)}function gs(){return(gs=(0,p.Z)(function*(m,l){return Xt(m,"POST","/v1/accounts:sendVerificationCode",qt(m,l))})).apply(this,arguments)}function Ls(){return(Ls=(0,p.Z)(function*(m,l){return Ln(m,"POST","/v1/accounts:signInWithPhoneNumber",qt(m,l))})).apply(this,arguments)}function Qs(){return(Qs=(0,p.Z)(function*(m,l){const f=yield Ln(m,"POST","/v1/accounts:signInWithPhoneNumber",qt(m,l));if(f.temporaryProof)throw $n(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const ss={USER_NOT_FOUND:"user-not-found"};function uo(){return(uo=(0,p.Z)(function*(m,l){return Ln(m,"POST","/v1/accounts:signInWithPhoneNumber",qt(m,Object.assign(Object.assign({},l),{operation:"REAUTH"})),ss)})).apply(this,arguments)}class Ci extends En{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,f){return new Ci({verificationId:l,verificationCode:f})}static _fromTokenResponse(l,f){return new Ci({phoneNumber:l,temporaryProof:f})}_getIdTokenResponse(l){return function Ys(m,l){return Ls.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,f){return function Ho(m,l){return Qs.apply(this,arguments)}(l,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function ua(m,l){return uo.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:f,verificationId:I,verificationCode:F}=this.params;return l&&f?{temporaryProof:l,phoneNumber:f}:{sessionInfo:I,code:F}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:f,verificationCode:I,phoneNumber:F,temporaryProof:z}=l;return I||f||F||z?new Ci({verificationId:f,verificationCode:I,phoneNumber:F,temporaryProof:z}):null}}class Bi{constructor(l){var f,I,F,z,Ae,Qe;const At=(0,S.zd)((0,S.pd)(l)),an=null!==(f=At.apiKey)&&void 0!==f?f:null,kn=null!==(I=At.oobCode)&&void 0!==I?I:null,Tn=function Xi(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=At.mode)&&void 0!==F?F:null);Z(an&&kn&&Tn,"argument-error"),this.apiKey=an,this.operation=Tn,this.code=kn,this.continueUrl=null!==(z=At.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(Ae=At.languageCode)&&void 0!==Ae?Ae:null,this.tenantId=null!==(Qe=At.tenantId)&&void 0!==Qe?Qe:null}static parseLink(l){const f=function Oi(m){const l=(0,S.zd)((0,S.pd)(m)).link,f=l?(0,S.zd)((0,S.pd)(l)).deep_link_id:null,I=(0,S.zd)((0,S.pd)(m)).deep_link_id;return(I?(0,S.zd)((0,S.pd)(I)).link:null)||I||f||l||m}(l);try{return new Bi(f)}catch{return null}}}let bi=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,I){return ps._fromEmailAndPassword(f,I)}static credentialWithLink(f,I){const F=Bi.parseLink(I);return Z(F,"argument-error"),ps._fromEmailAndCode(f,F.code,F.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class ji{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Zr extends ji{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Ri extends Zr{static credentialFromJSON(l){const f="string"==typeof l?JSON.parse(l):l;return Z("providerId"in f&&"signInMethod"in f,"argument-error"),Di._fromParams(f)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return Z(l.idToken||l.accessToken,"argument-error"),Di._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Ri.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Ri.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:f,oauthAccessToken:I,oauthTokenSecret:F,pendingToken:z,nonce:Ae,providerId:Qe}=l;if(!I&&!F&&!f&&!z||!Qe)return null;try{return new Ri(Qe)._credential({idToken:f,accessToken:I,nonce:Ae,pendingToken:z})}catch{return null}}}let ms=(()=>{class m extends Zr{constructor(){super("facebook.com")}static credential(f){return Di._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),mi=(()=>{class m extends Zr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,I){return Di._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:I})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:I,oauthAccessToken:F}=f;if(!I&&!F)return null;try{return m.credential(I,F)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Pi=(()=>{class m extends Zr{constructor(){super("github.com")}static credential(f){return Di._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class $i extends En{constructor(l,f){super(l,l),this.pendingToken=f}_getIdTokenResponse(l){return Pr(l,this.buildRequest())}_linkToIdToken(l,f){const I=this.buildRequest();return I.idToken=f,Pr(l,I)}_getReauthenticationResolver(l){const f=this.buildRequest();return f.autoCreate=!1,Pr(l,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l,{providerId:I,signInMethod:F,pendingToken:z}=f;return I&&F&&z&&I===F?new $i(I,z):null}static _create(l,f){return new $i(l,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Hi extends ji{constructor(l){Z(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return Hi.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return Hi.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const f=$i.fromJSON(l);return Z(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:f,providerId:I}=l;if(!f||!I)return null;try{return $i._create(I,f)}catch{return null}}}let ni=(()=>{class m extends Zr{constructor(){super("twitter.com")}static credential(f,I){return Di._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:I})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:I,oauthTokenSecret:F}=f;if(!I||!F)return null;try{return m.credential(I,F)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Ti(m,l){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,p.Z)(function*(m,l){return Ln(m,"POST","/v1/accounts:signUp",qt(m,l))})).apply(this,arguments)}class Nr{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,f,I,F=!1){return(0,p.Z)(function*(){const z=yield Lt._fromIdTokenResponse(l,I,F),Ae=As(I);return new Nr({user:z,providerId:Ae,_tokenResponse:I,operationType:f})})()}static _forOperation(l,f,I){return(0,p.Z)(function*(){yield l._updateTokensIfNecessary(I,!0);const F=As(I);return new Nr({user:l,providerId:F,_tokenResponse:I,operationType:f})})()}}function As(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Rr(){return(Rr=(0,p.Z)(function*(m){var l;const f=de(m);if(yield f._initializationPromise,null!==(l=f.currentUser)&&void 0!==l&&l.isAnonymous)return new Nr({user:f.currentUser,providerId:null,operationType:"signIn"});const I=yield Ti(f,{returnSecureToken:!0}),F=yield Nr._fromIdTokenResponse(f,"signIn",I,!0);return yield f._updateCurrentUser(F.user),F})).apply(this,arguments)}class hr extends S.ZR{constructor(l,f,I,F){var z;super(f.code,f.message),this.operationType=I,this.user=F,Object.setPrototypeOf(this,hr.prototype),this.customData={appName:l.name,tenantId:null!==(z=l.tenantId)&&void 0!==z?z:void 0,_serverResponse:f.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(l,f,I,F){return new hr(l,f,I,F)}}function Gi(m,l,f,I){return("reauthenticate"===l?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?hr._fromErrorAndOperation(m,z,l,I):z})}function Ai(m){return new Set(m.map(({providerId:l})=>l).filter(l=>!!l))}function ki(){return(ki=(0,p.Z)(function*(m,l){const f=(0,S.m9)(m);yield Wn(!0,f,l);const{providerUserInfo:I}=yield Zn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[l]}),F=Ai(I||[]);return f.providerData=f.providerData.filter(z=>F.has(z.providerId)),F.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function di(m,l){return as.apply(this,arguments)}function as(){return(as=(0,p.Z)(function*(m,l,f=!1){const I=yield xn(m,l._linkToIdToken(m.auth,yield m.getIdToken()),f);return Nr._forOperation(m,"link",I)})).apply(this,arguments)}function Wn(m,l,f){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,p.Z)(function*(m,l,f){yield An(l);const F=!1===m?"provider-already-linked":"no-such-provider";Z(Ai(l.providerData).has(f)===m,l.auth,F)})).apply(this,arguments)}function vs(m,l){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,p.Z)(function*(m,l,f=!1){var I;const{auth:F}=m,z="reauthenticate";try{const Ae=yield xn(m,Gi(F,z,l,m),f);Z(Ae.idToken,F,"internal-error");const Qe=$t(Ae.idToken);Z(Qe,F,"internal-error");const{sub:At}=Qe;return Z(m.uid===At,F,"user-mismatch"),Nr._forOperation(m,z,Ae)}catch(Ae){throw"auth/user-not-found"===(null===(I=Ae)||void 0===I?void 0:I.code)&&ve(F,"user-mismatch"),Ae}})).apply(this,arguments)}function ei(m,l){return Us.apply(this,arguments)}function Us(){return(Us=(0,p.Z)(function*(m,l,f=!1){const I="signIn",F=yield Gi(m,I,l),z=yield Nr._fromIdTokenResponse(m,I,F);return f||(yield m._updateCurrentUser(z.user)),z})).apply(this,arguments)}function Bs(m,l){return G.apply(this,arguments)}function G(){return(G=(0,p.Z)(function*(m,l){return ei(de(m),l)})).apply(this,arguments)}function K(m,l){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,p.Z)(function*(m,l){const f=(0,S.m9)(m);return yield Wn(!1,f,l.providerId),di(f,l)})).apply(this,arguments)}function qe(m,l){return gt.apply(this,arguments)}function gt(){return(gt=(0,p.Z)(function*(m,l){return vs((0,S.m9)(m),l)})).apply(this,arguments)}function Ct(m,l){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,p.Z)(function*(m,l){return Ln(m,"POST","/v1/accounts:signInWithCustomToken",qt(m,l))})).apply(this,arguments)}function Fr(){return(Fr=(0,p.Z)(function*(m,l){const f=de(m),I=yield Ct(f,{token:l,returnSecureToken:!0}),F=yield Nr._fromIdTokenResponse(f,"signIn",I);return yield f._updateCurrentUser(F.user),F})).apply(this,arguments)}class ot{constructor(l,f){this.factorId=l,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(l,f){return"phoneInfo"in f?un._fromServerResponse(l,f):ve(l,"internal-error")}}class un extends ot{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,f){return new un(f)}}function _n(m,l,f){var I;Z((null===(I=f.url)||void 0===I?void 0:I.length)>0,m,"invalid-continue-uri"),Z(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),l.continueUrl=f.url,l.dynamicLinkDomain=f.dynamicLinkDomain,l.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Z(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),l.iOSBundleId=f.iOS.bundleId),f.android&&(Z(f.android.packageName.length>0,m,"missing-android-pkg-name"),l.androidInstallApp=f.android.installApp,l.androidMinimumVersionCode=f.android.minimumVersion,l.androidPackageName=f.android.packageName)}function Sr(){return(Sr=(0,p.Z)(function*(m,l,f){const I=(0,S.m9)(m),F={requestType:"PASSWORD_RESET",email:l};f&&_n(I,F,f),yield yt(I,F)})).apply(this,arguments)}function yi(){return(yi=(0,p.Z)(function*(m,l,f){yield pr((0,S.m9)(m),{oobCode:l,newPassword:f})})).apply(this,arguments)}function _s(){return(_s=(0,p.Z)(function*(m,l){yield ar((0,S.m9)(m),{oobCode:l})})).apply(this,arguments)}function Fi(m,l){return Si.apply(this,arguments)}function Si(){return(Si=(0,p.Z)(function*(m,l){const f=(0,S.m9)(m),I=yield pr(f,{oobCode:l}),F=I.requestType;switch(Z(F,f,"internal-error"),F){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(I.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(I.mfaInfo,f,"internal-error");default:Z(I.email,f,"internal-error")}let z=null;return I.mfaInfo&&(z=ot._fromServerResponse(de(f),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:z},operation:F}})).apply(this,arguments)}function R(){return(R=(0,p.Z)(function*(m,l){const{data:f}=yield Fi((0,S.m9)(m),l);return f.email})).apply(this,arguments)}function A(){return(A=(0,p.Z)(function*(m,l,f){const I=de(m),F=yield Ti(I,{returnSecureToken:!0,email:l,password:f}),z=yield Nr._fromIdTokenResponse(I,"signIn",F);return yield I._updateCurrentUser(z.user),z})).apply(this,arguments)}function rn(){return(rn=(0,p.Z)(function*(m,l,f){const I=(0,S.m9)(m),F={requestType:"EMAIL_SIGNIN",email:l};Z(f.handleCodeInApp,I,"argument-error"),f&&_n(I,F,f),yield bn(I,F)})).apply(this,arguments)}function Li(){return(Li=(0,p.Z)(function*(m,l,f){const I=(0,S.m9)(m),F=bi.credentialWithLink(l,f||lt());return Z(F._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Bs(I,F)})).apply(this,arguments)}function ts(m,l){return Js.apply(this,arguments)}function Js(){return(Js=(0,p.Z)(function*(m,l){return Xt(m,"POST","/v1/accounts:createAuthUri",qt(m,l))})).apply(this,arguments)}function Xs(){return(Xs=(0,p.Z)(function*(m,l){const I={identifier:l,continueUri:Pt()?lt():"http://localhost"},{signinMethods:F}=yield ts((0,S.m9)(m),I);return F||[]})).apply(this,arguments)}function bo(){return(bo=(0,p.Z)(function*(m,l){const f=(0,S.m9)(m),F={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};l&&_n(f.auth,F,l);const{email:z}=yield Ve(f.auth,F);z!==m.email&&(yield m.reload())})).apply(this,arguments)}function Go(){return(Go=(0,p.Z)(function*(m,l,f){const I=(0,S.m9)(m),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:l};f&&_n(I.auth,z,f);const{email:Ae}=yield zn(I.auth,z);Ae!==m.email&&(yield m.reload())})).apply(this,arguments)}function To(m,l){return ca.apply(this,arguments)}function ca(){return(ca=(0,p.Z)(function*(m,l){return Xt(m,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Ao(){return(Ao=(0,p.Z)(function*(m,{displayName:l,photoURL:f}){if(void 0===l&&void 0===f)return;const I=(0,S.m9)(m),z={idToken:yield I.getIdToken(),displayName:l,photoUrl:f,returnSecureToken:!0},Ae=yield xn(I,To(I.auth,z));I.displayName=Ae.displayName||null,I.photoURL=Ae.photoUrl||null;const Qe=I.providerData.find(({providerId:At})=>"password"===At);Qe&&(Qe.displayName=I.displayName,Qe.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ae)})).apply(this,arguments)}function M(m,l,f){return $.apply(this,arguments)}function $(){return($=(0,p.Z)(function*(m,l,f){const{auth:I}=m,z={idToken:yield m.getIdToken(),returnSecureToken:!0};l&&(z.email=l),f&&(z.password=f);const Ae=yield xn(m,cn(I,z));yield m._updateTokensIfNecessary(Ae,!0)})).apply(this,arguments)}class We{constructor(l,f,I={}){this.isNewUser=l,this.providerId=f,this.profile=I}}class it extends We{constructor(l,f,I,F){super(l,f,I),this.username=F}}class Jt extends We{constructor(l,f){super(l,"facebook.com",f)}}class ur extends it{constructor(l,f){super(l,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class yr extends We{constructor(l,f){super(l,"google.com",f)}}class gr extends it{constructor(l,f,I){super(l,"twitter.com",f,I)}}function Yn(m){const{user:l,_tokenResponse:f}=m;return l.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function oe(m){var l,f;if(!m)return null;const{providerId:I}=m,F=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},z=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!I&&m?.idToken){const Ae=null===(f=null===(l=$t(m.idToken))||void 0===l?void 0:l.firebase)||void 0===f?void 0:f.sign_in_provider;if(Ae)return new We(z,"anonymous"!==Ae&&"custom"!==Ae?Ae:null)}if(!I)return null;switch(I){case"facebook.com":return new Jt(z,F);case"github.com":return new ur(z,F);case"google.com":return new yr(z,F);case"twitter.com":return new gr(z,F,m.screenName||null);case"custom":case"anonymous":return new We(z,null);default:return new We(z,I,F)}}(f)}class cs{constructor(l,f,I){this.type=l,this.credential=f,this.auth=I}static _fromIdtoken(l,f){return new cs("enroll",l,f)}static _fromMfaPendingCredential(l){return new cs("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var f,I;if(l?.multiFactorSession){if(null!==(f=l.multiFactorSession)&&void 0!==f&&f.pendingCredential)return cs._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(I=l.multiFactorSession)&&void 0!==I&&I.idToken)return cs._fromIdtoken(l.multiFactorSession.idToken)}return null}}class So{constructor(l,f,I){this.session=l,this.hints=f,this.signInResolver=I}static _fromError(l,f){const I=de(l),F=f.customData._serverResponse,z=(F.mfaInfo||[]).map(Qe=>ot._fromServerResponse(I,Qe));Z(F.mfaPendingCredential,I,"internal-error");const Ae=cs._fromMfaPendingCredential(F.mfaPendingCredential);return new So(Ae,z,function(){var Qe=(0,p.Z)(function*(At){const an=yield At._process(I,Ae);delete F.mfaInfo,delete F.mfaPendingCredential;const kn=Object.assign(Object.assign({},F),{idToken:an.idToken,refreshToken:an.refreshToken});switch(f.operationType){case"signIn":const Tn=yield Nr._fromIdTokenResponse(I,f.operationType,kn);return yield I._updateCurrentUser(Tn.user),Tn;case"reauthenticate":return Z(f.user,I,"internal-error"),Nr._forOperation(f.user,f.operationType,kn);default:ve(I,"internal-error")}});return function(At){return Qe.apply(this,arguments)}}())}resolveSignIn(l){var f=this;return(0,p.Z)(function*(){return f.signInResolver(l)})()}}function Ku(m,l){return Xt(m,"POST","/v2/accounts/mfaEnrollment:start",qt(m,l))}class Pc{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(I=>ot._fromServerResponse(l.auth,I)))})}static _fromUser(l){return new Pc(l)}getSession(){var l=this;return(0,p.Z)(function*(){return cs._fromIdtoken(yield l.user.getIdToken(),l.user.auth)})()}enroll(l,f){var I=this;return(0,p.Z)(function*(){const F=l,z=yield I.getSession(),Ae=yield xn(I.user,F._process(I.user.auth,z,f));return yield I.user._updateTokensIfNecessary(Ae),I.user.reload()})()}unenroll(l){var f=this;return(0,p.Z)(function*(){var I;const F="string"==typeof l?l:l.uid,z=yield f.user.getIdToken(),Ae=yield xn(f.user,function jl(m,l){return Xt(m,"POST","/v2/accounts/mfaEnrollment:withdraw",qt(m,l))}(f.user.auth,{idToken:z,mfaEnrollmentId:F}));f.enrolledFactors=f.enrolledFactors.filter(({uid:Qe})=>Qe!==F),yield f.user._updateTokensIfNecessary(Ae);try{yield f.user.reload()}catch(Qe){if("auth/user-token-expired"!==(null===(I=Qe)||void 0===I?void 0:I.code))throw Qe}})()}}const qu=new WeakMap,Mo="__sak";class lu{constructor(l,f){this.storageRetriever=l,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Mo,"1"),this.storage.removeItem(Mo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,f){return this.storage.setItem(l,JSON.stringify(f)),Promise.resolve()}_get(l){const f=this.storage.getItem(l);return Promise.resolve(f?JSON.parse(f):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const ha=(()=>{class m extends lu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,I)=>this.onStorageEvent(f,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function da(){const m=(0,S.z$)();return Dt(m)||q(m)}()&&function vn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=hn(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const I of Object.keys(this.listeners)){const F=this.storage.getItem(I),z=this.localCache[I];F!==z&&f(I,z,F)}}onStorageEvent(f,I=!1){if(!f.key)return void this.forAllChangedKeys((Qe,At,an)=>{this.notifyListeners(Qe,an)});const F=f.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Qe=this.storage.getItem(F);if(f.newValue!==Qe)null!==f.newValue?this.storage.setItem(F,f.newValue):this.storage.removeItem(F);else if(this.localCache[F]===f.newValue&&!I)return}const z=()=>{const Qe=this.storage.getItem(F);!I&&this.localCache[F]===Qe||this.notifyListeners(F,Qe)},Ae=this.storage.getItem(F);!function St(){return(0,S.w1)()&&10===document.documentMode}()||Ae===f.newValue||f.newValue===f.oldValue?z():setTimeout(z,10)}notifyListeners(f,I){this.localCache[f]=I;const F=this.listeners[f];if(F)for(const z of Array.from(F))z(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,I,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:I,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,I){var F=()=>super._set,z=this;return(0,p.Z)(function*(){yield F().call(z,f,I),z.localCache[f]=JSON.stringify(I)})()}_get(f){var I=()=>super._get,F=this;return(0,p.Z)(function*(){const z=yield I().call(F,f);return F.localCache[f]=JSON.stringify(z),z})()}_remove(f){var I=()=>super._remove,F=this;return(0,p.Z)(function*(){yield I().call(F,f),delete F.localCache[f]})()}}return m.type="LOCAL",m})(),vt=(()=>{class m extends lu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,I){}_removeListener(f,I){}}return m.type="SESSION",m})();let fa=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const I=this.receivers.find(z=>z.isListeningto(f));if(I)return I;const F=new m(f);return this.receivers.push(F),F}isListeningto(f){return this.eventTarget===f}handleEvent(f){var I=this;return(0,p.Z)(function*(){const F=f,{eventId:z,eventType:Ae,data:Qe}=F.data,At=I.handlersMap[Ae];if(!At?.size)return;F.ports[0].postMessage({status:"ack",eventId:z,eventType:Ae});const an=Array.from(At).map(function(){var Tn=(0,p.Z)(function*(Ei){return Ei(F.origin,Qe)});return function(Ei){return Tn.apply(this,arguments)}}()),kn=yield function Qr(m){return Promise.all(m.map(function(){var l=(0,p.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(I){return{fulfilled:!1,reason:I}}});return function(f){return l.apply(this,arguments)}}()))}(an);F.ports[0].postMessage({status:"done",eventId:z,eventType:Ae,response:kn})})()}_subscribe(f,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(I)}_unsubscribe(f,I){this.handlersMap[f]&&I&&this.handlersMap[f].delete(I),(!I||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Oo(m="",l=10){let f="";for(let I=0;I<l;I++)f+=Math.floor(10*Math.random());return m+f}class sn{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,f,I=50){var F=this;return(0,p.Z)(function*(){const z=typeof MessageChannel<"u"?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let Ae,Qe;return new Promise((At,an)=>{const kn=Oo("",20);z.port1.start();const Tn=setTimeout(()=>{an(new Error("unsupported_event"))},I);Qe={messageChannel:z,onMessage(Ei){const Jr=Ei;if(Jr.data.eventId===kn)switch(Jr.data.status){case"ack":clearTimeout(Tn),Ae=setTimeout(()=>{an(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ae),At(Jr.data.response);break;default:clearTimeout(Tn),clearTimeout(Ae),an(new Error("invalid_response"))}}},F.handlers.add(Qe),z.port1.addEventListener("message",Qe.onMessage),F.target.postMessage({eventType:l,eventId:kn,data:f},[z.port2])}).finally(()=>{Qe&&F.removeMessageHandler(Qe)})})()}}function tn(){return window}function jt(){return typeof tn().WorkerGlobalScope<"u"&&"function"==typeof tn().importScripts}function mt(){return(mt=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const La="firebaseLocalStorageDb",pa="firebaseLocalStorage",Va="fbase_key";class Ro{constructor(l){this.request=l}toPromise(){return new Promise((l,f)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function ga(m,l){return m.transaction([pa],l?"readwrite":"readonly").objectStore(pa)}function Po(){const m=indexedDB.open(La,1);return new Promise((l,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const I=m.result;try{I.createObjectStore(pa,{keyPath:Va})}catch(F){f(F)}}),m.addEventListener("success",(0,p.Z)(function*(){const I=m.result;I.objectStoreNames.contains(pa)?l(I):(I.close(),yield function $l(){const m=indexedDB.deleteDatabase(La);return new Ro(m).toPromise()}(),l(yield Po()))}))})}function ma(m,l,f){return hu.apply(this,arguments)}function hu(){return(hu=(0,p.Z)(function*(m,l,f){const I=ga(m,!0).put({[Va]:l,value:f});return new Ro(I).toPromise()})).apply(this,arguments)}function lo(){return(lo=(0,p.Z)(function*(m,l){const f=ga(m,!1).get(l),I=yield new Ro(f).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function No(m,l){const f=ga(m,!0).delete(l);return new Ro(f).toPromise()}const tr=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,p.Z)(function*(){return f.db||(f.db=yield Po()),f.db})()}_withRetries(f){var I=this;return(0,p.Z)(function*(){let F=0;for(;;)try{const z=yield I._openDb();return yield f(z)}catch(z){if(F++>3)throw z;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,p.Z)(function*(){return jt()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,p.Z)(function*(){f.receiver=fa._getInstance(function Fa(){return jt()?self:null}()),f.receiver._subscribe("keyChanged",function(){var I=(0,p.Z)(function*(F,z){return{keyProcessed:(yield f._poll()).includes(z.key)}});return function(F,z){return I.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var I=(0,p.Z)(function*(F,z){return["keyChanged"]});return function(F,z){return I.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,p.Z)(function*(){var I,F;if(f.activeServiceWorker=yield function Ye(){return mt.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new sn(f.activeServiceWorker);const z=yield f.sender._send("ping",{},800);!z||(null===(I=z[0])||void 0===I?void 0:I.fulfilled)&&(null===(F=z[0])||void 0===F?void 0:F.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var I=this;return(0,p.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function fi(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:f},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const f=yield Po();return yield ma(f,Mo,"1"),yield No(f,Mo),!0}catch{}return!1})()}_withPendingWrite(f){var I=this;return(0,p.Z)(function*(){I.pendingWrites++;try{yield f()}finally{I.pendingWrites--}})()}_set(f,I){var F=this;return(0,p.Z)(function*(){return F._withPendingWrite((0,p.Z)(function*(){return yield F._withRetries(z=>ma(z,f,I)),F.localCache[f]=I,F.notifyServiceWorker(f)}))})()}_get(f){var I=this;return(0,p.Z)(function*(){const F=yield I._withRetries(z=>function jn(m,l){return lo.apply(this,arguments)}(z,f));return I.localCache[f]=F,F})()}_remove(f){var I=this;return(0,p.Z)(function*(){return I._withPendingWrite((0,p.Z)(function*(){return yield I._withRetries(F=>No(F,f)),delete I.localCache[f],I.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,p.Z)(function*(){const I=yield f._withRetries(Ae=>{const Qe=ga(Ae,!1).getAll();return new Ro(Qe).toPromise()});if(!I)return[];if(0!==f.pendingWrites)return[];const F=[],z=new Set;for(const{fbase_key:Ae,value:Qe}of I)z.add(Ae),JSON.stringify(f.localCache[Ae])!==JSON.stringify(Qe)&&(f.notifyListeners(Ae,Qe),F.push(Ae));for(const Ae of Object.keys(f.localCache))f.localCache[Ae]&&!z.has(Ae)&&(f.notifyListeners(Ae,null),F.push(Ae));return F})()}notifyListeners(f,I){this.localCache[f]=I;const F=this.listeners[f];if(F)for(const z of Array.from(F))z(I)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function Ua(m,l){return Xt(m,"POST","/v2/accounts/mfaSignIn:start",qt(m,l))}function Gs(){return(Gs=(0,p.Z)(function*(m){return(yield Xt(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ko(m){return new Promise((l,f)=>{const I=document.createElement("script");I.setAttribute("src",m),I.onload=l,I.onerror=F=>{const z=Le("internal-error");z.customData=F,f(z)},I.type="text/javascript",I.charset="UTF-8",function ho(){var m,l;return null!==(l=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==l?l:document}().appendChild(I)})}function Yu(m){return`__${m}${Math.floor(1e6*Math.random())}`}const po=1e12;class Cr{constructor(l){this.auth=l,this.counter=po,this._widgets=new Map}render(l,f){const I=this.counter;return this._widgets.set(I,new Qd(l,this.auth.name,f||{})),this.counter++,I}reset(l){var f;const I=l||po;null===(f=this._widgets.get(I))||void 0===f||f.delete(),this._widgets.delete(I)}getResponse(l){var f;return(null===(f=this._widgets.get(l||po))||void 0===f?void 0:f.getResponse())||""}execute(l){var f=this;return(0,p.Z)(function*(){var I;return null===(I=f._widgets.get(l||po))||void 0===I||I.execute(),""})()}}class Qd{constructor(l,f,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const F="string"==typeof l?document.getElementById(l):l;Z(F,"argument-error",{appName:f}),this.container=F,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ds(m){const l=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<m;I++)l.push(f.charAt(Math.floor(Math.random()*f.length)));return l.join("")}(50);const{callback:l,"expired-callback":f}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const go=Yu("rcb"),Qu=new Gt(3e4,6e4);class Fo{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=tn().grecaptcha)||void 0===l||!l.render)}load(l,f=""){return Z(function Ju(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(f),l,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(tn().grecaptcha):new Promise((I,F)=>{const z=tn().setTimeout(()=>{F(Le(l,"network-request-failed"))},Qu.get());tn()[go]=()=>{tn().clearTimeout(z),delete tn()[go];const Qe=tn().grecaptcha;if(!Qe)return void F(Le(l,"internal-error"));const At=Qe.render;Qe.render=(an,kn)=>{const Tn=At(an,kn);return this.counter++,Tn},this.hostLanguage=f,I(Qe)},ko(`https://www.google.com/recaptcha/api.js??${(0,S.xO)({onload:go,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(z),F(Le(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var f;return!(null===(f=tn().grecaptcha)||void 0===f||!f.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ze{load(l){return(0,p.Z)(function*(){return new Cr(l)})()}clearedOneInstance(){}}const fu="recaptcha",to={theme:"light",type:"image"};class vi{constructor(l,f=Object.assign({},to),I){this.parameters=f,this.type=fu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=de(I),this.isInvisible="invisible"===this.parameters.size,Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const F="string"==typeof l?document.getElementById(l):l;Z(F,this.auth,"argument-error"),this.container=F,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ze:new Fo,this.validateStartingState()}verify(){var l=this;return(0,p.Z)(function*(){l.assertNotDestroyed();const f=yield l.render(),I=l.getAssertedRecaptcha();return I.getResponse(f)||new Promise(z=>{const Ae=Qe=>{!Qe||(l.tokenChangeListeners.delete(Ae),z(Qe))};l.tokenChangeListeners.add(Ae),l.isInvisible&&I.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return f=>{if(this.tokenChangeListeners.forEach(I=>I(f)),"function"==typeof l)l(f);else if("string"==typeof l){const I=tn()[l];"function"==typeof I&&I(f)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,p.Z)(function*(){if(yield l.init(),!l.widgetId){let f=l.container;if(!l.isInvisible){const I=document.createElement("div");f.appendChild(I),f=I}l.widgetId=l.getAssertedRecaptcha().render(f,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,p.Z)(function*(){Z(Pt()&&!jt(),l.auth,"internal-error"),yield function Lo(){let m=null;return new Promise(l=>{"complete"!==document.readyState?(m=()=>l(),window.addEventListener("load",m)):l()}).catch(l=>{throw m&&window.removeEventListener("load",m),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const f=yield function Vt(m){return Gs.apply(this,arguments)}(l.auth);Z(f,l.auth,"internal-error"),l.parameters.sitekey=f})()}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ls{constructor(l,f){this.verificationId=l,this.onConfirmation=f}confirm(l){const f=Ci._fromVerification(this.verificationId,l);return this.onConfirmation(f)}}function Os(){return(Os=(0,p.Z)(function*(m,l,f){const I=de(m),F=yield si(I,l,(0,S.m9)(f));return new ls(F,z=>Bs(I,z))})).apply(this,arguments)}function ds(){return(ds=(0,p.Z)(function*(m,l,f){const I=(0,S.m9)(m);yield Wn(!1,I,"phone");const F=yield si(I.auth,l,(0,S.m9)(f));return new ls(F,z=>K(I,z))})).apply(this,arguments)}function va(){return(va=(0,p.Z)(function*(m,l,f){const I=(0,S.m9)(m),F=yield si(I.auth,l,(0,S.m9)(f));return new ls(F,z=>qe(I,z))})).apply(this,arguments)}function si(m,l,f){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,p.Z)(function*(m,l,f){var I;const F=yield f.verify();try{let z;if(Z("string"==typeof F,m,"argument-error"),Z(f.type===fu,m,"argument-error"),z="string"==typeof l?{phoneNumber:l}:l,"session"in z){const Ae=z.session;if("phoneNumber"in z)return Z("enroll"===Ae.type,m,"internal-error"),(yield Ku(m,{idToken:Ae.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:F}})).phoneSessionInfo.sessionInfo;{Z("signin"===Ae.type,m,"internal-error");const Qe=(null===(I=z.multiFactorHint)||void 0===I?void 0:I.uid)||z.multiFactorUid;return Z(Qe,m,"missing-multi-factor-info"),(yield Ua(m,{mfaPendingCredential:Ae.credential,mfaEnrollmentId:Qe,phoneSignInInfo:{recaptchaToken:F}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ae}=yield Fs(m,{phoneNumber:z.phoneNumber,recaptchaToken:F});return Ae}}finally{f._reset()}})).apply(this,arguments)}function pu(){return(pu=(0,p.Z)(function*(m,l){yield di((0,S.m9)(m),l)})).apply(this,arguments)}let zr=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=de(f)}verifyPhoneNumber(f,I){return si(this.auth,f,(0,S.m9)(I))}static credential(f,I){return Ci._fromVerification(f,I)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:I,temporaryProof:F}=f;return I&&F?Ci._fromTokenResponse(I,F):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function mo(m,l){return l?Se(l):(Z(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class oi extends En{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Pr(l,this._buildIdpRequest())}_linkToIdToken(l,f){return Pr(l,this._buildIdpRequest(f))}_getReauthenticationResolver(l){return Pr(l,this._buildIdpRequest())}_buildIdpRequest(l){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(f.idToken=l),f}}function nr(m){return ei(m.auth,new oi(m),m.bypassAuthState)}function Xu(m){const{auth:l,user:f}=m;return Z(f,l,"internal-error"),vs(f,new oi(m),m.bypassAuthState)}function _(m){return E.apply(this,arguments)}function E(){return(E=(0,p.Z)(function*(m){const{auth:l,user:f}=m;return Z(f,l,"internal-error"),di(f,new oi(m),m.bypassAuthState)})).apply(this,arguments)}class v{constructor(l,f,I,F,z=!1){this.auth=l,this.resolver=I,this.user=F,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var l=this;return new Promise(function(){var f=(0,p.Z)(function*(I,F){l.pendingPromise={resolve:I,reject:F};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(z){l.reject(z)}});return function(I,F){return f.apply(this,arguments)}}())}onAuthEvent(l){var f=this;return(0,p.Z)(function*(){const{urlResponse:I,sessionId:F,postBody:z,tenantId:Ae,error:Qe,type:At}=l;if(Qe)return void f.reject(Qe);const an={auth:f.auth,requestUri:I,sessionId:F,tenantId:Ae||void 0,postBody:z||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(At)(an))}catch(kn){f.reject(kn)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return nr;case"linkViaPopup":case"linkViaRedirect":return _;case"reauthViaPopup":case"reauthViaRedirect":return Xu;default:ve(this.auth,"internal-error")}}resolve(l){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const C=new Gt(2e3,1e4);function B(){return(B=(0,p.Z)(function*(m,l,f){const I=de(m);Me(m,l,ji);const F=mo(I,f);return new Sn(I,"signInViaPopup",l,F).executeNotNull()})).apply(this,arguments)}function se(){return(se=(0,p.Z)(function*(m,l,f){const I=(0,S.m9)(m);Me(I.auth,l,ji);const F=mo(I.auth,f);return new Sn(I.auth,"reauthViaPopup",l,F,I).executeNotNull()})).apply(this,arguments)}function Ot(){return(Ot=(0,p.Z)(function*(m,l,f){const I=(0,S.m9)(m);Me(I.auth,l,ji);const F=mo(I.auth,f);return new Sn(I.auth,"linkViaPopup",l,F,I).executeNotNull()})).apply(this,arguments)}let Sn=(()=>{class m extends v{constructor(f,I,F,z,Ae){super(f,I,z,Ae),this.provider=F,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,p.Z)(function*(){const I=yield f.execute();return Z(I,f.auth,"internal-error"),I})()}onExecution(){var f=this;return(0,p.Z)(function*(){_e(1===f.filter.length,"Popup operations only handle one event");const I=Oo();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],I),f.authWindow.associatedEvent=I,f.resolver._originValidation(f.auth).catch(F=>{f.reject(F)}),f.resolver._isIframeWebStorageSupported(f.auth,F=>{F||f.reject(Le(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var I,F;this.pollId=null!==(F=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==F&&F.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,C.get())};f()}}return m.currentPopupAction=null,m})();const Hn=new Map;class pi extends v{constructor(l,f,I=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,I),this.eventId=null}execute(){var l=()=>super.execute,f=this;return(0,p.Z)(function*(){let I=Hn.get(f.auth._key());if(!I){try{const z=(yield function Ki(m,l){return no.apply(this,arguments)}(f.resolver,f.auth))?yield l().call(f):null;I=()=>Promise.resolve(z)}catch(F){I=()=>Promise.reject(F)}Hn.set(f.auth._key(),I)}return f.bypassAuthState||Hn.set(f.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(l){var f=()=>super.onAuthEvent,I=this;return(0,p.Z)(function*(){if("signInViaRedirect"===l.type)return f().call(I,l);if("unknown"!==l.type){if(l.eventId){const F=yield I.auth._redirectUserForId(l.eventId);if(F)return I.user=F,f().call(I,l);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function no(){return(no=(0,p.Z)(function*(m,l){const f=Ko(l),I=yo(m);if(!(yield I._isAvailable()))return!1;const F="true"===(yield I._get(f));return yield I._remove(f),F})).apply(this,arguments)}function gi(m,l){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,p.Z)(function*(m,l){return yo(m)._set(Ko(l),"true")})).apply(this,arguments)}function Zi(m,l){Hn.set(m._key(),l)}function yo(m){return Se(m._redirectPersistence)}function Ko(m){return Pe("pendingRedirect",m.config.apiKey,m.name)}function gu(){return(gu=(0,p.Z)(function*(m,l,f){const I=de(m);Me(m,l,ji);const F=mo(I,f);return yield gi(F,I),F._openRedirect(I,l,"signInViaRedirect")})).apply(this,arguments)}function Ha(){return(Ha=(0,p.Z)(function*(m,l,f){const I=(0,S.m9)(m);Me(I.auth,l,ji);const F=mo(I.auth,f);yield gi(F,I.auth);const z=yield Fc(I);return F._openRedirect(I.auth,l,"reauthViaRedirect",z)})).apply(this,arguments)}function _a(){return(_a=(0,p.Z)(function*(m,l,f){const I=(0,S.m9)(m);Me(I.auth,l,ji);const F=mo(I.auth,f);yield Wn(!1,I,l.providerId),yield gi(F,I.auth);const z=yield Fc(I);return F._openRedirect(I.auth,l,"linkViaRedirect",z)})).apply(this,arguments)}function ec(){return(ec=(0,p.Z)(function*(m,l){return yield de(m)._initializationPromise,Ea(m,l,!1)})).apply(this,arguments)}function Ea(m,l){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,p.Z)(function*(m,l,f=!1){const I=de(m),F=mo(I,l),Ae=yield new pi(I,F,f).execute();return Ae&&!f&&(delete Ae.user._redirectEventId,yield I._persistUserIfCurrent(Ae.user),yield I._setRedirectUser(null,l)),Ae})).apply(this,arguments)}function Fc(m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,p.Z)(function*(m){const l=Oo(`${m.uid}:::`);return m._redirectEventId=l,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),l})).apply(this,arguments)}class Lc{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let f=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(l,I)&&(f=!0,this.sendToConsumer(l,I),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Ga(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return th(m);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=l,f=!0)),f}sendToConsumer(l,f){var I;if(l.error&&!th(l)){const F=(null===(I=l.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";f.onError(Le(this.auth,F))}else f.onAuthEvent(l)}isEventForConsumer(l,f){const I=null===f.eventId||!!l.eventId&&l.eventId===f.eventId;return f.filter.includes(l.type)&&I}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wr(l))}saveEventToCache(l){this.cachedEventUids.add(Wr(l)),this.lastProcessedEventTime=Date.now()}}function Wr(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(l=>l).join("-")}function th({type:m,error:l}){return"unknown"===m&&"auth/no-auth-event"===l?.code}function ro(m){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,p.Z)(function*(m,l={}){return Xt(m,"GET","/v1/projects",l)})).apply(this,arguments)}const Vc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tc=/^https?/;function zl(){return(zl=(0,p.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:l}=yield ro(m);for(const f of l)try{if(nh(f))return}catch{}ve(m,"unauthorized-domain")})).apply(this,arguments)}function nh(m){const l=lt(),{protocol:f,hostname:I}=new URL(l);if(m.startsWith("chrome-extension://")){const Ae=new URL(m);return""===Ae.hostname&&""===I?"chrome-extension:"===f&&m.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===f&&Ae.hostname===I}if(!tc.test(f))return!1;if(Vc.test(m))return I===m;const F=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(I)}const ns=new Gt(3e4,6e4);function rh(){const m=tn().___jsl;if(m?.H)for(const l of Object.keys(m.H))if(m.H[l].r=m.H[l].r||[],m.H[l].L=m.H[l].L||[],m.H[l].r=[...m.H[l].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let nc=null;function ih(m){return nc=nc||function Bc(m){return new Promise((l,f)=>{var I,F,z;function Ae(){rh(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{rh(),f(Le(m,"network-request-failed"))},timeout:ns.get()})}if(null!==(F=null===(I=tn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==F&&F.Iframe)l(gapi.iframes.getContext());else{if(null===(z=tn().gapi)||void 0===z||!z.load){const Qe=Yu("iframefcb");return tn()[Qe]=()=>{gapi.load?Ae():f(Le(m,"network-request-failed"))},ko(`https://apis.google.com/js/api.js?onload=${Qe}`).catch(At=>f(At))}Ae()}}).catch(l=>{throw nc=null,l})}(m),nc}const sh=new Gt(5e3,15e3),Og={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mu(m){const l=m.config;Z(l.authDomain,m,"auth-domain-config-required");const f=l.emulator?In(l,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,I={apiKey:l.apiKey,appName:m.name,v:ae.SDK_VERSION},F=Vo.get(m.config.apiHost);F&&(I.eid=F);const z=m._getFrameworks();return z.length&&(I.fw=z.join(",")),`${f}?${(0,S.xO)(I).slice(1)}`}function za(){return za=(0,p.Z)(function*(m){const l=yield ih(m),f=tn().gapi;return Z(f,m,"internal-error"),l.open({where:document.body,url:mu(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Og,dontclear:!0},I=>new Promise(function(){var F=(0,p.Z)(function*(z,Ae){yield I.restyle({setHideOnLeave:!1});const Qe=Le(m,"network-request-failed"),At=tn().setTimeout(()=>{Ae(Qe)},sh.get());function an(){tn().clearTimeout(At),z(I)}I.ping(an).then(an,()=>{Ae(Qe)})});return function(z,Ae){return F.apply(this,arguments)}}()))}),za.apply(this,arguments)}const jc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wa{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Za(m,l,f,I,F,z){Z(m.config.authDomain,m,"auth-domain-config-required"),Z(m.config.apiKey,m,"invalid-api-key");const Ae={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:I,v:ae.SDK_VERSION,eventId:F};if(l instanceof ji){l.setDefaultLanguage(m.languageCode),Ae.providerId=l.providerId||"",(0,S.xb)(l.getCustomParameters())||(Ae.customParameters=JSON.stringify(l.getCustomParameters()));for(const[At,an]of Object.entries(z||{}))Ae[At]=an}if(l instanceof Zr){const At=l.getScopes().filter(an=>""!==an);At.length>0&&(Ae.scopes=At.join(","))}m.tenantId&&(Ae.tid=m.tenantId);const Qe=Ae;for(const At of Object.keys(Qe))void 0===Qe[At]&&delete Qe[At];return`${function ic({config:m}){return m.emulator?In(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,S.xO)(Qe).slice(1)}`}const Hc="webStorageSupport";class vo extends class ch{constructor(l){this.factorId=l}_process(l,f,I){switch(f.type){case"enroll":return this._finalizeEnroll(l,f.credential,I);case"signin":return this._finalizeSignIn(l,f.credential);default:return Ze("unexpected MultiFactorSessionType")}}}{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new vo(l)}_finalizeEnroll(l,f,I){return function Zu(m,l){return Xt(m,"POST","/v2/accounts/mfaEnrollment:finalize",qt(m,l))}(l,{idToken:f,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,f){return function Lr(m,l){return Xt(m,"POST","/v2/accounts/mfaSignIn:finalize",qt(m,l))}(l,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let sc=(()=>{class m{constructor(){}static assertion(f){return vo._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var Kl="@firebase/auth";class Of{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var f=this;return(0,p.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const f=this.auth.onIdTokenChanged(I=>{var F;l((null===(F=I)||void 0===F?void 0:F.stsTokenManager.accessToken)||null)});this.internalListeners.set(l,f),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const f=this.internalListeners.get(l);!f||(this.internalListeners.delete(l),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yo(){return window}function zc(){return(zc=(0,p.Z)(function*(m,l,f){var I;const{BuildInfo:F}=Yo();_e(l.sessionId,"AuthEvent did not contain a session ID");const z=yield dh(l.sessionId),Ae={};return q()?Ae.ibi=F.packageName:dn()?Ae.apn=F.packageName:ve(m,"operation-not-supported-in-this-environment"),F.displayName&&(Ae.appDisplayName=F.displayName),Ae.sessionId=z,Za(m,f,l.type,void 0,null!==(I=l.eventId)&&void 0!==I?I:void 0,Ae)})).apply(this,arguments)}function _u(){return(_u=(0,p.Z)(function*(m){const{BuildInfo:l}=Yo(),f={};q()?f.iosBundleId=l.packageName:dn()?f.androidPackageName=l.packageName:ve(m,"operation-not-supported-in-this-environment"),yield ro(m,f)})).apply(this,arguments)}function oc(){return(oc=(0,p.Z)(function*(m,l,f){const{cordova:I}=Yo();let F=()=>{};try{yield new Promise((z,Ae)=>{let Qe=null;function At(){var Tn;z();const Ei=null===(Tn=I.plugins.browsertab)||void 0===Tn?void 0:Tn.close;"function"==typeof Ei&&Ei(),"function"==typeof f?.close&&f.close()}function an(){Qe||(Qe=window.setTimeout(()=>{Ae(Le(m,"redirect-cancelled-by-user"))},2e3))}function kn(){"visible"===document?.visibilityState&&an()}l.addPassiveListener(At),document.addEventListener("resume",an,!1),dn()&&document.addEventListener("visibilitychange",kn,!1),F=()=>{l.removePassiveListener(At),document.removeEventListener("resume",an,!1),document.removeEventListener("visibilitychange",kn,!1),Qe&&window.clearTimeout(Qe)}})}finally{F()}})).apply(this,arguments)}function dh(m){return hh.apply(this,arguments)}function hh(){return(hh=(0,p.Z)(function*(m){const l=ai(m),f=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(f)).map(F=>F.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ai(m){if(_e(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const l=new ArrayBuffer(m.length),f=new Uint8Array(l);for(let I=0;I<m.length;I++)f[I]=m.charCodeAt(I);return f}!function Rg(m){(0,ae._registerComponent)(new me.wA("auth",(l,{options:f})=>{const I=l.getProvider("app").getImmediate(),F=l.getProvider("heartbeat"),{apiKey:z,authDomain:Ae}=I.options;return((Qe,At)=>{Z(z&&!z.includes(":"),"invalid-api-key",{appName:Qe.name}),Z(!Ae?.includes(":"),"argument-error",{appName:Qe.name});const an={apiKey:z,authDomain:Ae,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dt(m)},kn=new ct(Qe,At,an);return function ut(m,l){const f=l?.persistence||[],I=(Array.isArray(f)?f:[f]).map(Se);l?.errorMap&&m._updateErrorMap(l.errorMap),m._initializeWithPersistence(I,l?.popupRedirectResolver)}(kn,f),kn})(I,F)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,f,I)=>{l.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new me.wA("auth-internal",l=>{const f=de(l.getProvider("auth").getImmediate());return new Of(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Kl,"0.20.7",function Zl(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,ae.registerVersion)(Kl,"0.20.7","esm2017")}("Browser");class wu extends Lc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(l)),super.onEvent(l)}initialized(){var l=this;return(0,p.Z)(function*(){yield l.initPromise})()}}function ac(m){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,p.Z)(function*(m){const l=yield _o()._get(Zc(m));return l&&(yield _o()._remove(Zc(m))),l})).apply(this,arguments)}function Du(){const m=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const I=Math.floor(Math.random()*l.length);m.push(l.charAt(I))}return m.join("")}function _o(){return Se(ha)}function Zc(m){return Pe("authEvent",m.config.apiKey,m.name)}function Qo(m){if(!m?.includes("?"))return{};const[l,...f]=m.split("?");return(0,S.zd)(f.join("?"))}function Ir(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Le("no-auth-event")}}function qi(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function Cu(m=(0,S.z$)()){return!("file:"!==qi()&&"ionic:"!==qi()&&"capacitor:"!==qi()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yc(){try{const m=self.localStorage,l=Oo();if(m)return m.setItem(l,"1"),m.removeItem(l),!function ea(m=(0,S.z$)()){return function Xo(){return(0,S.w1)()&&11===document?.documentMode}()||function Nf(m=(0,S.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,S.hl)()}catch{return Qc()&&(0,S.hl)()}return!1}function Qc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kn(){return(function gh(){return"http:"===qi()||"https:"===qi()}()||(0,S.ru)()||Cu())&&!function mh(){return(0,S.b$)()||(0,S.UG)()}()&&Yc()&&!Qc()}function Ql(){return Cu()&&typeof document<"u"}function wa(){return(wa=(0,p.Z)(function*(){return!!Ql()&&new Promise(m=>{const l=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),m(!0)})})})).apply(this,arguments)}const Yi={LOCAL:"local",NONE:"none",SESSION:"session"},lc=Z,Jl="persistence";function el(m){return dc.apply(this,arguments)}function dc(){return(dc=(0,p.Z)(function*(m){yield m._initializationPromise;const l=yh(),f=Pe(Jl,m.config.apiKey,m.name);l&&l.setItem(f,m._getPersistence())})).apply(this,arguments)}function yh(){var m;try{return(null===(m=function bu(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const Xl=Z;class Eo{constructor(){this.browserResolver=Se(class Wl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vt,this._completeRedirectFn=Ea,this._overrideRedirectResult=Zi}_openPopup(l,f,I,F){var z=this;return(0,p.Z)(function*(){var Ae;_e(null===(Ae=z.eventManagers[l._key()])||void 0===Ae?void 0:Ae.manager,"_initialize() not called before _openPopup()");const Qe=Za(l,f,I,lt(),F);return function rc(m,l,f,I=500,F=600){const z=Math.max((window.screen.availHeight-F)/2,0).toString(),Ae=Math.max((window.screen.availWidth-I)/2,0).toString();let Qe="";const At=Object.assign(Object.assign({},jc),{width:I.toString(),height:F.toString(),top:z,left:Ae}),an=(0,S.z$)().toLowerCase();f&&(Qe=zt(an)?"_blank":f),pt(an)&&(l=l||"http://localhost",At.scrollbars="yes");const kn=Object.entries(At).reduce((Ei,[Jr,Su])=>`${Ei}${Jr}=${Su},`,"");if(function Ke(m=(0,S.z$)()){var l;return q(m)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(an)&&"_self"!==Qe)return function $c(m,l){const f=document.createElement("a");f.href=m,f.target=l;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(I)}(l||"",Qe),new Wa(null);const Tn=window.open(l||"",Qe,kn);Z(Tn,m,"popup-blocked");try{Tn.focus()}catch{}return new Wa(Tn)}(l,Qe,Oo())})()}_openRedirect(l,f,I,F){var z=this;return(0,p.Z)(function*(){return yield z._originValidation(l),function Hs(m){tn().location.href=m}(Za(l,f,I,lt(),F)),new Promise(()=>{})})()}_initialize(l){const f=l._key();if(this.eventManagers[f]){const{manager:F,promise:z}=this.eventManagers[f];return F?Promise.resolve(F):(_e(z,"If manager is not set, promise should be"),z)}const I=this.initAndGetManager(l);return this.eventManagers[f]={promise:I},I.catch(()=>{delete this.eventManagers[f]}),I}initAndGetManager(l){var f=this;return(0,p.Z)(function*(){const I=yield function ah(m){return za.apply(this,arguments)}(l),F=new Lc(l);return I.register("authEvent",z=>(Z(z?.authEvent,l,"invalid-auth-event"),{status:F.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[l._key()]={manager:F},f.iframes[l._key()]=I,F})()}_isIframeWebStorageSupported(l,f){this.iframes[l._key()].send(Hc,{type:Hc},F=>{var z;const Ae=null===(z=F?.[0])||void 0===z?void 0:z[Hc];void 0!==Ae&&f(!!Ae),ve(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const f=l._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Uc(m){return zl.apply(this,arguments)}(l)),this.originValidationPromises[f]}get _shouldInitProactively(){return hn()||Dt()||q()}}),this.cordovaResolver=Se(class Rf{constructor(){this._redirectPersistence=vt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ea,this._overrideRedirectResult=Zi}_initialize(l){var f=this;return(0,p.Z)(function*(){const I=l._key();let F=f.eventManagers.get(I);return F||(F=new wu(l),f.eventManagers.set(I,F),f.attachCallbackListeners(l,F)),F})()}_openPopup(l){ve(l,"operation-not-supported-in-this-environment")}_openRedirect(l,f,I,F){var z=this;return(0,p.Z)(function*(){!function Iu(m){var l,f,I,F,z,Ae,Qe,At,an,kn;const Tn=Yo();Z("function"==typeof(null===(l=Tn?.universalLinks)||void 0===l?void 0:l.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Z(typeof(null===(f=Tn?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Z("function"==typeof(null===(z=null===(F=null===(I=Tn?.cordova)||void 0===I?void 0:I.plugins)||void 0===F?void 0:F.browsertab)||void 0===z?void 0:z.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(At=null===(Qe=null===(Ae=Tn?.cordova)||void 0===Ae?void 0:Ae.plugins)||void 0===Qe?void 0:Qe.browsertab)||void 0===At?void 0:At.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(kn=null===(an=Tn?.cordova)||void 0===an?void 0:an.InAppBrowser)||void 0===kn?void 0:kn.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const Ae=yield z._initialize(l);yield Ae.initialized(),Ae.resetRedirect(),function Rs(){Hn.clear()}(),yield z._originValidation(l);const Qe=function Wc(m,l,f=null){return{type:l,eventId:f,urlResponse:null,sessionId:Du(),postBody:null,tenantId:m.tenantId,error:Le(m,"no-auth-event")}}(l,I,F);yield function Pg(m,l){return _o()._set(Zc(m),l)}(l,Qe);const At=yield function qa(m,l,f){return zc.apply(this,arguments)}(l,Qe,f),an=yield function Ns(m){const{cordova:l}=Yo();return new Promise(f=>{l.plugins.browsertab.isAvailable(I=>{let F=null;I?l.plugins.browsertab.openUrl(m):F=l.InAppBrowser.open(m,function xe(m=(0,S.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(F)})})}(At);return function Eu(m,l,f){return oc.apply(this,arguments)}(l,Ae,an)})()}_isIframeWebStorageSupported(l,f){throw new Error("Method not implemented.")}_originValidation(l){const f=l._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Ya(m){return _u.apply(this,arguments)}(l)),this.originValidationPromises[f]}attachCallbackListeners(l,f){const{universalLinks:I,handleOpenURL:F,BuildInfo:z}=Yo(),Ae=setTimeout((0,p.Z)(function*(){yield ac(l),f.onEvent(Ir())}),500),Qe=function(){var kn=(0,p.Z)(function*(Tn){clearTimeout(Ae);const Ei=yield ac(l);let Jr=null;Ei&&Tn?.url&&(Jr=function fh(m,l){var f,I;const F=function uc(m){const l=Qo(m),f=l.link?decodeURIComponent(l.link):void 0,I=Qo(f).link,F=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Qo(F).link||F||I||f||m}(l);if(F.includes("/__/auth/callback")){const z=Qo(F),Ae=z.firebaseError?function Yl(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(z.firebaseError)):null,Qe=null===(I=null===(f=Ae?.code)||void 0===f?void 0:f.split("auth/"))||void 0===I?void 0:I[1],At=Qe?Le(Qe):null;return At?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:At,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:F,postBody:null}}return null}(Ei,Tn.url)),f.onEvent(Jr||Ir())});return function(Ei){return kn.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,Qe);const At=F,an=`${z.packageName.toLowerCase()}://`;Yo().handleOpenURL=function(){var kn=(0,p.Z)(function*(Tn){if(Tn.toLowerCase().startsWith(an)&&Qe({url:Tn}),"function"==typeof At)try{At(Tn)}catch(Ei){console.error(Ei)}});return function(Tn){return kn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=vt,this._completeRedirectFn=Ea,this._overrideRedirectResult=Zi}_initialize(l){var f=this;return(0,p.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,f,I,F){var z=this;return(0,p.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openPopup(l,f,I,F)})()}_openRedirect(l,f,I,F){var z=this;return(0,p.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._openRedirect(l,f,I,F)})()}_isIframeWebStorageSupported(l,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,f)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return Ql()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,p.Z)(function*(){if(l.underlyingResolver)return;const f=yield function Jc(){return wa.apply(this,arguments)}();l.underlyingResolver=f?l.cordovaResolver:l.browserResolver})()}}function Tu(m){return m.unwrap()}function nl(m){return hc(m)}function hc(m){const{_tokenResponse:l}=m instanceof S.ZR?m.customData:m;if(!l)return null;if(!(m instanceof S.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return zr.credentialFromResult(m);const f=l.providerId;if(!f||"password"===f)return null;let I;switch(f){case"google.com":I=mi;break;case"facebook.com":I=ms;break;case"github.com":I=Pi;break;case"twitter.com":I=ni;break;default:const{oauthIdToken:F,oauthAccessToken:z,oauthTokenSecret:Ae,pendingToken:Qe,nonce:At}=l;return z||Ae||F||Qe?Qe?f.startsWith("saml.")?$i._create(f,Qe):Di._fromParams({providerId:f,signInMethod:f,pendingToken:Qe,idToken:F,accessToken:z}):new Ri(f).credential({idToken:F,accessToken:z,rawNonce:At}):null}return m instanceof S.ZR?I.credentialFromError(m):I.credentialFromResult(m)}function rs(m,l){return l.catch(f=>{throw f instanceof S.ZR&&function ri(m,l){var f,I;const F=null===(f=l.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null===(I=l)||void 0===I?void 0:I.code))l.resolver=new rl(m,function Pa(m,l){var f;const I=(0,S.m9)(m),F=l;return Z(l.customData.operationType,I,"argument-error"),Z(null===(f=F.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,I,"argument-error"),So._fromError(I,F)}(m,l));else if(F){const z=hc(l),Ae=l;z&&(Ae.credential=z,Ae.tenantId=F.tenantId||void 0,Ae.email=F.email||void 0,Ae.phoneNumber=F.phoneNumber||void 0)}}(m,f),f}).then(f=>{const F=f.user;return{operationType:f.operationType,credential:nl(f),additionalUserInfo:Yn(f),user:Ts.getOrCreate(F)}})}function Qa(m,l){return io.apply(this,arguments)}function io(){return(io=(0,p.Z)(function*(m,l){const f=yield l;return{verificationId:f.verificationId,confirm:I=>rs(m,f.confirm(I))}})).apply(this,arguments)}class rl{constructor(l,f){this.resolver=f,this.auth=function tl(m){return m.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return rs(Tu(this.auth),this.resolver.resolveSignIn(l))}}class Ts{constructor(l){this._delegate=l,this.multiFactor=function Na(m){const l=(0,S.m9)(m);return qu.has(l)||qu.set(l,Pc._fromUser(l)),qu.get(l)}(l)}static getOrCreate(l){return Ts.USER_MAP.has(l)||Ts.USER_MAP.set(l,new Ts(l)),Ts.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var f=this;return(0,p.Z)(function*(){return rs(f.auth,K(f._delegate,l))})()}linkWithPhoneNumber(l,f){var I=this;return(0,p.Z)(function*(){return Qa(I.auth,function Cs(m,l,f){return ds.apply(this,arguments)}(I._delegate,l,f))})()}linkWithPopup(l){var f=this;return(0,p.Z)(function*(){return rs(f.auth,function Xe(m,l,f){return Ot.apply(this,arguments)}(f._delegate,l,Eo))})()}linkWithRedirect(l){var f=this;return(0,p.Z)(function*(){return yield el(de(f.auth)),function Xd(m,l,f){return function eh(m,l,f){return _a.apply(this,arguments)}(m,l,f)}(f._delegate,l,Eo)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var f=this;return(0,p.Z)(function*(){return rs(f.auth,qe(f._delegate,l))})()}reauthenticateWithPhoneNumber(l,f){return Qa(this.auth,function kc(m,l,f){return va.apply(this,arguments)}(this._delegate,l,f))}reauthenticateWithPopup(l){return rs(this.auth,function Y(m,l,f){return se.apply(this,arguments)}(this._delegate,l,Eo))}reauthenticateWithRedirect(l){var f=this;return(0,p.Z)(function*(){return yield el(de(f.auth)),function Zo(m,l,f){return function $a(m,l,f){return Ha.apply(this,arguments)}(m,l,f)}(f._delegate,l,Eo)})()}sendEmailVerification(l){return function $s(m,l){return bo.apply(this,arguments)}(this._delegate,l)}unlink(l){var f=this;return(0,p.Z)(function*(){return yield function kr(m,l){return ki.apply(this,arguments)}(f._delegate,l),f})()}updateEmail(l){return function b(m,l){return M((0,S.m9)(m),l,null)}(this._delegate,l)}updatePassword(l){return function L(m,l){return M((0,S.m9)(m),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function zo(m,l){return pu.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function la(m,l){return Ao.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,f){return function cu(m,l,f){return Go.apply(this,arguments)}(this._delegate,l,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ts.USER_MAP=new WeakMap;const ta=Z;let ed=(()=>{class m{constructor(f,I){if(this.app=f,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:F}=f.options;ta(F,"invalid-api-key",{appName:f.name}),ta(F,"invalid-api-key",{appName:f.name});const z=typeof window<"u"?Eo:void 0;this._delegate=I.initialize({options:{persistence:vh(F,f.name),popupRedirectResolver:z}}),this._delegate._updateErrorMap(Be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ts.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,I){!function rt(m,l,f){const I=de(m);Z(I._canInitEmulator,I,"emulator-config-failed"),Z(/^https?:\/\//.test(l),I,"invalid-emulator-scheme");const F=!!f?.disableWarnings,z=Tt(l),{host:Ae,port:Qe}=function Bt(m){const l=Tt(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(l.length));if(!f)return{host:"",port:null};const I=f[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(I);if(F){const z=F[1];return{host:z,port:pn(I.substr(z.length+1))}}{const[z,Ae]=I.split(":");return{host:z,port:pn(Ae)}}}(l);I.config.emulator={url:`${z}//${Ae}${null===Qe?"":`:${Qe}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ae,port:Qe,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function qn(){function m(){const l=document.createElement("p"),f=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,f,I)}applyActionCode(f){return function ti(m,l){return _s.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Fi(this._delegate,f)}confirmPasswordReset(f,I){return function es(m,l,f){return yi.apply(this,arguments)}(this._delegate,f,I)}createUserWithEmailAndPassword(f,I){var F=this;return(0,p.Z)(function*(){return rs(F._delegate,function x(m,l,f){return A.apply(this,arguments)}(F._delegate,f,I))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function js(m,l){return Xs.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function Er(m,l){return"EMAIL_SIGNIN"===Bi.parseLink(l)?.operation}(0,f)}getRedirectResult(){var f=this;return(0,p.Z)(function*(){ta(Kn(),f._delegate,"operation-not-supported-in-this-environment");const I=yield function qo(m,l){return ec.apply(this,arguments)}(f._delegate,Eo);return I?rs(f._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function ph(m,l){de(m)._logFramework(l)}(this._delegate,f)}onAuthStateChanged(f,I,F){const{next:z,error:Ae,complete:Qe}=td(f,I,F);return this._delegate.onAuthStateChanged(z,Ae,Qe)}onIdTokenChanged(f,I,F){const{next:z,error:Ae,complete:Qe}=td(f,I,F);return this._delegate.onIdTokenChanged(z,Ae,Qe)}sendSignInLinkToEmail(f,I){return function Je(m,l,f){return rn.apply(this,arguments)}(this._delegate,f,I)}sendPasswordResetEmail(f,I){return function zi(m,l,f){return Sr.apply(this,arguments)}(this._delegate,f,I||void 0)}setPersistence(f){var I=this;return(0,p.Z)(function*(){let F;switch(function Xc(m,l){lc(Object.values(Yi).includes(l),m,"invalid-persistence-type"),(0,S.b$)()?lc(l!==Yi.SESSION,m,"unsupported-persistence-type"):(0,S.UG)()?lc(l===Yi.NONE,m,"unsupported-persistence-type"):Qc()?lc(l===Yi.NONE||l===Yi.LOCAL&&(0,S.hl)(),m,"unsupported-persistence-type"):lc(l===Yi.NONE||Yc(),m,"unsupported-persistence-type")}(I._delegate,f),f){case Yi.SESSION:F=vt;break;case Yi.LOCAL:F=(yield Se(tr)._isAvailable())?tr:ha;break;case Yi.NONE:F=mn;break;default:return ve("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(F)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return rs(this._delegate,function co(m){return Rr.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return rs(this._delegate,Bs(this._delegate,f))}signInWithCustomToken(f){return rs(this._delegate,function Bn(m,l){return Fr.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,I){return rs(this._delegate,function j(m,l,f){return Bs((0,S.m9)(m),bi.credential(l,f))}(this._delegate,f,I))}signInWithEmailLink(f,I){return rs(this._delegate,function Wi(m,l,f){return Li.apply(this,arguments)}(this._delegate,f,I))}signInWithPhoneNumber(f,I){return Qa(this._delegate,function Mf(m,l,f){return Os.apply(this,arguments)}(this._delegate,f,I))}signInWithPopup(f){var I=this;return(0,p.Z)(function*(){return ta(Kn(),I._delegate,"operation-not-supported-in-this-environment"),rs(I._delegate,function O(m,l,f){return B.apply(this,arguments)}(I._delegate,f,Eo))})()}signInWithRedirect(f){var I=this;return(0,p.Z)(function*(){return ta(Kn(),I._delegate,"operation-not-supported-in-this-environment"),yield el(I._delegate),function _i(m,l,f){return function ja(m,l,f){return gu.apply(this,arguments)}(m,l,f)}(I._delegate,f,Eo)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Es(m,l){return R.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=Yi,m})();function td(m,l,f){let I=m;"function"!=typeof m&&({next:I,error:l,complete:f}=m);const F=I;return{next:Ae=>F(Ae&&Ts.getOrCreate(Ae)),error:l,complete:f}}function vh(m,l){const f=function Da(m,l){const f=yh();if(!f)return[];const I=Pe(Jl,m,l);switch(f.getItem(I)){case Yi.NONE:return[mn];case Yi.LOCAL:return[tr,vt];case Yi.SESSION:return[vt];default:return[]}}(m,l);if(typeof self<"u"&&!f.includes(tr)&&f.push(tr),typeof window<"u")for(const I of[ha,vt])f.includes(I)||f.push(I);return f.includes(mn)||f.push(mn),f}class fc{constructor(){this.providerId="phone",this._delegate=new zr(Tu(U.Z.auth()))}static credential(l,f){return zr.credential(l,f)}verifyPhoneNumber(l,f){return this._delegate.verifyPhoneNumber(l,f)}unwrap(){return this._delegate}}fc.PHONE_SIGN_IN_METHOD=zr.PHONE_SIGN_IN_METHOD,fc.PROVIDER_ID=zr.PROVIDER_ID;const kf=Z;class Au{constructor(l,f,I=U.Z.app()){var F;kf(null===(F=I.options)||void 0===F?void 0:F.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new vi(l,f,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _h(m){m.INTERNAL.registerComponent(new me.wA("auth-compat",l=>{const f=l.getProvider("app-compat").getImmediate(),I=l.getProvider("auth");return new ed(f,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:bi,FacebookAuthProvider:ms,GithubAuthProvider:Pi,GoogleAuthProvider:mi,OAuthProvider:Ri,SAMLAuthProvider:Hi,PhoneAuthProvider:fc,PhoneMultiFactorGenerator:sc,RecaptchaVerifier:Au,TwitterAuthProvider:ni,Auth:ed,AuthCredential:En,Error:S.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.20")}(U.Z)},9751:(Mt,ke,P)=>{P.d(ke,{y:()=>we});var p=P(2961),U=P(727),S=P(8822),ae=P(9635),ge=P(2416),pe=P(576),me=P(2806);let we=(()=>{class he{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const Be=new he;return Be.source=this,Be.operator=Ne,Be}subscribe(Ne,Be,wt){const X=function re(he){return he&&he instanceof p.Lv||function ne(he){return he&&(0,pe.m)(he.next)&&(0,pe.m)(he.error)&&(0,pe.m)(he.complete)}(he)&&(0,U.Nn)(he)}(Ne)?Ne:new p.Hp(Ne,Be,wt);return(0,me.x)(()=>{const{operator:Fe,source:Nt}=this;X.add(Fe?Fe.call(X,Nt):Nt?this._subscribe(X):this._trySubscribe(X))}),X}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(Be){Ne.error(Be)}}forEach(Ne,Be){return new(Be=Ee(Be))((wt,X)=>{const Fe=new p.Hp({next:Nt=>{try{Ne(Nt)}catch(Et){X(Et),Fe.unsubscribe()}},error:X,complete:wt});this.subscribe(Fe)})}_subscribe(Ne){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(Ne)}[S.L](){return this}pipe(...Ne){return(0,ae.U)(Ne)(this)}toPromise(Ne){return new(Ne=Ee(Ne))((Be,wt)=>{let X;this.subscribe(Fe=>X=Fe,Fe=>wt(Fe),()=>Be(X))})}}return he.create=Ue=>new he(Ue),he})();function Ee(he){var Ue;return null!==(Ue=he??ge.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(Mt,ke,P)=>{P.d(ke,{x:()=>me});var p=P(9751),U=P(727);const ae=(0,P(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=P(8737),pe=P(2806);let me=(()=>{class Ee extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(re){const he=new we(this,this);return he.operator=re,he}_throwIfClosed(){if(this.closed)throw new ae}next(re){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const he of this.currentObservers)he.next(re)}})}error(re){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=re;const{observers:he}=this;for(;he.length;)he.shift().error(re)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:re}=this;for(;re.length;)re.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var re;return(null===(re=this.observers)||void 0===re?void 0:re.length)>0}_trySubscribe(re){return this._throwIfClosed(),super._trySubscribe(re)}_subscribe(re){return this._throwIfClosed(),this._checkFinalizedStatuses(re),this._innerSubscribe(re)}_innerSubscribe(re){const{hasError:he,isStopped:Ue,observers:Ne}=this;return he||Ue?U.Lc:(this.currentObservers=null,Ne.push(re),new U.w0(()=>{this.currentObservers=null,(0,ge.P)(Ne,re)}))}_checkFinalizedStatuses(re){const{hasError:he,thrownError:Ue,isStopped:Ne}=this;he?re.error(Ue):Ne&&re.complete()}asObservable(){const re=new p.y;return re.source=this,re}}return Ee.create=(ne,re)=>new we(ne,re),Ee})();class we extends me{constructor(ne,re){super(),this.destination=ne,this.source=re}next(ne){var re,he;null===(he=null===(re=this.destination)||void 0===re?void 0:re.next)||void 0===he||he.call(re,ne)}error(ne){var re,he;null===(he=null===(re=this.destination)||void 0===re?void 0:re.error)||void 0===he||he.call(re,ne)}complete(){var ne,re;null===(re=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===re||re.call(ne)}_subscribe(ne){var re,he;return null!==(he=null===(re=this.source)||void 0===re?void 0:re.subscribe(ne))&&void 0!==he?he:U.Lc}}},2961:(Mt,ke,P)=>{P.d(ke,{Hp:()=>wt,Lv:()=>he});var p=P(576),U=P(727),S=P(2416),ae=P(7849);function ge(){}const pe=Ee("C",void 0,void 0);function Ee(ve,Le,ce){return{kind:ve,value:Le,error:ce}}var ne=P(3410),re=P(2806);class he extends U.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,U.Nn)(Le)&&Le.add(this)):this.destination=Et}static create(Le,ce,Me){return new wt(Le,ce,Me)}next(Le){this.isStopped?Nt(function we(ve){return Ee("N",ve,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?Nt(function me(ve){return Ee("E",void 0,ve)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?Nt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ne(ve,Le){return Ue.call(ve,Le)}class Be{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:ce}=this;if(ce.next)try{ce.next(Le)}catch(Me){X(Me)}}error(Le){const{partialObserver:ce}=this;if(ce.error)try{ce.error(Le)}catch(Me){X(Me)}else X(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(ce){X(ce)}}}class wt extends he{constructor(Le,ce,Me){let je;if(super(),(0,p.m)(Le)||!Le)je={next:Le??void 0,error:ce??void 0,complete:Me??void 0};else{let Z;this&&S.v.useDeprecatedNextContext?(Z=Object.create(Le),Z.unsubscribe=()=>this.unsubscribe(),je={next:Le.next&&Ne(Le.next,Z),error:Le.error&&Ne(Le.error,Z),complete:Le.complete&&Ne(Le.complete,Z)}):je=Le}this.destination=new Be(je)}}function X(ve){S.v.useDeprecatedSynchronousErrorHandling?(0,re.O)(ve):(0,ae.h)(ve)}function Nt(ve,Le){const{onStoppedNotification:ce}=S.v;ce&&ne.z.setTimeout(()=>ce(ve,Le))}const Et={closed:!0,next:ge,error:function Fe(ve){throw ve},complete:ge}},727:(Mt,ke,P)=>{P.d(ke,{Lc:()=>pe,w0:()=>ge,Nn:()=>me});var p=P(576);const S=(0,P(3888).d)(Ee=>function(re){Ee(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((he,Ue)=>`${Ue+1}) ${he.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re});var ae=P(8737);class ge{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:re}=this;if(re)if(this._parentage=null,Array.isArray(re))for(const Ne of re)Ne.remove(this);else re.remove(this);const{initialTeardown:he}=this;if((0,p.m)(he))try{he()}catch(Ne){ne=Ne instanceof S?Ne.errors:[Ne]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ne of Ue)try{we(Ne)}catch(Be){ne=ne??[],Be instanceof S?ne=[...ne,...Be.errors]:ne.push(Be)}}if(ne)throw new S(ne)}}add(ne){var re;if(ne&&ne!==this)if(this.closed)we(ne);else{if(ne instanceof ge){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(re=this._finalizers)&&void 0!==re?re:[]).push(ne)}}_hasParent(ne){const{_parentage:re}=this;return re===ne||Array.isArray(re)&&re.includes(ne)}_addParent(ne){const{_parentage:re}=this;this._parentage=Array.isArray(re)?(re.push(ne),re):re?[re,ne]:ne}_removeParent(ne){const{_parentage:re}=this;re===ne?this._parentage=null:Array.isArray(re)&&(0,ae.P)(re,ne)}remove(ne){const{_finalizers:re}=this;re&&(0,ae.P)(re,ne),ne instanceof ge&&ne._removeParent(this)}}ge.EMPTY=(()=>{const Ee=new ge;return Ee.closed=!0,Ee})();const pe=ge.EMPTY;function me(Ee){return Ee instanceof ge||Ee&&"closed"in Ee&&(0,p.m)(Ee.remove)&&(0,p.m)(Ee.add)&&(0,p.m)(Ee.unsubscribe)}function we(Ee){(0,p.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(Mt,ke,P)=>{P.d(ke,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Mt,ke,P)=>{P.d(ke,{z:()=>ge});var p=P(8189),S=P(7669),ae=P(8996);function ge(...pe){return function U(){return(0,p.J)(1)}()((0,ae.D)(pe,(0,S.yG)(pe)))}},515:(Mt,ke,P)=>{P.d(ke,{E:()=>U});const U=new(P(9751).y)(ge=>ge.complete())},8996:(Mt,ke,P)=>{P.d(ke,{D:()=>Le});var p=P(8421),U=P(5363),S=P(9468),pe=P(9751),we=P(2202),Ee=P(576),ne=P(9672);function he(ce,Me){if(!ce)throw new Error("Iterable cannot be null");return new pe.y(je=>{(0,ne.f)(je,Me,()=>{const Z=ce[Symbol.asyncIterator]();(0,ne.f)(je,Me,()=>{Z.next().then(Ze=>{Ze.done?je.complete():je.next(Ze.value)})},0,!0)})})}var Ue=P(3670),Ne=P(8239),Be=P(1144),wt=P(6495),X=P(2206),Fe=P(4532),Nt=P(3260);function Le(ce,Me){return Me?function ve(ce,Me){if(null!=ce){if((0,Ue.c)(ce))return function ae(ce,Me){return(0,p.Xf)(ce).pipe((0,S.R)(Me),(0,U.Q)(Me))}(ce,Me);if((0,Be.z)(ce))return function me(ce,Me){return new pe.y(je=>{let Z=0;return Me.schedule(function(){Z===ce.length?je.complete():(je.next(ce[Z++]),je.closed||this.schedule())})})}(ce,Me);if((0,Ne.t)(ce))return function ge(ce,Me){return(0,p.Xf)(ce).pipe((0,S.R)(Me),(0,U.Q)(Me))}(ce,Me);if((0,X.D)(ce))return he(ce,Me);if((0,wt.T)(ce))return function re(ce,Me){return new pe.y(je=>{let Z;return(0,ne.f)(je,Me,()=>{Z=ce[we.h](),(0,ne.f)(je,Me,()=>{let Ze,_e;try{({value:Ze,done:_e}=Z.next())}catch(be){return void je.error(be)}_e?je.complete():je.next(Ze)},0,!0)}),()=>(0,Ee.m)(Z?.return)&&Z.return()})}(ce,Me);if((0,Nt.L)(ce))return function Et(ce,Me){return he((0,Nt.Q)(ce),Me)}(ce,Me)}throw(0,Fe.z)(ce)}(ce,Me):(0,p.Xf)(ce)}},8421:(Mt,ke,P)=>{P.d(ke,{Xf:()=>Ue});var p=P(655),U=P(1144),S=P(8239),ae=P(9751),ge=P(3670),pe=P(2206),me=P(4532),we=P(6495),Ee=P(3260),ne=P(576),re=P(7849),he=P(8822);function Ue(ve){if(ve instanceof ae.y)return ve;if(null!=ve){if((0,ge.c)(ve))return function Ne(ve){return new ae.y(Le=>{const ce=ve[he.L]();if((0,ne.m)(ce.subscribe))return ce.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,U.z)(ve))return function Be(ve){return new ae.y(Le=>{for(let ce=0;ce<ve.length&&!Le.closed;ce++)Le.next(ve[ce]);Le.complete()})}(ve);if((0,S.t)(ve))return function wt(ve){return new ae.y(Le=>{ve.then(ce=>{Le.closed||(Le.next(ce),Le.complete())},ce=>Le.error(ce)).then(null,re.h)})}(ve);if((0,pe.D)(ve))return Fe(ve);if((0,we.T)(ve))return function X(ve){return new ae.y(Le=>{for(const ce of ve)if(Le.next(ce),Le.closed)return;Le.complete()})}(ve);if((0,Ee.L)(ve))return function Nt(ve){return Fe((0,Ee.Q)(ve))}(ve)}throw(0,me.z)(ve)}function Fe(ve){return new ae.y(Le=>{(function Et(ve,Le){var ce,Me,je,Z;return(0,p.mG)(this,void 0,void 0,function*(){try{for(ce=(0,p.KL)(ve);!(Me=yield ce.next()).done;)if(Le.next(Me.value),Le.closed)return}catch(Ze){je={error:Ze}}finally{try{Me&&!Me.done&&(Z=ce.return)&&(yield Z.call(ce))}finally{if(je)throw je.error}}Le.complete()})})(ve,Le).catch(ce=>Le.error(ce))})}},6451:(Mt,ke,P)=>{P.d(ke,{T:()=>pe});var p=P(8189),U=P(8421),S=P(515),ae=P(7669),ge=P(8996);function pe(...me){const we=(0,ae.yG)(me),Ee=(0,ae._6)(me,1/0),ne=me;return ne.length?1===ne.length?(0,U.Xf)(ne[0]):(0,p.J)(Ee)((0,ge.D)(ne,we)):S.E}},9646:(Mt,ke,P)=>{P.d(ke,{of:()=>S});var p=P(7669),U=P(8996);function S(...ae){const ge=(0,p.yG)(ae);return(0,U.D)(ae,ge)}},5403:(Mt,ke,P)=>{P.d(ke,{Q:()=>S,x:()=>U});var p=P(2961);function U(ae,ge,pe,me,we){return new S(ae,ge,pe,me,we)}class S extends p.Lv{constructor(ge,pe,me,we,Ee,ne){super(ge),this.onFinalize=Ee,this.shouldUnsubscribe=ne,this._next=pe?function(re){try{pe(re)}catch(he){ge.error(he)}}:super._next,this._error=we?function(re){try{we(re)}catch(he){ge.error(he)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(re){ge.error(re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},6590:(Mt,ke,P)=>{P.d(ke,{d:()=>S});var p=P(4482),U=P(5403);function S(ae){return(0,p.e)((ge,pe)=>{let me=!1;ge.subscribe((0,U.x)(pe,we=>{me=!0,pe.next(we)},()=>{me||pe.next(ae),pe.complete()}))})}},1884:(Mt,ke,P)=>{P.d(ke,{x:()=>ae});var p=P(4671),U=P(4482),S=P(5403);function ae(pe,me=p.y){return pe=pe??ge,(0,U.e)((we,Ee)=>{let ne,re=!0;we.subscribe((0,S.x)(Ee,he=>{const Ue=me(he);(re||!pe(ne,Ue))&&(re=!1,ne=Ue,Ee.next(he))}))})}function ge(pe,me){return pe===me}},9300:(Mt,ke,P)=>{P.d(ke,{h:()=>S});var p=P(4482),U=P(5403);function S(ae,ge){return(0,p.e)((pe,me)=>{let we=0;pe.subscribe((0,U.x)(me,Ee=>ae.call(ge,Ee,we++)&&me.next(Ee)))})}},590:(Mt,ke,P)=>{P.d(ke,{P:()=>me});var p=P(6805),U=P(9300),S=P(5698),ae=P(6590),ge=P(8068),pe=P(4671);function me(we,Ee){const ne=arguments.length>=2;return re=>re.pipe(we?(0,U.h)((he,Ue)=>we(he,Ue,re)):pe.y,(0,S.q)(1),ne?(0,ae.d)(Ee):(0,ge.T)(()=>new p.K))}},4004:(Mt,ke,P)=>{P.d(ke,{U:()=>S});var p=P(4482),U=P(5403);function S(ae,ge){return(0,p.e)((pe,me)=>{let we=0;pe.subscribe((0,U.x)(me,Ee=>{me.next(ae.call(ge,Ee,we++))}))})}},8189:(Mt,ke,P)=>{P.d(ke,{J:()=>S});var p=P(5577),U=P(4671);function S(ae=1/0){return(0,p.z)(U.y,ae)}},5577:(Mt,ke,P)=>{P.d(ke,{z:()=>we});var p=P(4004),U=P(8421),S=P(4482),ae=P(9672),ge=P(5403),me=P(576);function we(Ee,ne,re=1/0){return(0,me.m)(ne)?we((he,Ue)=>(0,p.U)((Ne,Be)=>ne(he,Ne,Ue,Be))((0,U.Xf)(Ee(he,Ue))),re):("number"==typeof ne&&(re=ne),(0,S.e)((he,Ue)=>function pe(Ee,ne,re,he,Ue,Ne,Be,wt){const X=[];let Fe=0,Nt=0,Et=!1;const ve=()=>{Et&&!X.length&&!Fe&&ne.complete()},Le=Me=>Fe<he?ce(Me):X.push(Me),ce=Me=>{Ne&&ne.next(Me),Fe++;let je=!1;(0,U.Xf)(re(Me,Nt++)).subscribe((0,ge.x)(ne,Z=>{Ue?.(Z),Ne?Le(Z):ne.next(Z)},()=>{je=!0},void 0,()=>{if(je)try{for(Fe--;X.length&&Fe<he;){const Z=X.shift();Be?(0,ae.f)(ne,Be,()=>ce(Z)):ce(Z)}ve()}catch(Z){ne.error(Z)}}))};return Ee.subscribe((0,ge.x)(ne,Le,()=>{Et=!0,ve()})),()=>{wt?.()}}(he,Ue,Ee,re)))}},5363:(Mt,ke,P)=>{P.d(ke,{Q:()=>ae});var p=P(9672),U=P(4482),S=P(5403);function ae(ge,pe=0){return(0,U.e)((me,we)=>{me.subscribe((0,S.x)(we,Ee=>(0,p.f)(we,ge,()=>we.next(Ee),pe),()=>(0,p.f)(we,ge,()=>we.complete(),pe),Ee=>(0,p.f)(we,ge,()=>we.error(Ee),pe)))})}},1520:(Mt,ke,P)=>{P.d(ke,{G:()=>S});var p=P(4482),U=P(5403);function S(){return(0,p.e)((ae,ge)=>{let pe,me=!1;ae.subscribe((0,U.x)(ge,we=>{const Ee=pe;pe=we,me&&ge.next([Ee,we]),me=!0}))})}},5026:(Mt,ke,P)=>{P.d(ke,{R:()=>ae});var p=P(4482),U=P(5403);function S(ge,pe,me,we,Ee){return(ne,re)=>{let he=me,Ue=pe,Ne=0;ne.subscribe((0,U.x)(re,Be=>{const wt=Ne++;Ue=he?ge(Ue,Be,wt):(he=!0,Be),we&&re.next(Ue)},Ee&&(()=>{he&&re.next(Ue),re.complete()})))}}function ae(ge,pe){return(0,p.e)(S(ge,pe,arguments.length>=2,!0))}},3099:(Mt,ke,P)=>{P.d(ke,{B:()=>ge});var p=P(8421),U=P(7579),S=P(2961),ae=P(4482);function ge(me={}){const{connector:we=(()=>new U.x),resetOnError:Ee=!0,resetOnComplete:ne=!0,resetOnRefCountZero:re=!0}=me;return he=>{let Ue,Ne,Be,wt=0,X=!1,Fe=!1;const Nt=()=>{Ne?.unsubscribe(),Ne=void 0},Et=()=>{Nt(),Ue=Be=void 0,X=Fe=!1},ve=()=>{const Le=Ue;Et(),Le?.unsubscribe()};return(0,ae.e)((Le,ce)=>{wt++,!Fe&&!X&&Nt();const Me=Be=Be??we();ce.add(()=>{wt--,0===wt&&!Fe&&!X&&(Ne=pe(ve,re))}),Me.subscribe(ce),!Ue&&wt>0&&(Ue=new S.Hp({next:je=>Me.next(je),error:je=>{Fe=!0,Nt(),Ne=pe(Et,Ee,je),Me.error(je)},complete:()=>{X=!0,Nt(),Ne=pe(Et,ne),Me.complete()}}),(0,p.Xf)(Le).subscribe(Ue))})(he)}}function pe(me,we,...Ee){if(!0===we)return void me();if(!1===we)return;const ne=new S.Hp({next:()=>{ne.unsubscribe(),me()}});return we(...Ee).subscribe(ne)}},3151:(Mt,ke,P)=>{P.d(ke,{d:()=>ge});var p=P(7579),U=P(6063);class S extends p.x{constructor(me=1/0,we=1/0,Ee=U.l){super(),this._bufferSize=me,this._windowTime=we,this._timestampProvider=Ee,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=we===1/0,this._bufferSize=Math.max(1,me),this._windowTime=Math.max(1,we)}next(me){const{isStopped:we,_buffer:Ee,_infiniteTimeWindow:ne,_timestampProvider:re,_windowTime:he}=this;we||(Ee.push(me),!ne&&Ee.push(re.now()+he)),this._trimBuffer(),super.next(me)}_subscribe(me){this._throwIfClosed(),this._trimBuffer();const we=this._innerSubscribe(me),{_infiniteTimeWindow:Ee,_buffer:ne}=this,re=ne.slice();for(let he=0;he<re.length&&!me.closed;he+=Ee?1:2)me.next(re[he]);return this._checkFinalizedStatuses(me),we}_trimBuffer(){const{_bufferSize:me,_timestampProvider:we,_buffer:Ee,_infiniteTimeWindow:ne}=this,re=(ne?1:2)*me;if(me<1/0&&re<Ee.length&&Ee.splice(0,Ee.length-re),!ne){const he=we.now();let Ue=0;for(let Ne=1;Ne<Ee.length&&Ee[Ne]<=he;Ne+=2)Ue=Ne;Ue&&Ee.splice(0,Ue+1)}}}var ae=P(3099);function ge(pe,me,we){let Ee,ne=!1;return pe&&"object"==typeof pe?({bufferSize:Ee=1/0,windowTime:me=1/0,refCount:ne=!1,scheduler:we}=pe):Ee=pe??1/0,(0,ae.B)({connector:()=>new S(Ee,me,we),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ne})}},8675:(Mt,ke,P)=>{P.d(ke,{O:()=>ae});var p=P(7272),U=P(7669),S=P(4482);function ae(...ge){const pe=(0,U.yG)(ge);return(0,S.e)((me,we)=>{(pe?(0,p.z)(ge,me,pe):(0,p.z)(ge,me)).subscribe(we)})}},9468:(Mt,ke,P)=>{P.d(ke,{R:()=>U});var p=P(4482);function U(S,ae=0){return(0,p.e)((ge,pe)=>{pe.add(S.schedule(()=>ge.subscribe(pe),ae))})}},3900:(Mt,ke,P)=>{P.d(ke,{w:()=>ae});var p=P(8421),U=P(4482),S=P(5403);function ae(ge,pe){return(0,U.e)((me,we)=>{let Ee=null,ne=0,re=!1;const he=()=>re&&!Ee&&we.complete();me.subscribe((0,S.x)(we,Ue=>{Ee?.unsubscribe();let Ne=0;const Be=ne++;(0,p.Xf)(ge(Ue,Be)).subscribe(Ee=(0,S.x)(we,wt=>we.next(pe?pe(Ue,wt,Be,Ne++):wt),()=>{Ee=null,he()}))},()=>{re=!0,he()}))})}},5698:(Mt,ke,P)=>{P.d(ke,{q:()=>ae});var p=P(515),U=P(4482),S=P(5403);function ae(ge){return ge<=0?()=>p.E:(0,U.e)((pe,me)=>{let we=0;pe.subscribe((0,S.x)(me,Ee=>{++we<=ge&&(me.next(Ee),ge<=we&&me.complete())}))})}},8505:(Mt,ke,P)=>{P.d(ke,{b:()=>ge});var p=P(576),U=P(4482),S=P(5403),ae=P(4671);function ge(pe,me,we){const Ee=(0,p.m)(pe)||me||we?{next:pe,error:me,complete:we}:pe;return Ee?(0,U.e)((ne,re)=>{var he;null===(he=Ee.subscribe)||void 0===he||he.call(Ee);let Ue=!0;ne.subscribe((0,S.x)(re,Ne=>{var Be;null===(Be=Ee.next)||void 0===Be||Be.call(Ee,Ne),re.next(Ne)},()=>{var Ne;Ue=!1,null===(Ne=Ee.complete)||void 0===Ne||Ne.call(Ee),re.complete()},Ne=>{var Be;Ue=!1,null===(Be=Ee.error)||void 0===Be||Be.call(Ee,Ne),re.error(Ne)},()=>{var Ne,Be;Ue&&(null===(Ne=Ee.unsubscribe)||void 0===Ne||Ne.call(Ee)),null===(Be=Ee.finalize)||void 0===Be||Be.call(Ee)}))}):ae.y}},8068:(Mt,ke,P)=>{P.d(ke,{T:()=>ae});var p=P(6805),U=P(4482),S=P(5403);function ae(pe=ge){return(0,U.e)((me,we)=>{let Ee=!1;me.subscribe((0,S.x)(we,ne=>{Ee=!0,we.next(ne)},()=>Ee?we.complete():we.error(pe())))})}function ge(){return new p.K}},4408:(Mt,ke,P)=>{P.d(ke,{o:()=>ge});var p=P(727);class U extends p.w0{constructor(me,we){super()}schedule(me,we=0){return this}}const S={setInterval(pe,me,...we){const{delegate:Ee}=S;return Ee?.setInterval?Ee.setInterval(pe,me,...we):setInterval(pe,me,...we)},clearInterval(pe){const{delegate:me}=S;return(me?.clearInterval||clearInterval)(pe)},delegate:void 0};var ae=P(8737);class ge extends U{constructor(me,we){super(me,we),this.scheduler=me,this.work=we,this.pending=!1}schedule(me,we=0){if(this.closed)return this;this.state=me;const Ee=this.id,ne=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(ne,Ee,we)),this.pending=!0,this.delay=we,this.id=this.id||this.requestAsyncId(ne,this.id,we),this}requestAsyncId(me,we,Ee=0){return S.setInterval(me.flush.bind(me,this),Ee)}recycleAsyncId(me,we,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return we;S.clearInterval(we)}execute(me,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(me,we);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,we){let ne,Ee=!1;try{this.work(me)}catch(re){Ee=!0,ne=re||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:me,scheduler:we}=this,{actions:Ee}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(Ee,this),null!=me&&(this.id=this.recycleAsyncId(we,me,null)),this.delay=null,super.unsubscribe()}}}},7565:(Mt,ke,P)=>{P.d(ke,{v:()=>S});var p=P(6063);class U{constructor(ge,pe=U.now){this.schedulerActionCtor=ge,this.now=pe}schedule(ge,pe=0,me){return new this.schedulerActionCtor(this,ge).schedule(me,pe)}}U.now=p.l.now;class S extends U{constructor(ge,pe=U.now){super(ge,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ge){const{actions:pe}=this;if(this._active)return void pe.push(ge);let me;this._active=!0;do{if(me=ge.execute(ge.state,ge.delay))break}while(ge=pe.shift());if(this._active=!1,me){for(;ge=pe.shift();)ge.unsubscribe();throw me}}}},4986:(Mt,ke,P)=>{P.d(ke,{z:()=>S});var p=P(4408);const S=new(P(7565).v)(p.o)},6063:(Mt,ke,P)=>{P.d(ke,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(Mt,ke,P)=>{P.d(ke,{z:()=>p});const p={setTimeout(U,S,...ae){const{delegate:ge}=p;return ge?.setTimeout?ge.setTimeout(U,S,...ae):setTimeout(U,S,...ae)},clearTimeout(U){const{delegate:S}=p;return(S?.clearTimeout||clearTimeout)(U)},delegate:void 0}},2202:(Mt,ke,P)=>{P.d(ke,{h:()=>U});const U=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Mt,ke,P)=>{P.d(ke,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Mt,ke,P)=>{P.d(ke,{K:()=>U});const U=(0,P(3888).d)(S=>function(){S(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Mt,ke,P)=>{P.d(ke,{_6:()=>pe,jO:()=>ae,yG:()=>ge});var p=P(576);function S(me){return me[me.length-1]}function ae(me){return(0,p.m)(S(me))?me.pop():void 0}function ge(me){return function U(me){return me&&(0,p.m)(me.schedule)}(S(me))?me.pop():void 0}function pe(me,we){return"number"==typeof S(me)?me.pop():we}},4742:(Mt,ke,P)=>{P.d(ke,{D:()=>ge});const{isArray:p}=Array,{getPrototypeOf:U,prototype:S,keys:ae}=Object;function ge(me){if(1===me.length){const we=me[0];if(p(we))return{args:we,keys:null};if(function pe(me){return me&&"object"==typeof me&&U(me)===S}(we)){const Ee=ae(we);return{args:Ee.map(ne=>we[ne]),keys:Ee}}}return{args:me,keys:null}}},8737:(Mt,ke,P)=>{function p(U,S){if(U){const ae=U.indexOf(S);0<=ae&&U.splice(ae,1)}}P.d(ke,{P:()=>p})},3888:(Mt,ke,P)=>{function p(U){const ae=U(ge=>{Error.call(ge),ge.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}P.d(ke,{d:()=>p})},1810:(Mt,ke,P)=>{function p(U,S){return U.reduce((ae,ge,pe)=>(ae[ge]=S[pe],ae),{})}P.d(ke,{n:()=>p})},2806:(Mt,ke,P)=>{P.d(ke,{O:()=>ae,x:()=>S});var p=P(2416);let U=null;function S(ge){if(p.v.useDeprecatedSynchronousErrorHandling){const pe=!U;if(pe&&(U={errorThrown:!1,error:null}),ge(),pe){const{errorThrown:me,error:we}=U;if(U=null,me)throw we}}else ge()}function ae(ge){p.v.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=ge)}},9672:(Mt,ke,P)=>{function p(U,S,ae,ge=0,pe=!1){const me=S.schedule(function(){ae(),pe?U.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(U.add(me),!pe)return me}P.d(ke,{f:()=>p})},4671:(Mt,ke,P)=>{function p(U){return U}P.d(ke,{y:()=>p})},1144:(Mt,ke,P)=>{P.d(ke,{z:()=>p});const p=U=>U&&"number"==typeof U.length&&"function"!=typeof U},2206:(Mt,ke,P)=>{P.d(ke,{D:()=>U});var p=P(576);function U(S){return Symbol.asyncIterator&&(0,p.m)(S?.[Symbol.asyncIterator])}},576:(Mt,ke,P)=>{function p(U){return"function"==typeof U}P.d(ke,{m:()=>p})},3670:(Mt,ke,P)=>{P.d(ke,{c:()=>S});var p=P(8822),U=P(576);function S(ae){return(0,U.m)(ae[p.L])}},6495:(Mt,ke,P)=>{P.d(ke,{T:()=>S});var p=P(2202),U=P(576);function S(ae){return(0,U.m)(ae?.[p.h])}},8239:(Mt,ke,P)=>{P.d(ke,{t:()=>U});var p=P(576);function U(S){return(0,p.m)(S?.then)}},3260:(Mt,ke,P)=>{P.d(ke,{L:()=>ae,Q:()=>S});var p=P(655),U=P(576);function S(ge){return(0,p.FC)(this,arguments,function*(){const me=ge.getReader();try{for(;;){const{value:we,done:Ee}=yield(0,p.qq)(me.read());if(Ee)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(we)}}finally{me.releaseLock()}})}function ae(ge){return(0,U.m)(ge?.getReader)}},4482:(Mt,ke,P)=>{P.d(ke,{A:()=>U,e:()=>S});var p=P(576);function U(ae){return(0,p.m)(ae?.lift)}function S(ae){return ge=>{if(U(ge))return ge.lift(function(pe){try{return ae(pe,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Mt,ke,P)=>{P.d(ke,{Z:()=>ae});var p=P(4004);const{isArray:U}=Array;function ae(ge){return(0,p.U)(pe=>function S(ge,pe){return U(pe)?ge(...pe):ge(pe)}(ge,pe))}},9635:(Mt,ke,P)=>{P.d(ke,{U:()=>S,z:()=>U});var p=P(4671);function U(...ae){return S(ae)}function S(ae){return 0===ae.length?p.y:1===ae.length?ae[0]:function(pe){return ae.reduce((me,we)=>we(me),pe)}}},7849:(Mt,ke,P)=>{P.d(ke,{h:()=>S});var p=P(2416),U=P(3410);function S(ae){U.z.setTimeout(()=>{const{onUnhandledError:ge}=p.v;if(!ge)throw ae;ge(ae)})}},4532:(Mt,ke,P)=>{function p(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(ke,{z:()=>p})},655:(Mt,ke,P)=>{function ae(_e,be){var Se={};for(var Ce in _e)Object.prototype.hasOwnProperty.call(_e,Ce)&&be.indexOf(Ce)<0&&(Se[Ce]=_e[Ce]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(Ce=Object.getOwnPropertySymbols(_e);ut<Ce.length;ut++)be.indexOf(Ce[ut])<0&&Object.prototype.propertyIsEnumerable.call(_e,Ce[ut])&&(Se[Ce[ut]]=_e[Ce[ut]])}return Se}function we(_e,be,Se,Ce){return new(Se||(Se=Promise))(function(lt,Pt){function kt(Gt){try{tt(Ce.next(Gt))}catch(In){Pt(In)}}function Ht(Gt){try{tt(Ce.throw(Gt))}catch(In){Pt(In)}}function tt(Gt){Gt.done?lt(Gt.value):function ut(lt){return lt instanceof Se?lt:new Se(function(Pt){Pt(lt)})}(Gt.value).then(kt,Ht)}tt((Ce=Ce.apply(_e,be||[])).next())})}function X(_e){return this instanceof X?(this.v=_e,this):new X(_e)}function Fe(_e,be,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,Ce=Se.apply(_e,be||[]),lt=[];return ut={},Pt("next"),Pt("throw"),Pt("return"),ut[Symbol.asyncIterator]=function(){return this},ut;function Pt(Rn){Ce[Rn]&&(ut[Rn]=function(Dn){return new Promise(function(fr,qt){lt.push([Rn,Dn,fr,qt])>1||kt(Rn,Dn)})})}function kt(Rn,Dn){try{!function Ht(Rn){Rn.value instanceof X?Promise.resolve(Rn.value.v).then(tt,Gt):In(lt[0][2],Rn)}(Ce[Rn](Dn))}catch(fr){In(lt[0][3],fr)}}function tt(Rn){kt("next",Rn)}function Gt(Rn){kt("throw",Rn)}function In(Rn,Dn){Rn(Dn),lt.shift(),lt.length&&kt(lt[0][0],lt[0][1])}}function Et(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,be=_e[Symbol.asyncIterator];return be?be.call(_e):(_e=function he(_e){var be="function"==typeof Symbol&&Symbol.iterator,Se=be&&_e[be],Ce=0;if(Se)return Se.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&Ce>=_e.length&&(_e=void 0),{value:_e&&_e[Ce++],done:!_e}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),Se={},Ce("next"),Ce("throw"),Ce("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function Ce(lt){Se[lt]=_e[lt]&&function(Pt){return new Promise(function(kt,Ht){!function ut(lt,Pt,kt,Ht){Promise.resolve(Ht).then(function(tt){lt({value:tt,done:kt})},Pt)}(kt,Ht,(Pt=_e[lt](Pt)).done,Pt.value)})}}}P.d(ke,{FC:()=>Fe,KL:()=>Et,_T:()=>ae,mG:()=>we,qq:()=>X})},6895:(Mt,ke,P)=>{P.d(ke,{Do:()=>Et,EM:()=>hr,HT:()=>ge,JF:()=>di,K0:()=>me,Mx:()=>On,NF:()=>Ni,O5:()=>Ve,PM:()=>Nr,S$:()=>X,V_:()=>ne,Ye:()=>ve,b0:()=>Nt,bD:()=>os,ez:()=>$i,mk:()=>cn,q:()=>S,sg:()=>Hr,w_:()=>pe});var p=P(4650);let U=null;function S(){return U}function ge(b){U||(U=b)}class pe{}const me=new p.OlP("DocumentToken");let we=(()=>{class b{historyGo(M){throw new Error("Not implemented")}}return b.\u0275fac=function(M){return new(M||b)},b.\u0275prov=p.Yz7({token:b,factory:function(){return function Ee(){return(0,p.LFG)(re)}()},providedIn:"platform"}),b})();const ne=new p.OlP("Location Initialized");let re=(()=>{class b extends we{constructor(M){super(),this._doc=M,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return S().getBaseHref(this._doc)}onPopState(M){const $=S().getGlobalEventTarget(this._doc,"window");return $.addEventListener("popstate",M,!1),()=>$.removeEventListener("popstate",M)}onHashChange(M){const $=S().getGlobalEventTarget(this._doc,"window");return $.addEventListener("hashchange",M,!1),()=>$.removeEventListener("hashchange",M)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(M){this.location.pathname=M}pushState(M,$,oe){he()?this._history.pushState(M,$,oe):this.location.hash=oe}replaceState(M,$,oe){he()?this._history.replaceState(M,$,oe):this.location.hash=oe}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}}return b.\u0275fac=function(M){return new(M||b)(p.LFG(me))},b.\u0275prov=p.Yz7({token:b,factory:function(){return function Ue(){return new re((0,p.LFG)(me))}()},providedIn:"platform"}),b})();function he(){return!!window.history.pushState}function Ne(b,L){if(0==b.length)return L;if(0==L.length)return b;let M=0;return b.endsWith("/")&&M++,L.startsWith("/")&&M++,2==M?b+L.substring(1):1==M?b+L:b+"/"+L}function Be(b){const L=b.match(/#|\?|$/),M=L&&L.index||b.length;return b.slice(0,M-("/"===b[M-1]?1:0))+b.slice(M)}function wt(b){return b&&"?"!==b[0]?"?"+b:b}let X=(()=>{class b{historyGo(M){throw new Error("Not implemented")}}return b.\u0275fac=function(M){return new(M||b)},b.\u0275prov=p.Yz7({token:b,factory:function(){return(0,p.f3M)(Nt)},providedIn:"root"}),b})();const Fe=new p.OlP("appBaseHref");let Nt=(()=>{class b extends X{constructor(M,$){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=$??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return Ne(this._baseHref,M)}path(M=!1){const $=this._platformLocation.pathname+wt(this._platformLocation.search),oe=this._platformLocation.hash;return oe&&M?`${$}${oe}`:$}pushState(M,$,oe,We){const it=this.prepareExternalUrl(oe+wt(We));this._platformLocation.pushState(M,$,it)}replaceState(M,$,oe,We){const it=this.prepareExternalUrl(oe+wt(We));this._platformLocation.replaceState(M,$,it)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return b.\u0275fac=function(M){return new(M||b)(p.LFG(we),p.LFG(Fe,8))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),Et=(()=>{class b extends X{constructor(M,$){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=$&&(this._baseHref=$)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let $=this._platformLocation.hash;return null==$&&($="#"),$.length>0?$.substring(1):$}prepareExternalUrl(M){const $=Ne(this._baseHref,M);return $.length>0?"#"+$:$}pushState(M,$,oe,We){let it=this.prepareExternalUrl(oe+wt(We));0==it.length&&(it=this._platformLocation.pathname),this._platformLocation.pushState(M,$,it)}replaceState(M,$,oe,We){let it=this.prepareExternalUrl(oe+wt(We));0==it.length&&(it=this._platformLocation.pathname),this._platformLocation.replaceState(M,$,it)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}}return b.\u0275fac=function(M){return new(M||b)(p.LFG(we),p.LFG(Fe,8))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac}),b})(),ve=(()=>{class b{constructor(M){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const $=this._locationStrategy.getBaseHref();this._baseHref=Be(Me($)),this._locationStrategy.onPopState(oe=>{this._subject.emit({url:this.path(!0),pop:!0,state:oe.state,type:oe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,$=""){return this.path()==this.normalize(M+wt($))}normalize(M){return b.stripTrailingSlash(function ce(b,L){return b&&L.startsWith(b)?L.substring(b.length):L}(this._baseHref,Me(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,$="",oe=null){this._locationStrategy.pushState(oe,"",M,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+wt($)),oe)}replaceState(M,$="",oe=null){this._locationStrategy.replaceState(oe,"",M,$),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+wt($)),oe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe($=>{this._notifyUrlChangeListeners($.url,$.state)})),()=>{const $=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice($,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",$){this._urlChangeListeners.forEach(oe=>oe(M,$))}subscribe(M,$,oe){return this._subject.subscribe({next:M,error:$,complete:oe})}}return b.normalizeQueryParams=wt,b.joinWithSlash=Ne,b.stripTrailingSlash=Be,b.\u0275fac=function(M){return new(M||b)(p.LFG(X))},b.\u0275prov=p.Yz7({token:b,factory:function(){return function Le(){return new ve((0,p.LFG)(X))}()},providedIn:"root"}),b})();function Me(b){return b.replace(/\/index.html$/,"")}function On(b,L){L=encodeURIComponent(L);for(const M of b.split(";")){const $=M.indexOf("="),[oe,We]=-1==$?[M,""]:[M.slice(0,$),M.slice($+1)];if(oe.trim()===L)return decodeURIComponent(We)}return null}let cn=(()=>{class b{constructor(M,$,oe,We){this._iterableDiffers=M,this._keyValueDiffers=$,this._ngEl=oe,this._renderer=We,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(M){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof M?M.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(M){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof M?M.split(/\s+/):M,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const M=this._iterableDiffer.diff(this._rawClass);M&&this._applyIterableChanges(M)}else if(this._keyValueDiffer){const M=this._keyValueDiffer.diff(this._rawClass);M&&this._applyKeyValueChanges(M)}}_applyKeyValueChanges(M){M.forEachAddedItem($=>this._toggleClass($.key,$.currentValue)),M.forEachChangedItem($=>this._toggleClass($.key,$.currentValue)),M.forEachRemovedItem($=>{$.previousValue&&this._toggleClass($.key,!1)})}_applyIterableChanges(M){M.forEachAddedItem($=>{if("string"!=typeof $.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)($.item)}`);this._toggleClass($.item,!0)}),M.forEachRemovedItem($=>this._toggleClass($.item,!1))}_applyClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach($=>this._toggleClass($,!0)):Object.keys(M).forEach($=>this._toggleClass($,!!M[$])))}_removeClasses(M){M&&(Array.isArray(M)||M instanceof Set?M.forEach($=>this._toggleClass($,!1)):Object.keys(M).forEach($=>this._toggleClass($,!1)))}_toggleClass(M,$){(M=M.trim())&&M.split(/\s+/g).forEach(oe=>{$?this._renderer.addClass(this._ngEl.nativeElement,oe):this._renderer.removeClass(this._ngEl.nativeElement,oe)})}}return b.\u0275fac=function(M){return new(M||b)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},b.\u0275dir=p.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),b})();class ci{constructor(L,M,$,oe){this.$implicit=L,this.ngForOf=M,this.index=$,this.count=oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hr=(()=>{class b{constructor(M,$,oe){this._viewContainer=M,this._template=$,this._differs=oe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const $=this._viewContainer;M.forEachOperation((oe,We,it)=>{if(null==oe.previousIndex)$.createEmbeddedView(this._template,new ci(oe.item,this._ngForOf,-1,-1),null===it?void 0:it);else if(null==it)$.remove(null===We?void 0:We);else if(null!==We){const Jt=$.get(We);$.move(Jt,it),Oe(Jt,oe)}});for(let oe=0,We=$.length;oe<We;oe++){const Jt=$.get(oe).context;Jt.index=oe,Jt.count=We,Jt.ngForOf=this._ngForOf}M.forEachIdentityChange(oe=>{Oe($.get(oe.currentIndex),oe)})}static ngTemplateContextGuard(M,$){return!0}}return b.\u0275fac=function(M){return new(M||b)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},b.\u0275dir=p.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),b})();function Oe(b,L){b.context.$implicit=L.item}let Ve=(()=>{class b{constructor(M,$){this._viewContainer=M,this._context=new nt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=$}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){yt("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){yt("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,$){return!0}}return b.\u0275fac=function(M){return new(M||b)(p.Y36(p.s_b),p.Y36(p.Rgc))},b.\u0275dir=p.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),b})();class nt{constructor(){this.$implicit=null,this.ngIf=null}}function yt(b,L){if(L&&!L.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,p.AaK)(L)}'.`)}let $i=(()=>{class b{}return b.\u0275fac=function(M){return new(M||b)},b.\u0275mod=p.oAB({type:b}),b.\u0275inj=p.cJS({}),b})();const os="browser";function Ni(b){return b===os}function Nr(b){return"server"===b}let hr=(()=>{class b{}return b.\u0275prov=(0,p.Yz7)({token:b,providedIn:"root",factory:()=>new Gi((0,p.LFG)(me),window)}),b})();class Gi{constructor(L,M){this.document=L,this.window=M,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(L){this.supportsScrolling()&&this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){if(!this.supportsScrolling())return;const M=function kr(b,L){const M=b.getElementById(L)||b.getElementsByName(L)[0];if(M)return M;if("function"==typeof b.createTreeWalker&&b.body&&(b.body.createShadowRoot||b.body.attachShadow)){const $=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let oe=$.currentNode;for(;oe;){const We=oe.shadowRoot;if(We){const it=We.getElementById(L)||We.querySelector(`[name="${L}"]`);if(it)return it}oe=$.nextNode()}}return null}(this.document,L);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(L){if(this.supportScrollRestoration()){const M=this.window.history;M&&M.scrollRestoration&&(M.scrollRestoration=L)}}scrollToElement(L){const M=L.getBoundingClientRect(),$=M.left+this.window.pageXOffset,oe=M.top+this.window.pageYOffset,We=this.offset();this.window.scrollTo($-We[0],oe-We[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const L=Ai(this.window.history)||Ai(Object.getPrototypeOf(this.window.history));return!(!L||!L.writable&&!L.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ai(b){return Object.getOwnPropertyDescriptor(b,"scrollRestoration")}class di{}},4650:(Mt,ke,P)=>{P.d(ke,{$8M:()=>Lr,$Z:()=>Cp,AFp:()=>dE,AaK:()=>we,CHM:()=>_n,CRH:()=>$0,CZH:()=>Oy,CqO:()=>Hm,D6c:()=>SD,EJc:()=>Hw,EpF:()=>ng,F4k:()=>If,FYo:()=>At,FiY:()=>qo,G48:()=>lD,GfV:()=>Ei,Gpc:()=>re,JOm:()=>ba,KtG:()=>zi,LFG:()=>_i,LSH:()=>qc,Lbi:()=>Bw,Lck:()=>xI,MMx:()=>o_,NdJ:()=>Pl,OlP:()=>Cr,Oqu:()=>Hd,PXZ:()=>iD,Q6J:()=>yf,QGY:()=>Vd,QP$:()=>zt,Qsj:()=>an,R0b:()=>Ra,RDi:()=>mu,Rgc:()=>Sg,SBq:()=>z,Sil:()=>zw,Suo:()=>j0,TTD:()=>Zr,TgZ:()=>vf,X6Q:()=>cD,XFs:()=>bt,Xpm:()=>le,Xts:()=>Yc,Y36:()=>ku,YKP:()=>I0,YNc:()=>ju,Yjl:()=>Ge,Yz7:()=>Dn,Z0I:()=>Br,ZZ4:()=>O_,_Bn:()=>E0,_UZ:()=>Ld,_Vd:()=>f,_c5:()=>TD,_uU:()=>cy,aQg:()=>R_,c2e:()=>jw,cJS:()=>qt,cg1:()=>Eg,dDg:()=>eD,dqk:()=>yn,eFA:()=>CE,ekj:()=>cg,eoX:()=>IE,f3M:()=>gu,g9A:()=>fE,h0i:()=>Tf,hGG:()=>AD,hij:()=>Gd,iGM:()=>B0,ifc:()=>$t,ip1:()=>lE,jDz:()=>D0,kL8:()=>Ig,lG2:()=>Pe,lnq:()=>Ac,lqb:()=>ri,lri:()=>_E,n5z:()=>nn,oAB:()=>Lt,oxw:()=>$u,q4F:()=>Jr,qLn:()=>ol,qOj:()=>wr,qZA:()=>_f,rWj:()=>EE,s9C:()=>rg,sBO:()=>dD,sIi:()=>Tl,s_b:()=>Sy,soG:()=>Ry,tb:()=>pE,tp0:()=>Ea,uIk:()=>Qp,vHH:()=>Be,vpe:()=>Wu,wAp:()=>Fn,xp6:()=>Fh,z2F:()=>Py,zSh:()=>Xl,zs3:()=>wc});var p=P(7579),U=P(727),S=P(9751),ae=P(6451),ge=P(3099);function pe(n){for(let r in n)if(n[r]===pe)return r;throw Error("Could not find renamed property on target object.")}function me(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function we(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(we).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ee(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ne=pe({__forward_ref__:pe});function re(n){return n.__forward_ref__=re,n.toString=function(){return we(this())},n}function he(n){return Ue(n)?n():n}function Ue(n){return"function"==typeof n&&n.hasOwnProperty(ne)&&n.__forward_ref__===re}class Be extends Error{constructor(r,s){super(function wt(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function X(n){return"string"==typeof n?n:null==n?"":String(n)}function Le(n,r){throw new Be(-201,!1)}function Ht(n,r){null==n&&function tt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Dn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xt(n){return sr(n,Ft)||sr(n,$n)}function Br(n){return null!==Xt(n)}function sr(n,r){return n.hasOwnProperty(r)?n[r]:null}function mr(n){return n&&(n.hasOwnProperty(wn)||n.hasOwnProperty(ir))?n[wn]:null}const Ft=pe({\u0275prov:pe}),wn=pe({\u0275inj:pe}),$n=pe({ngInjectableDef:pe}),ir=pe({ngInjectorDef:pe});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let Zn;function Vn(n){const r=Zn;return Zn=n,r}function Tr(n,r,s){const a=Xt(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&bt.Optional?null:void 0!==r?r:void Le(we(n))}function or(n){return{toString:n}.toString()}var Cn=(()=>((Cn=Cn||{})[Cn.OnPush=0]="OnPush",Cn[Cn.Default=1]="Default",Cn))(),$t=(()=>{return(n=$t||($t={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",$t;var n})();const yn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_r={},Qt=[],jr=pe({\u0275cmp:pe}),An=pe({\u0275dir:pe}),Ar=pe({\u0275pipe:pe}),Pn=pe({\u0275mod:pe}),ye=pe({\u0275fac:pe}),ee=pe({__NG_ELEMENT_ID__:pe});let ie=0;function le(n){return or(()=>{const s=!0===n.standalone,a={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Qt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||$t.Emulated,id:"c"+ie++,styles:n.styles||Qt,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.dependencies,y=n.features;return c.inputs=mn(n.inputs,a),c.outputs=mn(n.outputs),y&&y.forEach(w=>w(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(st).filter(_t):null,c.pipeDefs=h?()=>("function"==typeof h?h():h).map(Dt).filter(_t):null,c})}function st(n){return et(n)||pt(n)}function _t(n){return null!==n}function Lt(n){return or(()=>({type:n.type,bootstrap:n.bootstrap||Qt,declarations:n.declarations||Qt,imports:n.imports||Qt,exports:n.exports||Qt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function mn(n,r){if(null==n)return _r;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=a,r&&(r[c]=h)}return s}const Pe=le;function Ge(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function et(n){return n[jr]||null}function pt(n){return n[An]||null}function Dt(n){return n[Ar]||null}function zt(n){const r=et(n)||pt(n)||Dt(n);return null!==r&&r.standalone}function Zt(n,r){const s=n[Pn]||null;if(!s&&!0===r)throw new Error(`Type ${we(n)} does not have '\u0275mod' property.`);return s}function yt(n){return Array.isArray(n)&&"object"==typeof n[1]}function xt(n){return Array.isArray(n)&&!0===n[1]}function bn(n){return 0!=(8&n.flags)}function Dr(n){return 2==(2&n.flags)}function zn(n){return 1==(1&n.flags)}function er(n){return null!==n.template}function li(n){return 0!=(256&n[2])}function bi(n,r){return n.hasOwnProperty(ye)?n[ye]:null}class ji{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Zr(){return Ri}function Ri(n){return n.type.prototype.ngOnChanges&&(n.setInput=mi),ms}function ms(){const n=ys(this),r=n?.current;if(r){const s=n.previous;if(s===_r)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function mi(n,r,s,a){const c=ys(n)||function $i(n,r){return n[Pi]=r}(n,{previous:_r,current:null}),h=c.current||(c.current={}),y=c.previous,w=this.declaredInputs[s],T=y[w];h[w]=new ji(T&&T.currentValue,r,y===_r),n[a]=r}Zr.ngInherit=!0;const Pi="__ngSimpleChanges__";function ys(n){return n[Pi]||null}function Rr(n){for(;Array.isArray(n);)n=n[0];return n}function Ai(n,r){return Rr(r[n])}function kr(n,r){return Rr(r[n.index])}function di(n,r){return n.data[r]}function Wn(n,r){const s=r[n];return yt(s)?s:s[0]}function vs(n){return 64==(64&n[2])}function ei(n,r){return null==r?null:n[r]}function Us(n){n[18]=0}function Bs(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const G={lFrame:la(null),bindingsEnabled:!0};function Yt(){return G.bindingsEnabled}function ot(){return G.lFrame.lView}function un(){return G.lFrame.tView}function _n(n){return G.lFrame.contextLView=n,n[8]}function zi(n){return G.lFrame.contextLView=null,n}function Sr(){let n=es();for(;null!==n&&64===n.type;)n=n.parent;return n}function es(){return G.lFrame.currentTNode}function ti(n,r){const s=G.lFrame;s.currentTNode=n,s.isParent=r}function _s(){return G.lFrame.isParent}function rn(){return G.lFrame.bindingIndex++}function Er(n){const r=G.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function ts(n,r){const s=G.lFrame;s.bindingIndex=s.bindingRootIndex=n,js(r)}function js(n){G.lFrame.currentDirectiveIndex=n}function $s(){return G.lFrame.currentQueryIndex}function bo(n){G.lFrame.currentQueryIndex=n}function cu(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Go(n,r,s){if(s&bt.SkipSelf){let c=r,h=n;for(;!(c=c.parent,null!==c||s&bt.Host||(c=cu(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;r=c,n=h}const a=G.lFrame=ca();return a.currentTNode=r,a.lView=n,!0}function To(n){const r=ca(),s=n[1];G.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ca(){const n=G.lFrame,r=null===n?null:n.child;return null===r?la(n):r}function la(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Ao(){const n=G.lFrame;return G.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const b=Ao;function L(){const n=Ao();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function oe(){return G.lFrame.selectedIndex}function We(n){G.lFrame.selectedIndex=n}function it(){const n=G.lFrame;return di(n.tView,n.selectedIndex)}function cr(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:T,ngAfterViewChecked:k,ngOnDestroy:H}=h;y&&(n.contentHooks||(n.contentHooks=[])).push(-s,y),w&&((n.contentHooks||(n.contentHooks=[])).push(s,w),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,w)),T&&(n.viewHooks||(n.viewHooks=[])).push(-s,T),k&&((n.viewHooks||(n.viewHooks=[])).push(s,k),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,k)),null!=H&&(n.destroyHooks||(n.destroyHooks=[])).push(s,H)}}function $r(n,r,s){eo(n,r,3,s)}function Is(n,r,s,a){(3&n[2])===s&&eo(n,r,s,a)}function us(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function eo(n,r,s,a){const h=a??-1,y=r.length-1;let w=0;for(let T=void 0!==a?65535&n[18]:0;T<y;T++)if("number"==typeof r[T+1]){if(w=r[T],null!=a&&w>=a)break}else r[T]<0&&(n[18]+=65536),(w<h||-1==h)&&(Ms(n,s,r,T),n[18]=(4294901760&n[18])+T+2),T++}function Ms(n,r,s,a){const c=s[a]<0,h=s[a+1],w=n[c?-s[a]:s[a]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(w)}finally{}}}else try{h.call(w)}finally{}}class xs{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Na(n,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const h=s[a++],y=s[a++],w=s[a++];n.setAttribute(r,y,w,h)}else{const h=c,y=s[++a];lu(h)?n.setProperty(r,h,y):n.setAttribute(r,h,y),a++}}return a}function Mo(n){return 3===n||4===n||6===n}function lu(n){return 64===n.charCodeAt(0)}function da(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||hi(n,s,c,null,-1===s||2===s?r[++a]:null)}}return n}function hi(n,r,s,a,c){let h=0,y=n.length;if(-1===r)y=-1;else for(;h<n.length;){const w=n[h++];if("number"==typeof w){if(w===r){y=-1;break}if(w>r){y=h-1;break}}}for(;h<n.length;){const w=n[h];if("number"==typeof w)break;if(w===s){if(null===a)return void(null!==c&&(n[h+1]=c));if(a===n[h+1])return void(n[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==y&&(n.splice(y,0,r),h=y+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==c&&n.splice(h++,0,c)}function xo(n){return-1!==n}function ws(n){return 32767&n}function ka(n,r){let s=function ha(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let vt=!0;function Qr(n){const r=vt;return vt=n,r}let tn=0;const Hs={};function Ye(n,r){const s=fi(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,mt(a.data,n),mt(r,null),mt(a.blueprint,null));const c=Fa(n,r),h=n.injectorIndex;if(xo(c)){const y=ws(c),w=ka(c,r),T=w[1].data;for(let k=0;k<8;k++)r[h+k]=w[y+k]|T[y+k]}return r[h+8]=c,h}function mt(n,r){n.push(0,0,0,0,0,0,0,0,r)}function fi(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Fa(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Ua(c),null===a)return-1;if(s++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function La(n,r,s){!function jt(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(ee)&&(a=s[ee]),null==a&&(a=s[ee]=tn++);const c=255&a;r.data[n+(c>>5)]|=1<<c}(n,r,s)}function pa(n,r,s){if(s&bt.Optional||void 0!==n)return n;Le()}function Va(n,r,s,a){if(s&bt.Optional&&void 0===a&&(a=null),0==(s&(bt.Self|bt.Host))){const c=n[9],h=Vn(void 0);try{return c?c.get(r,a,s&bt.Optional):Tr(r,a,s&bt.Optional)}finally{Vn(h)}}return pa(a,0,s)}function Ro(n,r,s,a=bt.Default,c){if(null!==n){if(1024&r[2]){const y=function tr(n,r,s,a,c){let h=n,y=r;for(;null!==h&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=ga(h,y,s,a|bt.Self,Hs);if(w!==Hs)return w;let T=h.parent;if(!T){const k=y[21];if(k){const H=k.get(s,Hs,a);if(H!==Hs)return H}T=Ua(y),y=y[15]}h=T}return c}(n,r,s,a,Hs);if(y!==Hs)return y}const h=ga(n,r,s,a,Hs);if(h!==Hs)return h}return Va(r,s,a,c)}function ga(n,r,s,a,c){const h=function hu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(ee)?n[ee]:void 0;return"number"==typeof r?r>=0?255&r:Gr:r}(s);if("function"==typeof h){if(!Go(r,n,a))return a&bt.Host?pa(c,0,a):Va(r,s,a,c);try{const y=h(a);if(null!=y||a&bt.Optional)return y;Le()}finally{b()}}else if("number"==typeof h){let y=null,w=fi(n,r),T=-1,k=a&bt.Host?r[16][6]:null;for((-1===w||a&bt.SkipSelf)&&(T=-1===w?Fa(n,r):r[w+8],-1!==T&&lo(a,!1)?(y=r[1],w=ws(T),r=ka(T,r)):w=-1);-1!==w;){const H=r[1];if(jn(h,w,H.data)){const Q=$l(w,r,s,y,a,k);if(Q!==Hs)return Q}T=r[w+8],-1!==T&&lo(a,r[1].data[w+8]===k)&&jn(h,w,r)?(y=H,w=ws(T),r=ka(T,r)):w=-1}}return c}function $l(n,r,s,a,c,h){const y=r[1],w=y.data[n+8],H=Po(w,y,s,null==a?Dr(w)&&vt:a!=y&&0!=(3&w.type),c&bt.Host&&h===w);return null!==H?ma(r,y,H,w):Hs}function Po(n,r,s,a,c){const h=n.providerIndexes,y=r.data,w=1048575&h,T=n.directiveStart,H=h>>20,De=c?w+H:n.directiveEnd;for(let $e=a?w:w+H;$e<De;$e++){const ht=y[$e];if($e<T&&s===ht||$e>=T&&ht.type===s)return $e}if(c){const $e=y[T];if($e&&er($e)&&$e.type===s)return T}return null}function ma(n,r,s,a){let c=n[s];const h=r.data;if(function cs(n){return n instanceof xs}(c)){const y=c;y.resolving&&function Nt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Be(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Fe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():X(n)}(h[s]));const w=Qr(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?Vn(y.injectImpl):null;Go(n,a,bt.Default);try{c=n[s]=y.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function qr(n,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=r.type.prototype;if(a){const y=Ri(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,y)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==T&&Vn(T),Qr(w),y.resolving=!1,b()}}return c}function jn(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function lo(n,r){return!(n&bt.Self||n&bt.Host&&r)}class No{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Ro(this._tNode,this._lView,r,a,s)}}function Gr(){return new No(Sr(),ot())}function nn(n){return or(()=>{const r=n.prototype.constructor,s=r[ye]||ya(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const h=c[ye]||ya(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function ya(n){return Ue(n)?()=>{const r=ya(he(n));return r&&r()}:bi(n)}function Ua(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function Lr(n){return function du(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const h=s[c];if(Mo(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(h===r)return s[c+1];c+=2}}}return null}(Sr(),n)}const Gs="__parameters__";function fo(n,r,s){return or(()=>{const a=function Yu(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...h){if(this instanceof c)return a.apply(this,h),this;const y=new c(...h);return w.annotation=y,w;function w(T,k,H){const Q=T.hasOwnProperty(Gs)?T[Gs]:Object.defineProperty(T,Gs,{value:[]})[Gs];for(;Q.length<=H;)Q.push(null);return(Q[H]=Q[H]||[]).push(y),T}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Cr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Dn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Cs(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),Cs(a,r)):r!==n&&r.push(a)}return r}function ds(n,r){n.forEach(s=>Array.isArray(s)?ds(s,r):r(s))}function kc(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function va(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function nr(n,r,s){let a=_(n,r);return a>=0?n[1|a]=s:(a=~a,function pu(n,r,s,a){let c=n.length;if(c==r)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function Xu(n,r){const s=_(n,r);if(s>=0)return n[1|s]}function _(n,r){return function v(n,r,s){let a=0,c=n.length>>s;for(;c!==a;){const h=a+(c-a>>1),y=n[h<<s];if(r===y)return h<<s;y>r?c=h:a=h+1}return~(c<<s)}(n,r,1)}const Hn={},pi="__NG_DI_FLAG__",Ki="ngTempTokenPath",gi=/\n/gm,Rs="__source";let Zi;function yo(n){const r=Zi;return Zi=n,r}function Ko(n,r=bt.Default){if(void 0===Zi)throw new Be(-203,!1);return null===Zi?Tr(n,void 0,r):Zi.get(n,r&bt.Optional?null:void 0,r)}function _i(n,r=bt.Default){return(function Mn(){return Zn}()||Ko)(he(n),r)}function gu(n,r=bt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),_i(n,r)}function Zo(n){const r=[];for(let s=0;s<n.length;s++){const a=he(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Be(900,!1);let c,h=bt.Default;for(let y=0;y<a.length;y++){const w=a[y],T=Ha(w);"number"==typeof T?-1===T?c=w.token:h|=T:c=w}r.push(_i(c,h))}else r.push(_i(a))}return r}function $a(n,r){return n[pi]=r,n.prototype[pi]=r,n}function Ha(n){return n[pi]}const qo=$a(fo("Optional"),8),Ea=$a(fo("SkipSelf"),4);let Vo;function mu(n){Vo=n}class Za{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function vo(n){return n instanceof Za?n.changingThisBreaksApplicationSecurity:n}const Ya=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var lr=(()=>((lr=lr||{})[lr.NONE=0]="NONE",lr[lr.HTML=1]="HTML",lr[lr.STYLE=2]="STYLE",lr[lr.SCRIPT=3]="SCRIPT",lr[lr.URL=4]="URL",lr[lr.RESOURCE_URL=5]="RESOURCE_URL",lr))();function qc(n){const r=function ea(){const n=ot();return n&&n[12]}();return r?r.sanitize(lr.URL,n)||"":function sc(n,r){const s=function Kl(n){return n instanceof Za&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?vo(n):function _u(n){return(n=String(n)).match(Ya)?n:"unsafe:"+n}(X(n))}const Yc=new Cr("ENVIRONMENT_INITIALIZER"),Qc=new Cr("INJECTOR",-1),Kn=new Cr("INJECTOR_DEF_TYPES");class Ql{get(r,s=Hn){if(s===Hn){const a=new Error(`NullInjectorError: No provider for ${we(r)}!`);throw a.name="NullInjectorError",a}return s}}function Jc(...n){return{\u0275providers:wa(0,n)}}function wa(n,...r){const s=[],a=new Set;let c;return ds(r,h=>{const y=h;Yi(y,s,[],a)&&(c||(c=[]),c.push(y))}),void 0!==c&&bu(c,s),s}function bu(n,r){for(let s=0;s<n.length;s++){const{providers:c}=n[s];ds(c,h=>{r.push(h)})}}function Yi(n,r,s,a){if(!(n=he(n)))return!1;let c=null,h=mr(n);const y=!h&&et(n);if(h||y){if(y&&!y.standalone)return!1;c=n}else{const T=n.ngModule;if(h=mr(T),!h)return!1;c=T}const w=a.has(c);if(y){if(w)return!1;if(a.add(c),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const k of T)Yi(k,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!w){let k;a.add(c);try{ds(h.imports,H=>{Yi(H,r,s,a)&&(k||(k=[]),k.push(H))})}finally{}void 0!==k&&bu(k,r)}if(!w){const k=bi(c)||(()=>new c);r.push({provide:c,useFactory:k,deps:Qt},{provide:Kn,useValue:c,multi:!0},{provide:Yc,useValue:()=>_i(c),multi:!0})}const T=h.providers;null==T||w||ds(T,H=>{r.push(H)})}}return c!==n&&void 0!==n.providers}const Jl=pe({provide:String,useValue:pe});function Xc(n){return null!==n&&"object"==typeof n&&Jl in n}function Da(n){return"function"==typeof n}const Xl=new Cr("Set Injector scope."),Eo={},Tu={};let tl;function nl(){return void 0===tl&&(tl=new Ql),tl}class ri{}class hc extends ri{constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fc(r,y=>this.processProvider(y)),this.records.set(Qc,Ts(void 0,this)),c.has("environment")&&this.records.set(ri,Ts(void 0,this));const h=this.records.get(Xl);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Kn.multi,Qt,bt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=yo(this),a=Vn(void 0);try{return r()}finally{yo(s),Vn(a)}}get(r,s=Hn,a=bt.Default){this.assertNotDestroyed();const c=yo(this),h=Vn(void 0);try{if(!(a&bt.SkipSelf)){let w=this.records.get(r);if(void 0===w){const T=function td(n){return"function"==typeof n||"object"==typeof n&&n instanceof Cr}(r)&&Xt(r);w=T&&this.injectableDefInScope(T)?Ts(rs(r),Eo):null,this.records.set(r,w)}if(null!=w)return this.hydrate(r,w)}return(a&bt.Self?nl():this.parent).get(r,s=a&bt.Optional&&s===Hn?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[Ki]=y[Ki]||[]).unshift(we(r)),c)throw y;return function Xd(n,r,s,a){const c=n[Ki];throw r[Rs]&&c.unshift(r[Rs]),n.message=function eh(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=we(r);if(Array.isArray(r))c=r.map(we).join(" -> ");else if("object"==typeof r){let h=[];for(let y in r)if(r.hasOwnProperty(y)){let w=r[y];h.push(y+":"+("string"==typeof w?JSON.stringify(w):we(w)))}c=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(gi,"\n  ")}`}("\n"+n.message,c,s,a),n.ngTokenPath=c,n[Ki]=null,n}(y,r,"R3InjectorError",this.source)}throw y}finally{Vn(h),yo(c)}}resolveInjectorInitializers(){const r=yo(this),s=Vn(void 0);try{const a=this.get(Yc.multi,Qt,bt.Self);for(const c of a)c()}finally{yo(r),Vn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(we(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(r){let s=Da(r=he(r))?r:he(r&&r.provide);const a=function io(n){return Xc(n)?Ts(void 0,n.useValue):Ts(rl(n),Eo)}(r);if(Da(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Ts(void 0,Eo,!0),c.factory=()=>Zo(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Eo&&(s.value=Tu,s.value=s.factory()),"object"==typeof s.value&&s.value&&function ed(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=he(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function rs(n){const r=Xt(n),s=null!==r?r.factory:bi(n);if(null!==s)return s;if(n instanceof Cr)throw new Be(204,!1);if(n instanceof Function)return function Qa(n){const r=n.length;if(r>0)throw function si(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new Be(204,!1);const s=function Qn(n){const r=n&&(n[Ft]||n[$n]);if(r){const s=function Ln(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Be(204,!1)}function rl(n,r,s){let a;if(Da(n)){const c=he(n);return bi(c)||rs(c)}if(Xc(n))a=()=>he(n.useValue);else if(function dc(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Zo(n.deps||[]));else if(function el(n){return!(!n||!n.useExisting)}(n))a=()=>_i(he(n.useExisting));else{const c=he(n&&(n.useClass||n.provide));if(!function ta(n){return!!n.deps}(n))return bi(c)||rs(c);a=()=>new c(...Zo(n.deps))}return a}function Ts(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function vh(n){return!!n.\u0275providers}function fc(n,r){for(const s of n)Array.isArray(s)?fc(s,r):vh(s)?fc(s.\u0275providers,r):r(s)}class Au{}class l{resolveComponentFactory(r){throw function nd(n){const r=Error(`No component factory found for ${we(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let f=(()=>{class n{}return n.NULL=new l,n})();function I(){return F(Sr(),ot())}function F(n,r){return new z(kr(n,r))}let z=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=I,n})();function Ae(n){return n instanceof z?n.nativeElement:n}class At{}let an=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function kn(){const n=ot(),s=Wn(Sr().index,n);return(yt(s)?s:n)[11]}(),n})(),Tn=(()=>{class n{}return n.\u0275prov=Dn({token:n,providedIn:"root",factory:()=>null}),n})();class Ei{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Jr=new Ei("14.2.2"),Su={};function jf(n){return n.ngOriginalError}class ol{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&jf(r);for(;s&&jf(s);)s=jf(s);return s||null}}const sd=new Map;let Mu=0;const Dh="__ngContext__";function fs(n,r){yt(r)?(n[Dh]=r[20],function By(n){sd.set(n[20],n)}(r)):n[Dh]=r}function zs(n){return n instanceof Function?n():n}var ba=(()=>((ba=ba||{})[ba.Important=1]="Important",ba[ba.DashCase=2]="DashCase",ba))();function vc(n,r){return undefined(n,r)}function cl(n){const r=n[3];return xt(r)?r[3]:r}function ll(n){return qf(n[13])}function dl(n){return qf(n[4])}function qf(n){for(;null!==n&&!xt(n);)n=n[4];return n}function na(n,r,s,a,c){if(null!=a){let h,y=!1;xt(a)?h=a:yt(a)&&(y=!0,a=a[0]);const w=Rr(a);0===n&&null!==s?null==c?Xf(r,s,w):ra(r,s,w,c||null,!0):1===n&&null!==s?ra(r,s,w,c||null,!0):2===n?function nm(n,r,s){const a=Sh(n,r);a&&function Qy(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,w,y):3===n&&r.destroyNode(w),null!=h&&function Rh(n,r,s,a,c){const h=s[7];h!==Rr(s)&&na(r,n,a,h,c);for(let w=10;w<s.length;w++){const T=s[w];Ec(T[1],T,n,r,a,h)}}(r,n,h,s,c)}}function Ru(n,r,s){return n.createElement(r,s)}function Qg(n,r){const s=n[9],a=s.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,Bs(c,-1)),s.splice(a,1)}function hl(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const c=a[17];null!==c&&c!==n&&Qg(c,a),r>0&&(n[s-1][4]=a[4]);const h=va(n,10+r);!function qg(n,r){Ec(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const y=h[19];null!==y&&y.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Yf(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Ec(n,r,s,3,null,null),function Ky(n){let r=n[13];if(!r)return Qf(n[1],n);for(;r;){let s=null;if(yt(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)yt(r)&&Qf(r[1],r),r=r[3];null===r&&(r=n),yt(r)&&Qf(r[1],r),s=r&&r[4]}r=s}}(r)}}function Qf(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Yy(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof xs)){const h=s[a+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const w=c[h[y]],T=h[y+1];try{T.call(w)}finally{}}else try{h.call(c)}finally{}}}}(n,r),function Jg(n,r){const s=n.cleanup,a=r[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const y=s[h+1],w="function"==typeof y?y(r):Rr(r[y]),T=a[c=s[h+2]],k=s[h+3];"boolean"==typeof k?w.removeEventListener(s[h],T,k):k>=0?a[c=k]():a[c=-k].unsubscribe(),h+=2}else{const y=a[c=s[h+1]];s[h].call(y)}if(null!==a){for(let h=c+1;h<a.length;h++)(0,a[h])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&xt(r[3])){s!==r[3]&&Qg(s,r);const a=r[19];null!==a&&a.detachView(n)}!function wh(n){sd.delete(n[20])}(r)}}function Jf(n,r,s){return function Nu(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const c=n.data[a.directiveStart].encapsulation;if(c===$t.None||c===$t.Emulated)return null}return kr(a,s)}(n,r.parent,s)}function ra(n,r,s,a,c){n.insertBefore(r,s,a,c)}function Xf(n,r,s){n.appendChild(r,s)}function ep(n,r,s,a,c){null!==a?ra(n,r,s,a,c):Xf(n,r,s)}function Sh(n,r){return n.parentNode(r)}let Xg=function is(n,r,s){return 40&n.type?kr(n,s):null};function xh(n,r,s,a){const c=Jf(n,a,r),h=r[11],w=function Mh(n,r,s){return Xg(n,r,s)}(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(s))for(let T=0;T<s.length;T++)ep(h,c,s[T],w,!1);else ep(h,c,s,w,!1)}function ud(n,r){if(null!==r){const s=r.type;if(3&s)return kr(r,n);if(4&s)return fl(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return ud(n,a);{const c=n[r.index];return xt(c)?fl(-1,c):Rr(c)}}if(32&s)return vc(r,n)()||Rr(n[r.index]);{const a=tm(n,r);return null!==a?Array.isArray(a)?a[0]:ud(cl(n[16]),a):ud(n,r.next)}}return null}function tm(n,r){return null!==r?n[16][6].projection[r.projection]:null}function fl(n,r){const s=10+n+1;if(s<r.length){const a=r[s],c=a[1].firstChild;if(null!==c)return ud(a,c)}return r[7]}function Oh(n,r,s,a,c,h,y){for(;null!=s;){const w=a[s.index],T=s.type;if(y&&0===r&&(w&&fs(Rr(w),a),s.flags|=4),64!=(64&s.flags))if(8&T)Oh(n,r,s.child,a,c,h,!1),na(r,n,c,w,h);else if(32&T){const k=vc(s,a);let H;for(;H=k();)na(r,n,c,H,h);na(r,n,c,w,h)}else 16&T?pl(n,r,a,s,c,h):na(r,n,c,w,h);s=y?s.projectionNext:s.next}}function Ec(n,r,s,a,c,h){Oh(s,a,n.firstChild,r,c,h,!1)}function pl(n,r,s,a,c,h){const y=s[16],T=y[6].projection[a.projection];if(Array.isArray(T))for(let k=0;k<T.length;k++)na(r,n,c,T[k],h);else Oh(n,r,T,y[3],c,h,!0)}function Ph(n,r,s){n.setAttribute(r,"style",s)}function Nh(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function rm(n,r,s){let a=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=r.length;if(c+h===a||n.charCodeAt(c+h)<=32)return c}s=c+1}}const ip="ng-template";function sp(n,r,s){let a=0;for(;a<n.length;){let c=n[a++];if(s&&"class"===c){if(c=n[a],-1!==rm(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<n.length&&"string"==typeof(c=n[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function im(n){return 4===n.type&&n.value!==ip}function sm(n,r,s){return r===(4!==n.type||s?n.value:ip)}function tv(n,r,s){let a=4;const c=n.attrs||[],h=function op(n){for(let r=0;r<n.length;r++)if(Mo(n[r]))return r;return n.length}(c);let y=!1;for(let w=0;w<r.length;w++){const T=r[w];if("number"!=typeof T){if(!y)if(4&a){if(a=2|1&a,""!==T&&!sm(n,T,s)||""===T&&1===r.length){if(Uo(a))return!1;y=!0}}else{const k=8&a?T:r[++w];if(8&a&&null!==n.attrs){if(!sp(n.attrs,k,s)){if(Uo(a))return!1;y=!0}continue}const Q=nv(8&a?"class":T,c,im(n),s);if(-1===Q){if(Uo(a))return!1;y=!0;continue}if(""!==k){let De;De=Q>h?"":c[Q+1].toLowerCase();const $e=8&a?De:null;if($e&&-1!==rm($e,k,0)||2&a&&k!==De){if(Uo(a))return!1;y=!0}}}}else{if(!y&&!Uo(a)&&!Uo(T))return!1;if(y&&Uo(T))continue;y=!1,a=T|1&a}}return Uo(a)||y}function Uo(n){return 0==(1&n)}function nv(n,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let h=!1;for(;c<r.length;){const y=r[c];if(y===n)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let w=r[++c];for(;"string"==typeof w;)w=r[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function kh(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Ic(n,r,s=!1){for(let a=0;a<r.length;a++)if(tv(n,r[a],s))return!0;return!1}function ap(n,r){return n?":not("+r.trim()+")":r}function am(n){let r=n[0],s=1,a=2,c="",h=!1;for(;s<n.length;){let y=n[s];if("string"==typeof y)if(2&a){const w=n[++s];c+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&a?c+="."+y:4&a&&(c+=" "+y);else""!==c&&!Uo(y)&&(r+=ap(h,c),c=""),a=y,h=h||!Uo(a);s++}return""!==c&&(r+=ap(h,c)),r}const rr={};function Fh(n){cp(un(),ot(),oe()+n,!1)}function cp(n,r,s,a){if(!a)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&$r(r,h,s)}else{const h=n.preOrderHooks;null!==h&&Is(r,h,0,s)}We(s)}function um(n,r=null,s=null,a){const c=pp(n,r,s,a);return c.resolveInjectorInitializers(),c}function pp(n,r=null,s=null,a,c=new Set){const h=[s||Qt,Jc(n)];return a=a||("object"==typeof n?void 0:we(n)),new hc(h,r||nl(),a||null,c)}let wc=(()=>{class n{static create(s,a){if(Array.isArray(s))return um({name:""},a,s,"");{const c=s.name??"";return um({name:c},s.parent,s.providers,c)}}}return n.THROW_IF_NOT_FOUND=Hn,n.NULL=new Ql,n.\u0275prov=Dn({token:n,providedIn:"any",factory:()=>_i(Qc)}),n.__NG_ELEMENT_ID__=-1,n})();function ku(n,r=bt.Default){const s=ot();return null===s?_i(n,r):Ro(Sr(),s,he(n),r)}function Cp(){throw new Error("invalid")}function vl(n,r){return n<<17|r<<2}function ia(n){return n>>17&32767}function zh(n){return 2|n}function tu(n){return(131068&n)>>2}function hd(n,r){return-131069&n|r<<2}function fd(n){return 1|n}function Rp(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a],h=s[a+1];if(-1!==h){const y=n.data[h];bo(c),y.contentQueries(2,r[h],h)}}}function Qh(n,r,s,a,c,h,y,w,T,k,H){const Q=r.blueprint.slice();return Q[0]=c,Q[2]=76|a,(null!==H||n&&1024&n[2])&&(Q[2]|=1024),Us(Q),Q[3]=Q[15]=n,Q[8]=s,Q[10]=y||n&&n[10],Q[11]=w||n&&n[11],Q[12]=T||n&&n[12]||null,Q[9]=k||n&&n[9]||null,Q[6]=h,Q[20]=function $g(){return Mu++}(),Q[21]=H,Q[16]=2==r.type?n[16]:Q,Q}function Vu(n,r,s,a,c){let h=n.data[r];if(null===h)h=function Np(n,r,s,a,c){const h=es(),y=_s(),T=n.data[r]=function Vp(n,r,s,a,c,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,s,r,a,c);return null===n.firstChild&&(n.firstChild=T),null!==h&&(y?null==h.child&&null!==T.parent&&(h.child=T):null===h.next&&(h.next=T)),T}(n,r,s,a,c),function Wi(){return G.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=c;const y=function yi(){const n=G.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return ti(h,!0),h}function Uu(n,r,s,a){if(0===s)return-1;const c=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function kp(n,r,s){To(r);try{const a=n.viewQuery;null!==a&&bd(1,a,s);const c=n.template;null!==c&&wm(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Rp(n,r),n.staticViewQueries&&bd(2,n.viewQuery,s);const h=n.components;null!==h&&function Im(n,r){for(let s=0;s<r.length;s++)Cv(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,L()}}function wl(n,r,s,a){const c=r[2];if(128!=(128&c)){To(r);try{Us(r),function Je(n){return G.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&wm(n,r,s,2,a);const y=3==(3&c);if(y){const k=n.preOrderCheckHooks;null!==k&&$r(r,k,null)}else{const k=n.preOrderHooks;null!==k&&Is(r,k,0,null),us(r,0)}if(function wv(n){for(let r=ll(n);null!==r;r=dl(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const c=s[a],h=c[3];0==(512&c[2])&&Bs(h,1),c[2]|=512}}}(r),function af(n){for(let r=ll(n);null!==r;r=dl(r))for(let s=10;s<r.length;s++){const a=r[s],c=a[1];vs(a)&&wl(c,a,c.template,a[8])}}(r),null!==n.contentQueries&&Rp(n,r),y){const k=n.contentCheckHooks;null!==k&&$r(r,k)}else{const k=n.contentHooks;null!==k&&Is(r,k,1),us(r,1)}!function Op(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const c=s[a];if(c<0)We(~c);else{const h=c,y=s[++a],w=s[++a];ts(y,h),w(2,r[h])}}}finally{We(-1)}}(n,r);const w=n.components;null!==w&&function Pp(n,r){for(let s=0;s<r.length;s++)Dv(n,r[s])}(r,w);const T=n.viewQuery;if(null!==T&&bd(2,T,a),y){const k=n.viewCheckHooks;null!==k&&$r(r,k)}else{const k=n.viewHooks;null!==k&&Is(r,k,2),us(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Bs(r[3],-1))}finally{L()}}}function wm(n,r,s,a,c){const h=oe(),y=2&a;try{We(-1),y&&r.length>22&&cp(n,r,22,!1),s(a,c)}finally{We(h)}}function wd(n,r,s){!Yt()||(function Tm(n,r,s,a){const c=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||Ye(s,r),fs(a,r);const y=s.initialInputs;for(let w=c;w<h;w++){const T=n.data[w],k=er(T);k&&Hp(r,s,T);const H=ma(r,n,w,s);fs(H,r),null!==y&&Sm(0,w-c,H,T,0,y),k&&(Wn(s.index,r)[8]=H)}}(n,r,s,kr(s,r)),128==(128&s.flags)&&function Bp(n,r,s){const a=s.directiveStart,c=s.directiveEnd,h=s.index,y=function Js(){return G.lFrame.currentDirectiveIndex}();try{We(h);for(let w=a;w<c;w++){const T=n.data[w],k=r[w];js(w),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&jp(T,k)}}finally{We(-1),js(y)}}(n,r,s))}function Dd(n,r,s=kr){const a=r.localNames;if(null!==a){let c=r.index+1;for(let h=0;h<a.length;h+=2){const y=a[h+1],w=-1===y?s(r,n):n[y];n[c++]=w}}}function Cc(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Xh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Xh(n,r,s,a,c,h,y,w,T,k){const H=22+a,Q=H+c,De=function Fp(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:rr);return s}(H,Q),$e="function"==typeof k?k():k;return De[1]={type:n,blueprint:De,template:s,queries:null,viewQuery:w,declTNode:r,data:De.slice().fill(null,H),bindingStartIndex:H,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:$e,incompleteFirstPass:!1}}function Ta(n,r,s,a){const c=cf(r);null===s?c.push(a):(c.push(s),n.firstCreatePass&&Kp(n).push(a,c.length-1))}function Dm(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const c=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,c):s[a]=[r,c]}return s}function ef(n,r){const a=r.directiveEnd,c=n.data,h=r.attrs,y=[];let w=null,T=null;for(let k=r.directiveStart;k<a;k++){const H=c[k],Q=H.inputs,De=null===h||im(r)?null:Iv(Q,h);y.push(De),w=Dm(Q,k,w),T=Dm(H.outputs,k,T)}null!==w&&(w.hasOwnProperty("class")&&(r.flags|=16),w.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=y,r.inputs=w,r.outputs=T}function Io(n,r,s,a,c,h,y,w){const T=kr(r,s);let H,k=r.inputs;!w&&null!=k&&(H=k[a])?(Ad(n,s,H,a,c),Dr(r)&&tf(s,r.index)):3&r.type&&(a=function mv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=y?y(c,r.value||"",a):c,h.setProperty(T,a,c))}function tf(n,r){const s=Wn(r,n);16&s[2]||(s[2]|=32)}function Cd(n,r,s,a){let c=!1;if(Yt()){const h=function _v(n,r,s){const a=n.directiveRegistry;let c=null;if(a)for(let h=0;h<a.length;h++){const y=a[h];Ic(s,y.selectors,!1)&&(c||(c=[]),La(Ye(s,r),n,y.type),er(y)?(Am(n,s),c.unshift(y)):c.push(y))}return c}(n,r,s),y=null===a?null:{"":-1};if(null!==h){c=!0,nf(s,n.data.length,h.length);for(let H=0;H<h.length;H++){const Q=h[H];Q.providersResolver&&Q.providersResolver(Q)}let w=!1,T=!1,k=Uu(n,r,h.length,null);for(let H=0;H<h.length;H++){const Q=h[H];s.mergedAttrs=da(s.mergedAttrs,Q.hostAttrs),rf(n,s,r,k,Q),Ev(k,Q,y),null!==Q.contentQueries&&(s.flags|=8),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(s.flags|=128);const De=Q.type.prototype;!w&&(De.ngOnChanges||De.ngOnInit||De.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),w=!0),!T&&(De.ngOnChanges||De.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),T=!0),k++}ef(n,s)}y&&function $p(n,r,s){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const h=s[r[c+1]];if(null==h)throw new Be(-301,!1);a.push(r[c],h)}}}(s,a,y)}return s.mergedAttrs=da(s.mergedAttrs,s.attrs),c}function bm(n,r,s,a,c,h){const y=h.hostBindings;if(y){let w=n.hostBindingOpCodes;null===w&&(w=n.hostBindingOpCodes=[]);const T=~r.index;(function Up(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(w)!=T&&w.push(T),w.push(a,c,y)}}function jp(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Am(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Ev(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;er(r)&&(s[""]=n)}}function nf(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function rf(n,r,s,a,c){n.data[a]=c;const h=c.factory||(c.factory=bi(c.type)),y=new xs(h,er(c),ku);n.blueprint[a]=y,s[a]=y,bm(n,r,0,a,Uu(n,s,c.hostVars,rr),c)}function Hp(n,r,s){const a=kr(r,n),c=Cc(s),h=n[10],y=Dl(n,Qh(n,c,null,s.onPush?32:16,a,r,h,h.createRenderer(a,s),null,null,null));n[r.index]=y}function Aa(n,r,s,a,c,h){const y=kr(n,r);!function sf(n,r,s,a,c,h,y){if(null==h)n.removeAttribute(r,c,s);else{const w=null==y?X(h):y(h,a||"",c);n.setAttribute(r,c,w,s)}}(r[11],y,h,n.value,s,a,c)}function Sm(n,r,s,a,c,h){const y=h[r];if(null!==y){const w=a.setInput;for(let T=0;T<y.length;){const k=y[T++],H=y[T++],Q=y[T++];null!==w?a.setInput(s,Q,k,H):s[H]=Q}}}function Iv(n,r){let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,n[c],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Gp(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Dv(n,r){const s=Wn(r,n);if(vs(s)){const a=s[1];48&s[2]?wl(a,s,a.template,s[8]):s[5]>0&&zp(s)}}function zp(n){for(let a=ll(n);null!==a;a=dl(a))for(let c=10;c<a.length;c++){const h=a[c];if(vs(h))if(512&h[2]){const y=h[1];wl(y,h,y.template,h[8])}else h[5]>0&&zp(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const c=Wn(s[a],n);vs(c)&&c[5]>0&&zp(c)}}function Cv(n,r){const s=Wn(r,n),a=s[1];(function xm(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),kp(a,s,s[8])}function Dl(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function uf(n){for(;n;){n[2]|=32;const r=cl(n);if(li(n)&&!r)return n;n=r}return null}function Cl(n,r,s,a=!0){const c=r[10];c.begin&&c.begin();try{wl(n,r,n.template,s)}catch(y){throw a&&Zp(r,y),y}finally{c.end&&c.end()}}function bd(n,r,s){bo(0),r(n,s)}function cf(n){return n[7]||(n[7]=[])}function Kp(n){return n.cleanup||(n.cleanup=[])}function Zp(n,r){const s=n[9],a=s?s.get(ol,null):null;a&&a.handleError(r)}function Ad(n,r,s,a,c){for(let h=0;h<s.length;){const y=s[h++],w=s[h++],T=r[y],k=n.data[y];null!==k.setInput?k.setInput(T,c,a,w):T[w]=c}}function ao(n,r,s){const a=Ai(r,n);!function Ou(n,r,s){n.setValue(r,s)}(n[11],a,s)}function bl(n,r,s){let a=s?n.styles:null,c=s?n.classes:null,h=0;if(null!==r)for(let y=0;y<r.length;y++){const w=r[y];"number"==typeof w?h=w:1==h?c=Ee(c,w):2==h&&(a=Ee(a,w+": "+r[++y]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}function lf(n,r,s,a,c=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Rr(h)),xt(h))for(let w=10;w<h.length;w++){const T=h[w],k=T[1].firstChild;null!==k&&lf(T[1],T,k,a)}const y=s.type;if(8&y)lf(n,r,s.child,a);else if(32&y){const w=vc(s,r);let T;for(;T=w();)a.push(T)}else if(16&y){const w=tm(r,s);if(Array.isArray(w))a.push(...w);else{const T=cl(r[16]);lf(T[1],T,w,a,!0)}}s=c?s.projectionNext:s.next}return a}class Sd{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return lf(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(xt(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(hl(r,a),va(s,a))}this._attachedToViewContainer=!1}Yf(this._lView[1],this._lView)}onDestroy(r){Ta(this._lView[1],this._lView,null,r)}markForCheck(){uf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Cl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yg(n,r){Ec(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=r}}class bv extends Sd{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Cl(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class df extends f{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=et(r);return new Md(s,this.ngModule)}}function Rm(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Tv{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const c=this.injector.get(r,Su,a);return c!==Su||s===Su?c:this.parentInjector.get(r,s,a)}}class Md extends Au{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function rv(n){return n.map(am).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Rm(this.componentDef.inputs)}get outputs(){return Rm(this.componentDef.outputs)}create(r,s,a,c){let h=(c=c||this.ngModule)instanceof ri?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new Tv(r,h):r,w=y.get(At,null);if(null===w)throw new Be(407,!1);const T=y.get(Tn,null),k=w.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",Q=a?function Lp(n,r,s){return n.selectRootElement(r,s===$t.ShadowDom)}(k,a,this.componentDef.encapsulation):Ru(w.createRenderer(null,this.componentDef),H,function Pm(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(H)),De=this.componentDef.onPush?288:272,$e=Xh(0,null,null,1,0,null,null,null,null,null),ht=Qh(null,$e,null,De,null,null,w,k,T,y,null);let Rt,Kt;To(ht);try{const gn=function Fm(n,r,s,a,c,h){const y=s[1];s[22]=n;const T=Vu(y,22,2,"#host",null),k=T.mergedAttrs=r.hostAttrs;null!==k&&(bl(T,k,!0),null!==n&&(Na(c,n,k),null!==T.classes&&Nh(c,n,T.classes),null!==T.styles&&Ph(c,n,T.styles)));const H=a.createRenderer(n,r),Q=Qh(s,Cc(r),null,r.onPush?32:16,s[22],T,a,H,h||null,null,null);return y.firstCreatePass&&(La(Ye(T,s),y,r.type),Am(y,T),nf(T,s.length,1)),Dl(s,Q),s[22]=Q}(Q,this.componentDef,ht,w,k);if(Q)if(a)Na(k,Q,["ng-version",Jr.full]);else{const{attrs:Un,classes:It}=function up(n){const r=[],s=[];let a=1,c=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===c?""!==h&&r.push(h,n[++a]):8===c&&s.push(h);else{if(!Uo(c))break;c=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Un&&Na(k,Q,Un),It&&It.length>0&&Nh(k,Q,It.join(" "))}if(Kt=di($e,22),void 0!==s){const Un=Kt.projection=[];for(let It=0;It<this.ngContentSelectors.length;It++){const Gn=s[It];Un.push(null!=Gn?Array.from(Gn):null)}}Rt=function Lm(n,r,s,a){const c=s[1],h=function vv(n,r,s){const a=Sr();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),rf(n,a,r,Uu(n,r,1,null),s),ef(n,a));const c=ma(r,n,a.directiveStart,a);fs(c,r);const h=kr(a,r);return h&&fs(h,r),c}(c,s,r);if(n[8]=s[8]=h,null!==a)for(const w of a)w(h,r);if(r.contentQueries){const w=Sr();r.contentQueries(1,h,w.directiveStart)}const y=Sr();return!c.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(We(y.index),bm(s[1],y,0,y.directiveStart,y.directiveEnd,r),jp(r,h)),h}(gn,this.componentDef,ht,[Vm]),kp($e,ht,null)}finally{L()}return new Nm(this.componentType,Rt,F(Kt,ht),ht,Kt)}}class Nm extends class kf{}{constructor(r,s,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new bv(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const h=this._rootLView;Ad(h[1],h,c,r,s),tf(h,this._tNode.index)}}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Vm(){const n=Sr();cr(ot()[1],n)}function wr(n){let r=function xd(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let c;if(er(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Be(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const y=n;y.inputs=hf(n.inputs),y.declaredInputs=hf(n.declaredInputs),y.outputs=hf(n.outputs);const w=c.hostBindings;w&&ui(n,w);const T=c.viewQuery,k=c.contentQueries;if(T&&Od(n,T),k&&Sv(n,k),me(n.inputs,c.inputs),me(n.declaredInputs,c.declaredInputs),me(n.outputs,c.outputs),er(c)&&c.data.animation){const H=n.data;H.animation=(H.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const w=h[y];w&&w.ngInherit&&w(n),w===wr&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Um(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=da(c.hostAttrs,s=da(s,c.hostAttrs))}}(a)}function hf(n){return n===_r?{}:n===Qt?[]:n}function Od(n,r){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Sv(n,r){const s=n.contentQueries;n.contentQueries=s?(a,c,h)=>{r(a,c,h),s(a,c,h)}:r}function ui(n,r){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}let ff=null;function Ma(){if(!ff){const n=yn.Symbol;if(n&&n.iterator)ff=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(ff=a)}}}return ff}function Tl(n){return!!Yp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ma()in n)}function Yp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ws(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Rd(n,r,s,a,c){const h=function ii(n,r,s,a){const c=Ws(n,r,s);return Ws(n,r+1,a)||c}(n,r,s,a);return Ws(n,r+2,c)||h}function Qp(n,r,s,a){const c=ot();return Ws(c,rn(),r)&&(un(),Aa(it(),c,n,r,s,a)),Qp}function Al(n,r,s,a){return Ws(n,rn(),s)?r+X(s)+a:rr}function Ml(n,r,s,a,c,h,y,w){const k=Rd(n,function j(){return G.lFrame.bindingIndex}(),s,c,y);return Er(3),k?r+X(s)+a+X(c)+h+X(y)+w:rr}function ju(n,r,s,a,c,h,y,w){const T=ot(),k=un(),H=n+22,Q=k.firstCreatePass?function Pv(n,r,s,a,c,h,y,w,T){const k=r.consts,H=Vu(r,n,4,y||null,ei(k,w));Cd(r,s,H,ei(k,T)),cr(r,H);const Q=H.tViews=Xh(2,H,a,c,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,k);return null!==r.queries&&(r.queries.template(r,H),Q.queries=r.queries.embeddedTView(H)),H}(H,k,T,r,s,a,c,h,y):k.data[H];ti(Q,!1);const De=T[11].createComment("");xh(k,T,De,Q),fs(De,T),Dl(T,T[H]=Gp(De,T,De,Q)),zn(Q)&&wd(k,T,Q),null!=y&&Dd(T,Q,w)}function yf(n,r,s){const a=ot();return Ws(a,rn(),r)&&Io(un(),it(),a,n,r,a[11],s,!1),yf}function Fd(n,r,s,a,c){const y=c?"class":"style";Ad(n,s,r.inputs[y],y,a)}function vf(n,r,s,a){const c=ot(),h=un(),y=22+n,w=c[11],T=c[y]=Ru(w,r,function Yn(){return G.lFrame.currentNamespace}()),k=h.firstCreatePass?function Nv(n,r,s,a,c,h,y){const w=r.consts,k=Vu(r,n,2,c,ei(w,h));return Cd(r,s,k,ei(w,y)),null!==k.attrs&&bl(k,k.attrs,!1),null!==k.mergedAttrs&&bl(k,k.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,k),k}(y,h,c,0,r,s,a):h.data[y];ti(k,!0);const H=k.mergedAttrs;null!==H&&Na(w,T,H);const Q=k.classes;null!==Q&&Nh(w,T,Q);const De=k.styles;return null!==De&&Ph(w,T,De),64!=(64&k.flags)&&xh(h,c,T,k),0===function qe(){return G.lFrame.elementDepthCount}()&&fs(T,c),function gt(){G.lFrame.elementDepthCount++}(),zn(k)&&(wd(h,c,k),function Jh(n,r,s){if(bn(r)){const c=r.directiveEnd;for(let h=r.directiveStart;h<c;h++){const y=n.data[h];y.contentQueries&&y.contentQueries(1,s[h],h)}}}(h,k,c)),null!==a&&Dd(c,k),vf}function _f(){let n=Sr();_s()?function Fi(){G.lFrame.isParent=!1}():(n=n.parent,ti(n,!1));const r=n;!function Ct(){G.lFrame.elementDepthCount--}();const s=un();return s.firstCreatePass&&(cr(s,n),bn(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Zu(n){return 0!=(16&n.flags)}(r)&&Fd(s,r,ot(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function jl(n){return 0!=(32&n.flags)}(r)&&Fd(s,r,ot(),r.stylesWithoutHost,!1),_f}function Ld(n,r,s,a){return vf(n,r,s,a),_f(),Ld}function ng(){return ot()}function Vd(n){return!!n&&"function"==typeof n.then}function If(n){return!!n&&"function"==typeof n.subscribe}const Hm=If;function Pl(n,r,s,a){const c=ot(),h=un(),y=Sr();return function Nl(n,r,s,a,c,h,y,w){const T=zn(a),H=n.firstCreatePass&&Kp(n),Q=r[8],De=cf(r);let $e=!0;if(3&a.type||w){const Kt=kr(a,r),gn=w?w(Kt):Kt,Un=De.length,It=w?Kr=>w(Rr(Kr[a.index])):a.index;let Gn=null;if(!w&&T&&(Gn=function Gm(n,r,s,a){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===s&&c[h+1]===a){const w=r[7],T=c[h+2];return w.length>T?w[T]:null}"string"==typeof y&&(h+=2)}return null}(n,r,c,a.index)),null!==Gn)(Gn.__ngLastListenerFn__||Gn).__ngNextListenerFn__=h,Gn.__ngLastListenerFn__=h,$e=!1;else{h=Bd(a,r,Q,h,!1);const Kr=s.listen(gn,c,h);De.push(h,Kr),H&&H.push(c,It,Un,Un+1)}}else h=Bd(a,r,Q,h,!1);const ht=a.outputs;let Rt;if($e&&null!==ht&&(Rt=ht[c])){const Kt=Rt.length;if(Kt)for(let gn=0;gn<Kt;gn+=2){const xi=r[Rt[gn]][Rt[gn+1]].subscribe(h),Yd=De.length;De.push(h,xi),H&&H.push(c,a.index,Yd,-(Yd+1))}}}(h,c,c[11],y,n,r,0,a),Pl}function zm(n,r,s,a){try{return!1!==s(a)}catch(c){return Zp(n,c),!1}}function Bd(n,r,s,a,c){return function h(y){if(y===Function)return a;uf(2&n.flags?Wn(n.index,r):r);let T=zm(r,0,a,y),k=h.__ngNextListenerFn__;for(;k;)T=zm(r,0,k,y)&&T,k=k.__ngNextListenerFn__;return c&&!1===T&&(y.preventDefault(),y.returnValue=!1),T}}function $u(n=1){return function M(n){return(G.lFrame.contextLView=function $(n,r){for(;n>0;)r=r[15],n--;return r}(n,G.lFrame.contextLView))[8]}(n)}function rg(n,r,s){return wf(n,"",r,"",s),rg}function wf(n,r,s,a,c){const h=ot(),y=Al(h,r,s,a);return y!==rr&&Io(un(),it(),h,n,y,h[11],c,!1),wf}function Qm(n,r,s,a,c){const h=n[s+1],y=null===r;let w=a?ia(h):tu(h),T=!1;for(;0!==w&&(!1===T||y);){const H=n[w+1];Fv(n[w],r)&&(T=!0,n[w+1]=a?fd(H):zh(H)),w=a?ia(H):tu(H)}T&&(n[s+1]=a?zh(h):fd(h))}function Fv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&_(n,r)>=0}function cg(n,r){return function jo(n,r,s,a){const c=ot(),h=un(),y=Er(2);h.firstUpdatePass&&function lg(n,r,s,a){const c=n.data;if(null===c[s+1]){const h=c[oe()],y=function iy(n,r){return r>=n.expandoStartIndex}(n,s);(function uy(n,r){return 0!=(n.flags&(r?16:32))})(h,a)&&null===r&&!y&&(r=!1),r=function jv(n,r,s,a){const c=function Xs(n){const r=G.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=$d(s=hg(null,n,r,s,a),r.attrs,a),h=null);else{const y=r.directiveStylingLast;if(-1===y||n[y]!==c)if(s=hg(c,n,r,s,a),null===h){let T=function Ll(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==tu(a))return n[ia(a)]}(n,r,a);void 0!==T&&Array.isArray(T)&&(T=hg(null,n,r,T[1],a),T=$d(T,r.attrs,a),function dg(n,r,s,a){n[ia(s?r.classBindings:r.styleBindings)]=a}(n,r,a,T))}else h=function $v(n,r,s){let a;const c=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<c;h++)a=$d(a,n[h].hostAttrs,s);return $d(a,r.attrs,s)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(c,h,r,a),function kv(n,r,s,a,c,h){let y=h?r.classBindings:r.styleBindings,w=ia(y),T=tu(y);n[a]=s;let H,k=!1;if(Array.isArray(s)){const Q=s;H=Q[1],(null===H||_(Q,H)>0)&&(k=!0)}else H=s;if(c)if(0!==T){const De=ia(n[w+1]);n[a+1]=vl(De,w),0!==De&&(n[De+1]=hd(n[De+1],a)),n[w+1]=function mm(n,r){return 131071&n|r<<17}(n[w+1],a)}else n[a+1]=vl(w,0),0!==w&&(n[w+1]=hd(n[w+1],a)),w=a;else n[a+1]=vl(T,0),0===w?w=a:n[T+1]=hd(n[T+1],a),T=a;k&&(n[a+1]=zh(n[a+1])),Qm(n,H,a,!0),Qm(n,H,a,!1),function Ym(n,r,s,a,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&_(h,r)>=0&&(s[a+1]=fd(s[a+1]))}(r,H,n,a,h),y=vl(w,T),h?r.classBindings=y:r.styleBindings=y}(c,h,r,s,y,a)}}(h,n,y,a),r!==rr&&Ws(c,y,r)&&function oy(n,r,s,a,c,h,y,w){if(!(3&r.type))return;const T=n.data,k=T[w+1];fg(function ym(n){return 1==(1&n)}(k)?zv(T,r,s,c,tu(k),y):void 0)||(fg(h)||function gm(n){return 2==(2&n)}(k)&&(h=zv(T,null,s,c,w,y)),function rp(n,r,s,a,c){if(r)c?n.addClass(s,a):n.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:ba.DashCase;null==c?n.removeStyle(s,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=ba.Important),n.setStyle(s,a,c,h))}}(a,y,Ai(oe(),s),c,h))}(h,h.data[oe()],c,c[11],n,c[y+1]=function ay(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=we(vo(n)))),n}(r,s),a,y)}(n,r,null,!0),cg}function hg(n,r,s,a,c){let h=null;const y=s.directiveEnd;let w=s.directiveStylingLast;for(-1===w?w=s.directiveStart:w++;w<y&&(h=r[w],a=$d(a,h.hostAttrs,c),h!==n);)w++;return null!==n&&(s.directiveStylingLast=w),a}function $d(n,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let h=0;h<r.length;h++){const y=r[h];"number"==typeof y?c=y:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),nr(n,y,!!s||r[++h]))}return void 0===n?null:n}function zv(n,r,s,a,c,h){const y=null===r;let w;for(;c>0;){const T=n[c],k=Array.isArray(T),H=k?T[1]:T,Q=null===H;let De=s[c+1];De===rr&&(De=Q?Qt:void 0);let $e=Q?Xu(De,a):H===a?De:void 0;if(k&&!fg($e)&&($e=Xu(T,a)),fg($e)&&(w=$e,y))return w;const ht=n[c+1];c=y?ia(ht):tu(ht)}if(null!==r){let T=h?r.residualClasses:r.residualStyles;null!=T&&(w=Xu(T,a))}return w}function fg(n){return void 0!==n}function cy(n,r=""){const s=ot(),a=un(),c=n+22,h=a.firstCreatePass?Vu(a,c,1,r,null):a.data[c],y=s[c]=function Ah(n,r){return n.createText(r)}(s[11],r);xh(a,s,y,h),ti(h,!1)}function Hd(n){return Gd("",n,""),Hd}function Gd(n,r,s){const a=ot(),c=Al(a,n,r,s);return c!==rr&&ao(a,oe(),c),Gd}function Ac(n,r,s,a,c,h,y){const w=ot(),T=Ml(w,n,r,s,a,c,h,y);return T!==rr&&ao(w,oe(),T),Ac}const au=void 0;var Dy=["en",[["a","p"],["AM","PM"],au],[["AM","PM"],au,au],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],au,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],au,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",au,"{1} 'at' {0}",au],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qv(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Oc={};function Eg(n){const r=function by(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Cy(r);if(s)return s;const a=r.split("-")[0];if(s=Cy(a),s)return s;if("en"===a)return Dy;throw new Be(701,!1)}function Ig(n){return Eg(n)[Fn.PluralCase]}function Cy(n){return n in Oc||(Oc[n]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[n]),Oc[n]}var Fn=(()=>((Fn=Fn||{})[Fn.LocaleId=0]="LocaleId",Fn[Fn.DayPeriodsFormat=1]="DayPeriodsFormat",Fn[Fn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Fn[Fn.DaysFormat=3]="DaysFormat",Fn[Fn.DaysStandalone=4]="DaysStandalone",Fn[Fn.MonthsFormat=5]="MonthsFormat",Fn[Fn.MonthsStandalone=6]="MonthsStandalone",Fn[Fn.Eras=7]="Eras",Fn[Fn.FirstDayOfWeek=8]="FirstDayOfWeek",Fn[Fn.WeekendRange=9]="WeekendRange",Fn[Fn.DateFormat=10]="DateFormat",Fn[Fn.TimeFormat=11]="TimeFormat",Fn[Fn.DateTimeFormat=12]="DateTimeFormat",Fn[Fn.NumberSymbols=13]="NumberSymbols",Fn[Fn.NumberFormats=14]="NumberFormats",Fn[Fn.CurrencyCode=15]="CurrencyCode",Fn[Fn.CurrencySymbol=16]="CurrencySymbol",Fn[Fn.CurrencyName=17]="CurrencyName",Fn[Fn.Currencies=18]="Currencies",Fn[Fn.Directionality=19]="Directionality",Fn[Fn.PluralCase=20]="PluralCase",Fn[Fn.ExtraData=21]="ExtraData",Fn))();const e="en-US";let D=e;function t_(n,r,s,a,c){if(n=he(n),Array.isArray(n))for(let h=0;h<n.length;h++)t_(n[h],r,s,a,c);else{const h=un(),y=ot();let w=Da(n)?n:he(n.provide),T=rl(n);const k=Sr(),H=1048575&k.providerIndexes,Q=k.directiveStart,De=k.providerIndexes>>20;if(Da(n)||!n.multi){const $e=new xs(T,c,ku),ht=r_(w,r,c?H:H+De,Q);-1===ht?(La(Ye(k,y),h,w),n_(h,n,r.length),r.push(w),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),s.push($e),y.push($e)):(s[ht]=$e,y[ht]=$e)}else{const $e=r_(w,r,H+De,Q),ht=r_(w,r,H,H+De),Rt=$e>=0&&s[$e],Kt=ht>=0&&s[ht];if(c&&!Kt||!c&&!Rt){La(Ye(k,y),h,w);const gn=function MI(n,r,s,a,c){const h=new xs(n,s,ku);return h.multi=[],h.index=r,h.componentProviders=0,_0(h,c,a&&!s),h}(c?SI:AI,s.length,c,a,T);!c&&Kt&&(s[ht].providerFactory=gn),n_(h,n,r.length,0),r.push(w),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),s.push(gn),y.push(gn)}else n_(h,n,$e>-1?$e:ht,_0(s[c?ht:$e],T,!c&&a));!c&&a&&Kt&&s[ht].componentProviders++}}}function n_(n,r,s,a){const c=Da(r),h=function yh(n){return!!n.useClass}(r);if(c||h){const T=(h?he(r.useClass):r).prototype.ngOnDestroy;if(T){const k=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const H=k.indexOf(s);-1===H?k.push(s,[a,T]):k[H+1].push(a,T)}else k.push(s,T)}}}function _0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function r_(n,r,s,a){for(let c=s;c<a;c++)if(r[c]===n)return c;return-1}function AI(n,r,s,a){return i_(this.multi,[])}function SI(n,r,s,a){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=ma(s,s[1],this.providerFactory.index,a);h=w.slice(0,y),i_(c,h);for(let T=y;T<w.length;T++)h.push(w[T])}else h=[],i_(c,h);return h}function i_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function E0(n,r=[]){return s=>{s.providersResolver=(a,c)=>function TI(n,r,s){const a=un();if(a.firstCreatePass){const c=er(n);t_(s,a.data,a.blueprint,c,!0),t_(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class Tf{}class I0{}function xI(n,r){return new w0(n,r??null)}class w0 extends Tf{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new df(this);const a=Zt(r);this._bootstrapComponents=zs(a.bootstrap),this._r3Injector=pp(r,s,[{provide:Tf,useValue:this},{provide:f,useValue:this.componentFactoryResolver}],we(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class s_ extends I0{constructor(r){super(),this.moduleType=r}create(r){return new w0(this.moduleType,r)}}class OI extends Tf{constructor(r,s,a){super(),this.componentFactoryResolver=new df(this),this.instance=null;const c=new hc([...r,{provide:Tf,useValue:this},{provide:f,useValue:this.componentFactoryResolver}],s||nl(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function o_(n,r,s=null){return new OI(n,r,s).injector}let RI=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=wa(0,s.type),c=a.length>0?o_([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,c)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Dn({token:n,providedIn:"environment",factory:()=>new n(_i(ri))}),n})();function D0(n){n.getStandaloneInjector=r=>r.get(RI).getOrCreateStandaloneInjector(n)}function u_(n){return r=>{setTimeout(n,void 0,r)}}const Wu=class iw extends p.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,h=s||(()=>null),y=a;if(r&&"object"==typeof r){const T=r;c=T.next?.bind(T),h=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(h=u_(h),c&&(c=u_(c)),y&&(y=u_(y)));const w=super.subscribe({next:c,error:h,complete:y});return r instanceof U.w0&&r.add(w),w}};function sw(){return this._results[Ma()]()}class c_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Ma(),a=c_.prototype;a[s]||(a[s]=sw)}get changes(){return this._changes||(this._changes=new Wu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=Cs(r);(this._changesDetected=!function Os(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],h=r[a];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sg=(()=>{class n{}return n.__NG_ELEMENT_ID__=uw,n})();const ow=Sg,aw=class extends ow{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,c=Qh(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);c[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(c[19]=y.createEmbeddedView(a)),kp(a,c,r),new Sd(c)}};function uw(){return Ay(Sr(),ot())}function Ay(n,r){return 4&n.type?new aw(r,n,F(n,r)):null}let Sy=(()=>{class n{}return n.__NG_ELEMENT_ID__=cw,n})();function cw(){return L0(Sr(),ot())}const lw=Sy,k0=class extends lw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return F(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const r=Fa(this._hostTNode,this._hostLView);if(xo(r)){const s=ka(r,this._hostLView),a=ws(r);return new No(s[1].data[a+8],s)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=F0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const y=r.createEmbeddedView(s||{},h);return this.insert(y,c),y}createComponent(r,s,a,c,h){const y=r&&!function ls(n){return"function"==typeof n}(r);let w;if(y)w=s;else{const Q=s||{};w=Q.index,a=Q.injector,c=Q.projectableNodes,h=Q.environmentInjector||Q.ngModuleRef}const T=y?r:new Md(et(r)),k=a||this.parentInjector;if(!h&&null==T.ngModule){const De=(y?k:this.parentInjector).get(ri,null);De&&(h=De)}const H=T.create(k,c,void 0,h);return this.insert(H.hostView,w),H}insert(r,s){const a=r._lView,c=a[1];if(function Ss(n){return xt(n[3])}(a)){const H=this.indexOf(r);if(-1!==H)this.detach(H);else{const Q=a[3],De=new k0(Q,Q[6],Q[3]);De.detach(De.indexOf(r))}}const h=this._adjustIndex(s),y=this._lContainer;!function Zy(n,r,s,a){const c=10+a,h=s.length;a>0&&(s[c-1][4]=r),a<h-10?(r[4]=s[c],kc(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const y=r[17];null!==y&&s!==y&&function qy(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(y,r);const w=r[19];null!==w&&w.insertView(n),r[2]|=64}(c,a,y,h);const w=fl(h,y),T=a[11],k=Sh(T,y[7]);return null!==k&&function Pu(n,r,s,a,c,h){a[0]=c,a[6]=r,Ec(n,a,s,1,c,h)}(c,y[6],T,a,k,w),r.attachToViewContainerRef(),kc(l_(y),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=F0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=hl(this._lContainer,s);a&&(va(l_(this._lContainer),s),Yf(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=hl(this._lContainer,s);return a&&null!=va(l_(this._lContainer),s)?new Sd(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function F0(n){return n[8]}function l_(n){return n[8]||(n[8]=[])}function L0(n,r){let s;const a=r[n.index];if(xt(a))s=a;else{let c;if(8&n.type)c=Rr(a);else{const h=r[11];c=h.createComment("");const y=kr(n,r);ra(h,Sh(h,y),c,function Xy(n,r){return n.nextSibling(r)}(h,y),!1)}r[n.index]=s=Gp(a,r,c,n),Dl(r,s)}return new k0(s,n,r)}class d_{constructor(r){this.queryList=r,this.matches=null}clone(){return new d_(this.queryList)}setDirty(){this.queryList.setDirty()}}class h_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let h=0;h<a;h++){const y=s.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new h_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==z0(r,s).matches&&this.queries[s].setDirty()}}class V0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class f_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,c);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new f_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class p_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new p_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(r,s,fw(s,h)),this.matchTNodeWithReadOption(r,s,Po(s,r,h,!1,!1))}else a===Sg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Po(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===z||c===Sy||c===Sg&&4&s.type)this.addMatch(s.index,-2);else{const h=Po(s,r,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function fw(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function gw(n,r,s,a){return-1===s?function pw(n,r){return 11&n.type?F(n,r):4&n.type?Ay(n,r):null}(r,n):-2===s?function mw(n,r,s){return s===z?F(r,n):s===Sg?Ay(r,n):s===Sy?L0(r,n):void 0}(n,r,a):ma(n,n[1],s,r)}function U0(n,r,s,a){const c=r[19].queries[a];if(null===c.matches){const h=n.data,y=s.matches,w=[];for(let T=0;T<y.length;T+=2){const k=y[T];w.push(k<0?null:gw(r,h[k],y[T+1],s.metadata.read))}c.matches=w}return c.matches}function g_(n,r,s,a){const c=n.queries.getByIndex(s),h=c.matches;if(null!==h){const y=U0(n,r,c,s);for(let w=0;w<h.length;w+=2){const T=h[w];if(T>0)a.push(y[w/2]);else{const k=h[w+1],H=r[-T];for(let Q=10;Q<H.length;Q++){const De=H[Q];De[17]===De[3]&&g_(De[1],De,k,a)}if(null!==H[9]){const Q=H[9];for(let De=0;De<Q.length;De++){const $e=Q[De];g_($e[1],$e,k,a)}}}}}return a}function B0(n){const r=ot(),s=un(),a=$s();bo(a+1);const c=z0(s,a);if(n.dirty&&function Vs(n){return 4==(4&n[2])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?g_(s,r,a,[]):U0(s,r,c,a);n.reset(h,Ae),n.notifyOnChanges()}return!0}return!1}function j0(n,r,s,a){const c=un();if(c.firstCreatePass){const h=Sr();(function G0(n,r,s){null===n.queries&&(n.queries=new f_),n.queries.track(new p_(r,s))})(c,new V0(r,s,a),h.index),function _w(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}!function H0(n,r,s){const a=new c_(4==(4&s));Ta(n,r,a,a.destroy),null===r[19]&&(r[19]=new h_),r[19].queries.push(new d_(a))}(c,ot(),s)}function $0(){return function vw(n,r){return n[19].queries[r].queryList}(ot(),$s())}function z0(n,r){return n.queries.getByIndex(r)}function xy(...n){}const lE=new Cr("Application Initializer");let Oy=(()=>{class n{constructor(s){this.appInits=s,this.resolve=xy,this.reject=xy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Vd(h))s.push(h);else if(Hm(h)){const y=new Promise((w,T)=>{h.subscribe({complete:w,error:T})});s.push(y)}}Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(_i(lE,8))},n.\u0275prov=Dn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dE=new Cr("AppId",{providedIn:"root",factory:function hE(){return`${E_()}${E_()}${E_()}`}});function E_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fE=new Cr("Platform Initializer"),Bw=new Cr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),pE=new Cr("appBootstrapListener");let jw=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Dn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ry=new Cr("LocaleId",{providedIn:"root",factory:()=>gu(Ry,bt.Optional|bt.SkipSelf)||function $w(){return typeof $localize<"u"&&$localize.locale||e}()}),Hw=new Cr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Gw{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let zw=(()=>{class n{compileModuleSync(s){return new s_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=zs(Zt(s).declarations).reduce((y,w)=>{const T=et(w);return T&&y.push(new Md(T)),y},[]);return new Gw(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Dn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zw=(()=>Promise.resolve(0))();function I_(n){typeof Zone>"u"?Zw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ra{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wu(!1),this.onMicrotaskEmpty=new Wu(!1),this.onStable=new Wu(!1),this.onError=new Wu(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function qw(){let n=yn.requestAnimationFrame,r=yn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Jw(n){const r=()=>{!function Qw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(yn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,D_(n),n.isCheckStableRunning=!0,w_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),D_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,h,y,w)=>{try{return yE(n),s.invokeTask(c,h,y,w)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),vE(n)}},onInvoke:(s,a,c,h,y,w,T)=>{try{return yE(n),s.invoke(c,h,y,w,T)}finally{n.shouldCoalesceRunChangeDetection&&r(),vE(n)}},onHasTask:(s,a,c,h)=>{s.hasTask(c,h),a===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,D_(n),w_(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,c,h)=>(s.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ra.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(Ra.isInAngularZone())throw new Be(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,r,Yw,xy,xy);try{return h.runTask(y,s,a)}finally{h.cancelTask(y)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Yw={};function w_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function D_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function yE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vE(n){n._nesting--,w_(n)}class Xw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wu,this.onMicrotaskEmpty=new Wu,this.onStable=new Wu,this.onError=new Wu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const _E=new Cr(""),EE=new Cr("");let C_,eD=(()=>{class n{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,C_||(function tD(n){C_=n}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ra.assertNotInAngularZone(),I_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())I_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(_i(Ra),_i(IE),_i(EE))},n.\u0275prov=Dn({token:n,factory:n.\u0275fac}),n})(),IE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return C_?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Dn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Bl=null;const wE=new Cr("AllowMultipleToken"),b_=new Cr("PlatformDestroyListeners");class iD{constructor(r,s){this.name=r,this.token=s}}function CE(n,r,s=[]){const a=`Platform: ${r}`,c=new Cr(a);return(h=[])=>{let y=T_();if(!y||y.injector.get(wE,!1)){const w=[...s,...h,{provide:c,useValue:!0}];n?n(w):function sD(n){if(Bl&&!Bl.get(wE,!1))throw new Be(400,!1);Bl=n;const r=n.get(TE);(function DE(n){const r=n.get(fE,null);r&&r.forEach(s=>s())})(n)}(function bE(n=[],r){return wc.create({name:r,providers:[{provide:Xl,useValue:"platform"},{provide:b_,useValue:new Set([()=>Bl=null])},...n]})}(w,a))}return function aD(n){const r=T_();if(!r)throw new Be(401,!1);return r}()}}function T_(){return Bl?.get(TE)??null}let TE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function SE(n,r){let s;return s="noop"===n?new Xw:("zone.js"===n?void 0:n)||new Ra(r),s}(a?.ngZone,function AE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:Ra,useValue:c}];return c.run(()=>{const y=wc.create({providers:h,parent:this.injector,name:s.moduleType.name}),w=s.create(y),T=w.injector.get(ol,null);if(!T)throw new Be(402,!1);return c.runOutsideAngular(()=>{const k=c.onError.subscribe({next:H=>{T.handleError(H)}});w.onDestroy(()=>{Ny(this._modules,w),k.unsubscribe()})}),function ME(n,r,s){try{const a=s();return Vd(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(T,c,()=>{const k=w.injector.get(Oy);return k.runInitializers(),k.donePromise.then(()=>(function N(n){Ht(n,"Expected localeId to be defined"),"string"==typeof n&&(D=n.toLowerCase().replace(/_/g,"-"))}(w.injector.get(Ry,e)||e),this._moduleDoBootstrap(w),w))})})}bootstrapModule(s,a=[]){const c=xE({},a);return function nD(n,r,s){const a=new s_(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const a=s.injector.get(Py);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Be(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(b_,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(_i(wc))},n.\u0275prov=Dn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function xE(n,r){return Array.isArray(r)?r.reduce(xE,n):{...n,...r}}let Py=(()=>{class n{constructor(s,a,c){this._zone=s,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new S.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new S.y(w=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Ra.assertNotInAngularZone(),I_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Ra.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{T.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ae.T)(h,y.pipe((0,ge.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Au;if(!this._injector.get(Oy).done)throw!c&&zt(s),new Be(405,false);let y;y=c?s:this._injector.get(f).resolveComponentFactory(s),this.componentTypes.push(y.componentType);const w=function rD(n){return n.isBoundToModule}(y)?void 0:this._injector.get(Tf),k=y.create(wc.NULL,[],a||y.selector,w),H=k.location.nativeElement,Q=k.injector.get(_E,null);return Q?.registerApplication(H),k.onDestroy(()=>{this.detachView(k.hostView),Ny(this.components,k),Q?.unregisterApplication(H)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Ny(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(pE,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Ny(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Be(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(_i(Ra),_i(ri),_i(ol))},n.\u0275prov=Dn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ny(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let RE=!0,PE=!1;function cD(){return PE=!0,RE}function lD(){if(PE)throw new Error("Cannot enable prod mode after platform setup.");RE=!1}let dD=(()=>{class n{}return n.__NG_ELEMENT_ID__=hD,n})();function hD(n){return function fD(n,r,s){if(Dr(n)&&!s){const a=Wn(n.index,r);return new Sd(a,a)}return 47&n.type?new Sd(r[16],r):null}(Sr(),ot(),16==(16&n))}class LE{constructor(){}supports(r){return Tl(r)}create(r){return new _D(r)}}const vD=(n,r)=>r;class _D{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,h=null;for(;s||a;){const y=!a||s&&s.currentIndex<UE(a,c,h)?s:a,w=UE(y,c,h),T=y.currentIndex;if(y===a)c--,a=a._nextRemoved;else if(s=s._next,null==y.previousIndex)c++;else{h||(h=[]);const k=w-c,H=T-c;if(k!=H){for(let De=0;De<k;De++){const $e=De<h.length?h[De]:h[De]=0,ht=$e+De;H<=ht&&ht<k&&(h[De]=$e+1)}h[y.previousIndex]=H-k}}w!==T&&r(y,w,T)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Tl(r))throw new Be(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,h,y,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let w=0;w<this.length;w++)h=r[w],y=this._trackByFn(w,h),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,h,y,w)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,y,w),a=!0),s=s._next}else c=0,function qp(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Ma()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,w=>{y=this._trackByFn(c,w),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,w,y,c)),Object.is(s.item,w)||this._addIdentityChange(s,w)):(s=this._mismatch(s,w,y,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,c)):r=this._addAfter(new ED(s,a),h,c),r}_verifyReinsertion(r,s,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,h=r._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new VE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class ED{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ID{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class VE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new ID,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UE(n,r,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class BE{constructor(){}supports(r){return r instanceof Map||Yp(r)}create(){return new wD}}class wD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Yp(r)))throw new Be(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const a=new DD(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class DD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jE(){return new O_([new LE])}let O_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||jE()),deps:[[n,new Ea,new qo]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new Be(901,!1)}}return n.\u0275prov=Dn({token:n,providedIn:"root",factory:jE}),n})();function $E(){return new R_([new BE])}let R_=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||$E()),deps:[[n,new Ea,new qo]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Be(901,!1)}}return n.\u0275prov=Dn({token:n,providedIn:"root",factory:$E}),n})();const TD=CE(null,"core",[]);let AD=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(_i(Py))},n.\u0275mod=Lt({type:n}),n.\u0275inj=qt({}),n})();function SD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(Mt,ke,P)=>{P.d(ke,{Fj:()=>ve,u5:()=>_n,JJ:()=>Cn,JL:()=>ln,F:()=>yt,On:()=>Fs,_Y:()=>gs});var p=P(4650),U=P(6895),S=P(8996),ae=P(9751),ge=P(4742),pe=P(8421),me=P(7669),we=P(5403),Ee=P(3268),ne=P(1810),he=P(4004);let Ue=(()=>{class R{constructor(A,j){this._renderer=A,this._elementRef=j,this.onChange=Je=>{},this.onTouched=()=>{}}setProperty(A,j){this._renderer.setProperty(this._elementRef.nativeElement,A,j)}registerOnTouched(A){this.onTouched=A}registerOnChange(A){this.onChange=A}setDisabledState(A){this.setProperty("disabled",A)}}return R.\u0275fac=function(A){return new(A||R)(p.Y36(p.Qsj),p.Y36(p.SBq))},R.\u0275dir=p.lG2({type:R}),R})(),Ne=(()=>{class R extends Ue{}return R.\u0275fac=function(){let x;return function(j){return(x||(x=p.n5z(R)))(j||R)}}(),R.\u0275dir=p.lG2({type:R,features:[p.qOj]}),R})();const Be=new p.OlP("NgValueAccessor"),Fe={provide:Be,useExisting:(0,p.Gpc)(()=>ve),multi:!0},Et=new p.OlP("CompositionEventMode");let ve=(()=>{class R extends Ue{constructor(A,j,Je){super(A,j),this._compositionMode=Je,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Nt(){const R=(0,U.q)()?(0,U.q)().getUserAgent():"";return/android (\d+)/.test(R.toLowerCase())}())}writeValue(A){this.setProperty("value",A??"")}_handleInput(A){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(A)}_compositionStart(){this._composing=!0}_compositionEnd(A){this._composing=!1,this._compositionMode&&this.onChange(A)}}return R.\u0275fac=function(A){return new(A||R)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Et,8))},R.\u0275dir=p.lG2({type:R,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(A,j){1&A&&p.NdJ("input",function(rn){return j._handleInput(rn.target.value)})("blur",function(){return j.onTouched()})("compositionstart",function(){return j._compositionStart()})("compositionend",function(rn){return j._compositionEnd(rn.target.value)})},features:[p._Bn([Fe]),p.qOj]}),R})();const je=new p.OlP("NgValidators"),Z=new p.OlP("NgAsyncValidators");function Gt(R){return null!=R}function In(R){return(0,p.QGY)(R)?(0,S.D)(R):R}function Rn(R){let x={};return R.forEach(A=>{x=null!=A?{...x,...A}:x}),0===Object.keys(x).length?null:x}function Dn(R,x){return x.map(A=>A(R))}function qt(R){return R.map(x=>function fr(R){return!R.validate}(x)?x:A=>x.validate(A))}function Br(R){return null!=R?function Xt(R){if(!R)return null;const x=R.filter(Gt);return 0==x.length?null:function(A){return Rn(Dn(A,x))}}(qt(R)):null}function Qn(R){return null!=R?function sr(R){if(!R)return null;const x=R.filter(Gt);return 0==x.length?null:function(A){return function re(...R){const x=(0,me.jO)(R),{args:A,keys:j}=(0,ge.D)(R),Je=new ae.y(rn=>{const{length:Er}=A;if(!Er)return void rn.complete();const Wi=new Array(Er);let Li=Er,ts=Er;for(let Js=0;Js<Er;Js++){let js=!1;(0,pe.Xf)(A[Js]).subscribe((0,we.x)(rn,Xs=>{js||(js=!0,ts--),Wi[Js]=Xs},()=>Li--,void 0,()=>{(!Li||!js)&&(ts||rn.next(j?(0,ne.n)(j,Wi):Wi),rn.complete())}))}});return x?Je.pipe((0,Ee.Z)(x)):Je}(Dn(A,x).map(In)).pipe((0,he.U)(Rn))}}(qt(R)):null}function Ln(R,x){return null===R?[x]:Array.isArray(R)?[...R,x]:[R,x]}function wn(R){return R?Array.isArray(R)?R:[R]:[]}function $n(R,x){return Array.isArray(R)?R.includes(x):R===x}function ir(R,x){const A=wn(x);return wn(R).forEach(Je=>{$n(A,Je)||A.push(Je)}),A}function bt(R,x){return wn(x).filter(A=>!$n(R,A))}class Zn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=Br(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=Qn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x){this.control&&this.control.reset(x)}hasError(x,A){return!!this.control&&this.control.hasError(x,A)}getError(x,A){return this.control?this.control.getError(x,A):null}}class Mn extends Zn{get formDirective(){return null}get path(){return null}}class Vn extends Zn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tr{constructor(x){this._cd=x}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cn=(()=>{class R extends Tr{constructor(A){super(A)}}return R.\u0275fac=function(A){return new(A||R)(p.Y36(Vn,2))},R.\u0275dir=p.lG2({type:R,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(A,j){2&A&&p.ekj("ng-untouched",j.isUntouched)("ng-touched",j.isTouched)("ng-pristine",j.isPristine)("ng-dirty",j.isDirty)("ng-valid",j.isValid)("ng-invalid",j.isInvalid)("ng-pending",j.isPending)},features:[p.qOj]}),R})(),ln=(()=>{class R extends Tr{constructor(A){super(A)}}return R.\u0275fac=function(A){return new(A||R)(p.Y36(Mn,10))},R.\u0275dir=p.lG2({type:R,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(A,j){2&A&&p.ekj("ng-untouched",j.isUntouched)("ng-touched",j.isTouched)("ng-pristine",j.isPristine)("ng-dirty",j.isDirty)("ng-valid",j.isValid)("ng-invalid",j.isInvalid)("ng-pending",j.isPending)("ng-submitted",j.isSubmitted)},features:[p.qOj]}),R})();const Lt="VALID",Nn="INVALID",mn="PENDING",Pe="DISABLED";function Ge(R){return(zt(R)?R.validators:R)||null}function et(R){return Array.isArray(R)?Br(R):R||null}function pt(R,x){return(zt(x)?x.asyncValidators:R)||null}function Dt(R){return Array.isArray(R)?Qn(R):R||null}function zt(R){return null!=R&&!Array.isArray(R)&&"object"==typeof R}class te{constructor(x,A){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=x,this._rawAsyncValidators=A,this._composedValidatorFn=et(this._rawValidators),this._composedAsyncValidatorFn=Dt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get valid(){return this.status===Lt}get invalid(){return this.status===Nn}get pending(){return this.status==mn}get disabled(){return this.status===Pe}get enabled(){return this.status!==Pe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._rawValidators=x,this._composedValidatorFn=et(x)}setAsyncValidators(x){this._rawAsyncValidators=x,this._composedAsyncValidatorFn=Dt(x)}addValidators(x){this.setValidators(ir(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(ir(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(bt(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(bt(x,this._rawAsyncValidators))}hasValidator(x){return $n(this._rawValidators,x)}hasAsyncValidator(x){return $n(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){this.touched=!0,this._parent&&!x.onlySelf&&this._parent.markAsTouched(x)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(x=>x.markAllAsTouched())}markAsUntouched(x={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(A=>{A.markAsUntouched({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}markAsDirty(x={}){this.pristine=!1,this._parent&&!x.onlySelf&&this._parent.markAsDirty(x)}markAsPristine(x={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(A=>{A.markAsPristine({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}markAsPending(x={}){this.status=mn,!1!==x.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!x.onlySelf&&this._parent.markAsPending(x)}disable(x={}){const A=this._parentMarkedDirty(x.onlySelf);this.status=Pe,this.errors=null,this._forEachChild(j=>{j.disable({...x,onlySelf:!0})}),this._updateValue(),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...x,skipPristineCheck:A}),this._onDisabledChange.forEach(j=>j(!0))}enable(x={}){const A=this._parentMarkedDirty(x.onlySelf);this.status=Lt,this._forEachChild(j=>{j.enable({...x,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors({...x,skipPristineCheck:A}),this._onDisabledChange.forEach(j=>j(!1))}_updateAncestors(x){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(x){this._parent=x}getRawValue(){return this.value}updateValueAndValidity(x={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lt||this.status===mn)&&this._runAsyncValidator(x.emitEvent)),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity(x)}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(A=>A._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pe:Lt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x){if(this.asyncValidator){this.status=mn,this._hasOwnPendingAsyncValidator=!0;const A=In(this.asyncValidator(this));this._asyncValidationSubscription=A.subscribe(j=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(j,{emitEvent:x})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(x,A={}){this.errors=x,this._updateControlsErrors(!1!==A.emitEvent)}get(x){let A=x;return null==A||(Array.isArray(A)||(A=A.split(".")),0===A.length)?null:A.reduce((j,Je)=>j&&j._find(Je),this)}getError(x,A){const j=A?this.get(A):this;return j&&j.errors?j.errors[x]:null}hasError(x,A){return!!this.getError(x,A)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(x)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Pe:this.errors?Nn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mn)?mn:this._anyControlsHaveStatus(Nn)?Nn:Lt}_anyControlsHaveStatus(x){return this._anyControls(A=>A.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x={}){this.pristine=!this._anyControlsDirty(),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}_updateTouched(x={}){this.touched=this._anyControlsTouched(),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){zt(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(x){return null}}class J extends te{constructor(x,A,j){super(Ge(A),pt(j,A)),this.controls=x,this._initObservables(),this._setUpdateStrategy(A),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,A){return this.controls[x]?this.controls[x]:(this.controls[x]=A,A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange),A)}addControl(x,A,j={}){this.registerControl(x,A),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}removeControl(x,A={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:A.emitEvent}),this._onCollectionChange()}setControl(x,A,j={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],A&&this.registerControl(x,A),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,A={}){(function dn(R,x,A){R._forEachChild((j,Je)=>{if(void 0===A[Je])throw new p.vHH(1002,"")})})(this,0,x),Object.keys(x).forEach(j=>{(function Zt(R,x,A){const j=R.controls;if(!(x?Object.keys(j):j).length)throw new p.vHH(1e3,"");if(!j[A])throw new p.vHH(1001,"")})(this,!0,j),this.controls[j].setValue(x[j],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A)}patchValue(x,A={}){null!=x&&(Object.keys(x).forEach(j=>{const Je=this.controls[j];Je&&Je.patchValue(x[j],{onlySelf:!0,emitEvent:A.emitEvent})}),this.updateValueAndValidity(A))}reset(x={},A={}){this._forEachChild((j,Je)=>{j.reset(x[Je],{onlySelf:!0,emitEvent:A.emitEvent})}),this._updatePristine(A),this._updateTouched(A),this.updateValueAndValidity(A)}getRawValue(){return this._reduceChildren({},(x,A,j)=>(x[j]=A.getRawValue(),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(A,j)=>!!j._syncPendingControls()||A);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_forEachChild(x){Object.keys(this.controls).forEach(A=>{const j=this.controls[A];j&&x(j,A)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const[A,j]of Object.entries(this.controls))if(this.contains(A)&&x(j))return!0;return!1}_reduceValue(){return this._reduceChildren({},(A,j,Je)=>((j.enabled||this.disabled)&&(A[Je]=j.value),A))}_reduceChildren(x,A){let j=x;return this._forEachChild((Je,rn)=>{j=A(j,Je,rn)}),j}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(x){return this.controls.hasOwnProperty(x)?this.controls[x]:null}}function vn(R,x){de(R,x),x.valueAccessor.writeValue(R.value),R.disabled&&x.valueAccessor.setDisabledState?.(!0),function rt(R,x){x.valueAccessor.registerOnChange(A=>{R._pendingValue=A,R._pendingChange=!0,R._pendingDirty=!0,"change"===R.updateOn&&Bt(R,x)})}(R,x),function pn(R,x){const A=(j,Je)=>{x.valueAccessor.writeValue(j),Je&&x.viewToModelUpdate(j)};R.registerOnChange(A),x._registerOnDestroy(()=>{R._unregisterOnChange(A)})}(R,x),function Tt(R,x){x.valueAccessor.registerOnTouched(()=>{R._pendingTouched=!0,"blur"===R.updateOn&&R._pendingChange&&Bt(R,x),"submit"!==R.updateOn&&R.markAsTouched()})}(R,x),function ct(R,x){if(x.valueAccessor.setDisabledState){const A=j=>{x.valueAccessor.setDisabledState(j)};R.registerOnDisabledChange(A),x._registerOnDestroy(()=>{R._unregisterOnDisabledChange(A)})}}(R,x)}function en(R,x){R.forEach(A=>{A.registerOnValidatorChange&&A.registerOnValidatorChange(x)})}function de(R,x){const A=function mr(R){return R._rawValidators}(R);null!==x.validator?R.setValidators(Ln(A,x.validator)):"function"==typeof A&&R.setValidators([A]);const j=function Ft(R){return R._rawAsyncValidators}(R);null!==x.asyncValidator?R.setAsyncValidators(Ln(j,x.asyncValidator)):"function"==typeof j&&R.setAsyncValidators([j]);const Je=()=>R.updateValueAndValidity();en(x._rawValidators,Je),en(x._rawAsyncValidators,Je)}function Bt(R,x){R._pendingDirty&&R.markAsDirty(),R.setValue(R._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(R._pendingValue),R._pendingChange=!1}const Ve={provide:Mn,useExisting:(0,p.Gpc)(()=>yt)},nt=(()=>Promise.resolve())();let yt=(()=>{class R extends Mn{constructor(A,j){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new p.vpe,this.form=new J({},Br(A),Qn(j))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(A){nt.then(()=>{const j=this._findContainer(A.path);A.control=j.registerControl(A.name,A.control),vn(A.control,A),A.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(A)})}getControl(A){return this.form.get(A.path)}removeControl(A){nt.then(()=>{const j=this._findContainer(A.path);j&&j.removeControl(A.name),this._directives.delete(A)})}addFormGroup(A){nt.then(()=>{const j=this._findContainer(A.path),Je=new J({});(function qn(R,x){de(R,x)})(Je,A),j.registerControl(A.name,Je),Je.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(A){nt.then(()=>{const j=this._findContainer(A.path);j&&j.removeControl(A.name)})}getFormGroup(A){return this.form.get(A.path)}updateModel(A,j){nt.then(()=>{this.form.get(A.path).setValue(j)})}setValue(A){this.control.setValue(A)}onSubmit(A){return this.submitted=!0,function ci(R,x){R._syncPendingControls(),x.forEach(A=>{const j=A.control;"submit"===j.updateOn&&j._pendingChange&&(A.viewToModelUpdate(j._pendingValue),j._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(A),"dialog"===A?.target?.method}onReset(){this.resetForm()}resetForm(A){this.form.reset(A),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(A){return A.pop(),A.length?this.form.get(A):this.form}}return R.\u0275fac=function(A){return new(A||R)(p.Y36(je,10),p.Y36(Z,10))},R.\u0275dir=p.lG2({type:R,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(A,j){1&A&&p.NdJ("submit",function(rn){return j.onSubmit(rn)})("reset",function(){return j.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Ve]),p.qOj]}),R})();function xt(R,x){const A=R.indexOf(x);A>-1&&R.splice(A,1)}function bn(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}const Dr=class extends te{constructor(x=null,A,j){super(Ge(A),pt(j,A)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(x),this._setUpdateStrategy(A),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zt(A)&&(A.nonNullable||A.initialValueIsDefault)&&(this.defaultValue=bn(x)?x.value:x)}setValue(x,A={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==A.emitModelToViewChange&&this._onChange.forEach(j=>j(this.value,!1!==A.emitViewToModelChange)),this.updateValueAndValidity(A)}patchValue(x,A={}){this.setValue(x,A)}reset(x=this.defaultValue,A={}){this._applyFormState(x),this.markAsPristine(A),this.markAsUntouched(A),this.setValue(this.value,A),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){xt(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){xt(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){bn(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}},Do={provide:Vn,useExisting:(0,p.Gpc)(()=>Fs)},Di=(()=>Promise.resolve())();let Fs=(()=>{class R extends Vn{constructor(A,j,Je,rn,Er){super(),this._changeDetectorRef=Er,this.control=new Dr,this._registered=!1,this.update=new p.vpe,this._parent=A,this._setValidators(j),this._setAsyncValidators(Je),this.valueAccessor=function Hr(R,x){if(!x)return null;let A,j,Je;return Array.isArray(x),x.forEach(rn=>{rn.constructor===ve?A=rn:function Xn(R){return Object.getPrototypeOf(R.constructor)===Ne}(rn)?j=rn:Je=rn}),Je||j||A||null}(0,rn)}ngOnChanges(A){if(this._checkForErrors(),!this._registered||"name"in A){if(this._registered&&(this._checkName(),this.formDirective)){const j=A.name.previousValue;this.formDirective.removeControl({name:j,path:this._getPath(j)})}this._setUpControl()}"isDisabled"in A&&this._updateDisabled(A),function ar(R,x){if(!R.hasOwnProperty("model"))return!1;const A=R.model;return!!A.isFirstChange()||!Object.is(x,A.currentValue)}(A,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(A){this.viewModel=A,this.update.emit(A)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(A){Di.then(()=>{this.control.setValue(A,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(A){const j=A.isDisabled.currentValue,Je=0!==j&&(0,p.D6c)(j);Di.then(()=>{Je&&!this.control.disabled?this.control.disable():!Je&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(A){return this._parent?function hn(R,x){return[...x.path,R]}(A,this._parent):[A]}}return R.\u0275fac=function(A){return new(A||R)(p.Y36(Mn,9),p.Y36(je,10),p.Y36(Z,10),p.Y36(Be,10),p.Y36(p.sBO,8))},R.\u0275dir=p.lG2({type:R,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([Do]),p.qOj,p.TTD]}),R})(),gs=(()=>{class R{}return R.\u0275fac=function(A){return new(A||R)},R.\u0275dir=p.lG2({type:R,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),R})(),ss=(()=>{class R{}return R.\u0275fac=function(A){return new(A||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({}),R})(),un=(()=>{class R{}return R.\u0275fac=function(A){return new(A||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[ss]}),R})(),_n=(()=>{class R{}return R.\u0275fac=function(A){return new(A||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[un]}),R})()},1481:(Mt,ke,P)=>{P.d(ke,{Dx:()=>Cn,b2:()=>Mn,q6:()=>$n});var p=P(6895),U=P(4650);class S extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends S{static makeCurrent(){(0,p.HT)(new ae)}onAndCancel(J,q,xe){return J.addEventListener(q,xe,!1),()=>{J.removeEventListener(q,xe,!1)}}dispatchEvent(J,q){J.dispatchEvent(q)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,q){return(q=q||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,q){return"window"===q?window:"document"===q?J:"body"===q?J.body:null}getBaseHref(J){const q=function pe(){return ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null}();return null==q?null:function we(te){me=me||document.createElement("a"),me.setAttribute("href",te);const J=me.pathname;return"/"===J.charAt(0)?J:`/${J}`}(q)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,p.Mx)(document.cookie,J)}}let me,ge=null;const Ee=new U.OlP("TRANSITION_ID"),re=[{provide:U.ip1,useFactory:function ne(te,J,q){return()=>{q.get(U.CZH).donePromise.then(()=>{const xe=(0,p.q)(),Ke=J.querySelectorAll(`style[ng-transition="${te}"]`);for(let St=0;St<Ke.length;St++)xe.remove(Ke[St])})}},deps:[Ee,p.K0,U.zs3],multi:!0}];let Ue=(()=>{class te{build(){return new XMLHttpRequest}}return te.\u0275fac=function(q){return new(q||te)},te.\u0275prov=U.Yz7({token:te,factory:te.\u0275fac}),te})();const Ne=new U.OlP("EventManagerPlugins");let Be=(()=>{class te{constructor(q,xe){this._zone=xe,this._eventNameToPlugin=new Map,q.forEach(Ke=>Ke.manager=this),this._plugins=q.slice().reverse()}addEventListener(q,xe,Ke){return this._findPluginFor(xe).addEventListener(q,xe,Ke)}addGlobalEventListener(q,xe,Ke){return this._findPluginFor(xe).addGlobalEventListener(q,xe,Ke)}getZone(){return this._zone}_findPluginFor(q){const xe=this._eventNameToPlugin.get(q);if(xe)return xe;const Ke=this._plugins;for(let St=0;St<Ke.length;St++){const hn=Ke[St];if(hn.supports(q))return this._eventNameToPlugin.set(q,hn),hn}throw new Error(`No event manager plugin found for event ${q}`)}}return te.\u0275fac=function(q){return new(q||te)(U.LFG(Ne),U.LFG(U.R0b))},te.\u0275prov=U.Yz7({token:te,factory:te.\u0275fac}),te})();class wt{constructor(J){this._doc=J}addGlobalEventListener(J,q,xe){const Ke=(0,p.q)().getGlobalEventTarget(this._doc,J);if(!Ke)throw new Error(`Unsupported event target ${Ke} for event ${q}`);return this.addEventListener(Ke,q,xe)}}let X=(()=>{class te{constructor(){this._stylesSet=new Set}addStyles(q){const xe=new Set;q.forEach(Ke=>{this._stylesSet.has(Ke)||(this._stylesSet.add(Ke),xe.add(Ke))}),this.onStylesAdded(xe)}onStylesAdded(q){}getAllStyles(){return Array.from(this._stylesSet)}}return te.\u0275fac=function(q){return new(q||te)},te.\u0275prov=U.Yz7({token:te,factory:te.\u0275fac}),te})(),Fe=(()=>{class te extends X{constructor(q){super(),this._doc=q,this._hostNodes=new Map,this._hostNodes.set(q.head,[])}_addStylesToHost(q,xe,Ke){q.forEach(St=>{const hn=this._doc.createElement("style");hn.textContent=St,Ke.push(xe.appendChild(hn))})}addHost(q){const xe=[];this._addStylesToHost(this._stylesSet,q,xe),this._hostNodes.set(q,xe)}removeHost(q){const xe=this._hostNodes.get(q);xe&&xe.forEach(Nt),this._hostNodes.delete(q)}onStylesAdded(q){this._hostNodes.forEach((xe,Ke)=>{this._addStylesToHost(q,Ke,xe)})}ngOnDestroy(){this._hostNodes.forEach(q=>q.forEach(Nt))}}return te.\u0275fac=function(q){return new(q||te)(U.LFG(p.K0))},te.\u0275prov=U.Yz7({token:te,factory:te.\u0275fac}),te})();function Nt(te){(0,p.q)().remove(te)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ve=/%COMP%/g;function _e(te,J,q){for(let xe=0;xe<J.length;xe++){let Ke=J[xe];Array.isArray(Ke)?_e(te,Ke,q):(Ke=Ke.replace(ve,te),q.push(Ke))}return q}function be(te){return J=>{if("__ngUnwrap__"===J)return te;!1===te(J)&&(J.preventDefault(),J.returnValue=!1)}}let Ce=(()=>{class te{constructor(q,xe,Ke){this.eventManager=q,this.sharedStylesHost=xe,this.appId=Ke,this.rendererByCompId=new Map,this.defaultRenderer=new ut(q)}createRenderer(q,xe){if(!q||!xe)return this.defaultRenderer;switch(xe.encapsulation){case U.ifc.Emulated:{let Ke=this.rendererByCompId.get(xe.id);return Ke||(Ke=new Ht(this.eventManager,this.sharedStylesHost,xe,this.appId),this.rendererByCompId.set(xe.id,Ke)),Ke.applyToHost(q),Ke}case 1:case U.ifc.ShadowDom:return new tt(this.eventManager,this.sharedStylesHost,q,xe);default:if(!this.rendererByCompId.has(xe.id)){const Ke=_e(xe.id,xe.styles,[]);this.sharedStylesHost.addStyles(Ke),this.rendererByCompId.set(xe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return te.\u0275fac=function(q){return new(q||te)(U.LFG(Be),U.LFG(Fe),U.LFG(U.AFp))},te.\u0275prov=U.Yz7({token:te,factory:te.\u0275fac}),te})();class ut{constructor(J){this.eventManager=J,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(J,q){return q?document.createElementNS(Et[q]||q,J):document.createElement(J)}createComment(J){return document.createComment(J)}createText(J){return document.createTextNode(J)}appendChild(J,q){(kt(J)?J.content:J).appendChild(q)}insertBefore(J,q,xe){J&&(kt(J)?J.content:J).insertBefore(q,xe)}removeChild(J,q){J&&J.removeChild(q)}selectRootElement(J,q){let xe="string"==typeof J?document.querySelector(J):J;if(!xe)throw new Error(`The selector "${J}" did not match any elements`);return q||(xe.textContent=""),xe}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,q,xe,Ke){if(Ke){q=Ke+":"+q;const St=Et[Ke];St?J.setAttributeNS(St,q,xe):J.setAttribute(q,xe)}else J.setAttribute(q,xe)}removeAttribute(J,q,xe){if(xe){const Ke=Et[xe];Ke?J.removeAttributeNS(Ke,q):J.removeAttribute(`${xe}:${q}`)}else J.removeAttribute(q)}addClass(J,q){J.classList.add(q)}removeClass(J,q){J.classList.remove(q)}setStyle(J,q,xe,Ke){Ke&(U.JOm.DashCase|U.JOm.Important)?J.style.setProperty(q,xe,Ke&U.JOm.Important?"important":""):J.style[q]=xe}removeStyle(J,q,xe){xe&U.JOm.DashCase?J.style.removeProperty(q):J.style[q]=""}setProperty(J,q,xe){J[q]=xe}setValue(J,q){J.nodeValue=q}listen(J,q,xe){return"string"==typeof J?this.eventManager.addGlobalEventListener(J,q,be(xe)):this.eventManager.addEventListener(J,q,be(xe))}}function kt(te){return"TEMPLATE"===te.tagName&&void 0!==te.content}class Ht extends ut{constructor(J,q,xe,Ke){super(J),this.component=xe;const St=_e(Ke+"-"+xe.id,xe.styles,[]);q.addStyles(St),this.contentAttr=function Z(te){return"_ngcontent-%COMP%".replace(ve,te)}(Ke+"-"+xe.id),this.hostAttr=function Ze(te){return"_nghost-%COMP%".replace(ve,te)}(Ke+"-"+xe.id)}applyToHost(J){super.setAttribute(J,this.hostAttr,"")}createElement(J,q){const xe=super.createElement(J,q);return super.setAttribute(xe,this.contentAttr,""),xe}}class tt extends ut{constructor(J,q,xe,Ke){super(J),this.sharedStylesHost=q,this.hostEl=xe,this.shadowRoot=xe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const St=_e(Ke.id,Ke.styles,[]);for(let hn=0;hn<St.length;hn++){const vn=document.createElement("style");vn.textContent=St[hn],this.shadowRoot.appendChild(vn)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(J,q){return super.appendChild(this.nodeOrShadowRoot(J),q)}insertBefore(J,q,xe){return super.insertBefore(this.nodeOrShadowRoot(J),q,xe)}removeChild(J,q){return super.removeChild(this.nodeOrShadowRoot(J),q)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}}let Gt=(()=>{class te extends wt{constructor(q){super(q)}supports(q){return!0}addEventListener(q,xe,Ke){return q.addEventListener(xe,Ke,!1),()=>this.removeEventListener(q,xe,Ke)}removeEventListener(q,xe,Ke){return q.removeEventListener(xe,Ke)}}return te.\u0275fac=function(q){return new(q||te)(U.LFG(p.K0))},te.\u0275prov=U.Yz7({token:te,factory:te.\u0275fac}),te})();const In=["alt","control","meta","shift"],Rn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dn={alt:te=>te.altKey,control:te=>te.ctrlKey,meta:te=>te.metaKey,shift:te=>te.shiftKey};let fr=(()=>{class te extends wt{constructor(q){super(q)}supports(q){return null!=te.parseEventName(q)}addEventListener(q,xe,Ke){const St=te.parseEventName(xe),hn=te.eventCallback(St.fullKey,Ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(q,St.domEventName,hn))}static parseEventName(q){const xe=q.toLowerCase().split("."),Ke=xe.shift();if(0===xe.length||"keydown"!==Ke&&"keyup"!==Ke)return null;const St=te._normalizeKey(xe.pop());let hn="",vn=xe.indexOf("code");if(vn>-1&&(xe.splice(vn,1),hn="code."),In.forEach(en=>{const ct=xe.indexOf(en);ct>-1&&(xe.splice(ct,1),hn+=en+".")}),hn+=St,0!=xe.length||0===St.length)return null;const dt={};return dt.domEventName=Ke,dt.fullKey=hn,dt}static matchEventFullKeyCode(q,xe){let Ke=Rn[q.key]||q.key,St="";return xe.indexOf("code.")>-1&&(Ke=q.code,St="code."),!(null==Ke||!Ke)&&(Ke=Ke.toLowerCase()," "===Ke?Ke="space":"."===Ke&&(Ke="dot"),In.forEach(hn=>{hn!==Ke&&(0,Dn[hn])(q)&&(St+=hn+".")}),St+=Ke,St===xe)}static eventCallback(q,xe,Ke){return St=>{te.matchEventFullKeyCode(St,q)&&Ke.runGuarded(()=>xe(St))}}static _normalizeKey(q){return"esc"===q?"escape":q}}return te.\u0275fac=function(q){return new(q||te)(U.LFG(p.K0))},te.\u0275prov=U.Yz7({token:te,factory:te.\u0275fac}),te})();const $n=(0,U.eFA)(U._c5,"browser",[{provide:U.Lbi,useValue:p.bD},{provide:U.g9A,useValue:function Ln(){ae.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function Ft(){return(0,U.RDi)(document),document},deps:[]}]),ir=new U.OlP(""),bt=[{provide:U.rWj,useClass:class he{addToWindow(J){U.dqk.getAngularTestability=(xe,Ke=!0)=>{const St=J.findTestabilityInTree(xe,Ke);if(null==St)throw new Error("Could not find testability for element.");return St},U.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),U.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),U.dqk.frameworkStabilizers||(U.dqk.frameworkStabilizers=[]),U.dqk.frameworkStabilizers.push(xe=>{const Ke=U.dqk.getAllAngularTestabilities();let St=Ke.length,hn=!1;const vn=function(dt){hn=hn||dt,St--,0==St&&xe(hn)};Ke.forEach(function(dt){dt.whenStable(vn)})})}findTestabilityInTree(J,q,xe){return null==q?null:J.getTestability(q)??(xe?(0,p.q)().isShadowRoot(q)?this.findTestabilityInTree(J,q.host,!0):this.findTestabilityInTree(J,q.parentElement,!0):null)}},deps:[]},{provide:U.lri,useClass:U.dDg,deps:[U.R0b,U.eoX,U.rWj]},{provide:U.dDg,useClass:U.dDg,deps:[U.R0b,U.eoX,U.rWj]}],Zn=[{provide:U.zSh,useValue:"root"},{provide:U.qLn,useFactory:function mr(){return new U.qLn},deps:[]},{provide:Ne,useClass:Gt,multi:!0,deps:[p.K0,U.R0b,U.Lbi]},{provide:Ne,useClass:fr,multi:!0,deps:[p.K0]},{provide:Ce,useClass:Ce,deps:[Be,Fe,U.AFp]},{provide:U.FYo,useExisting:Ce},{provide:X,useExisting:Fe},{provide:Fe,useClass:Fe,deps:[p.K0]},{provide:Be,useClass:Be,deps:[Ne,U.R0b]},{provide:p.JF,useClass:Ue,deps:[]},[]];let Mn=(()=>{class te{constructor(q){}static withServerTransition(q){return{ngModule:te,providers:[{provide:U.AFp,useValue:q.appId},{provide:Ee,useExisting:U.AFp},re]}}}return te.\u0275fac=function(q){return new(q||te)(U.LFG(ir,12))},te.\u0275mod=U.oAB({type:te}),te.\u0275inj=U.cJS({providers:[...Zn,...bt],imports:[p.ez,U.hGG]}),te})(),Cn=(()=>{class te{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}}return te.\u0275fac=function(q){return new(q||te)(U.LFG(p.K0))},te.\u0275prov=U.Yz7({token:te,factory:function(q){let xe=null;return xe=q?new q:function or(){return new Cn((0,U.LFG)(p.K0))}(),xe},providedIn:"root"}),te})();typeof window<"u"&&window},9051:(Mt,ke,P)=>{P.d(ke,{jw:()=>Qs,F0:()=>nn,rH:()=>Ua,yS:()=>Lr,Bz:()=>si,lC:()=>di,fw:()=>Vs});var p=P(4650),U=P(8996),S=P(9646),ae=P(7579);class ge extends ae.x{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const v=super._subscribe(E);return!v.closed&&E.next(this._value),v}getValue(){const{hasError:E,thrownError:v,_value:C}=this;if(E)throw v;return this._throwIfClosed(),C}next(E){super.next(this._value=E)}}var pe=P(6805),me=P(9751),we=P(4742),Ee=P(4671),ne=P(3268),re=P(7669),he=P(1810),Ue=P(5403),Ne=P(9672);function Be(..._){const E=(0,re.yG)(_),v=(0,re.jO)(_),{args:C,keys:O}=(0,we.D)(_);if(0===C.length)return(0,U.D)([],E);const B=new me.y(function wt(_,E,v=Ee.y){return C=>{X(E,()=>{const{length:O}=_,B=new Array(O);let Y=O,se=O;for(let Xe=0;Xe<O;Xe++)X(E,()=>{const Ot=(0,U.D)(_[Xe],E);let Sn=!1;Ot.subscribe((0,Ue.x)(C,on=>{B[Xe]=on,Sn||(Sn=!0,se--),se||C.next(v(B.slice()))},()=>{--Y||C.complete()}))},C)},C)}}(C,E,O?Y=>(0,he.n)(O,Y):Ee.y));return v?B.pipe((0,ne.Z)(v)):B}function X(_,E,v){_?(0,Ne.f)(v,_,E):E()}var Fe=P(7272),Nt=P(8421);function Et(_){return new me.y(E=>{(0,Nt.Xf)(_()).subscribe(E)})}var ve=P(9635),Le=P(576);function ce(_,E){const v=(0,Le.m)(_)?_:()=>_,C=O=>O.error(v());return new me.y(E?O=>E.schedule(C,0,O):C)}var Me=P(515),je=P(727),Z=P(4482);function Ze(){return(0,Z.e)((_,E)=>{let v=null;_._refCount++;const C=(0,Ue.x)(E,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(v=null);const O=_._connection,B=v;v=null,O&&(!B||O===B)&&O.unsubscribe(),E.unsubscribe()});_.subscribe(C),C.closed||(v=_.connect())})}class _e extends me.y{constructor(E,v){super(),this.source=E,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,Z.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new je.w0;const v=this.getSubject();E.add(this.source.subscribe((0,Ue.x)(v,void 0,()=>{this._teardown(),v.complete()},C=>{this._teardown(),v.error(C)},()=>this._teardown()))),E.closed&&(this._connection=null,E=je.w0.EMPTY)}return E}refCount(){return Ze()(this)}}var be=P(6895),Se=P(4004),Ce=P(3900),ut=P(5698),lt=P(8675),Pt=P(9300),kt=P(5577),Ht=P(590);function tt(_,E){return(0,Le.m)(E)?(0,kt.z)(_,E,1):(0,kt.z)(_,1)}var Gt=P(8505);function In(_){return(0,Z.e)((E,v)=>{let B,C=null,O=!1;C=E.subscribe((0,Ue.x)(v,void 0,void 0,Y=>{B=(0,Nt.Xf)(_(Y,In(_)(E))),C?(C.unsubscribe(),C=null,B.subscribe(v)):O=!0})),O&&(C.unsubscribe(),C=null,B.subscribe(v))})}var Rn=P(5026);function Dn(_){return _<=0?()=>Me.E:(0,Z.e)((E,v)=>{let C=[];E.subscribe((0,Ue.x)(v,O=>{C.push(O),_<C.length&&C.shift()},()=>{for(const O of C)v.next(O);v.complete()},void 0,()=>{C=null}))})}var fr=P(8068),qt=P(6590);function Xt(_,E){const v=arguments.length>=2;return C=>C.pipe(_?(0,Pt.h)((O,B)=>_(O,B,C)):Ee.y,Dn(1),v?(0,qt.d)(E):(0,fr.T)(()=>new pe.K))}function Qn(_){return(0,Z.e)((E,v)=>{try{E.subscribe(v)}finally{v.add(_)}})}var Ln=P(8189),mr=P(1481);const Ft="primary",wn=Symbol("RouteTitle");class $n{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v[0]:v}return null}getAll(E){if(this.has(E)){const v=this.params[E];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function ir(_){return new $n(_)}function bt(_,E,v){const C=v.path.split("/");if(C.length>_.length||"full"===v.pathMatch&&(E.hasChildren()||C.length<_.length))return null;const O={};for(let B=0;B<C.length;B++){const Y=C[B],se=_[B];if(Y.startsWith(":"))O[Y.substring(1)]=se;else if(Y!==se.path)return null}return{consumed:_.slice(0,C.length),posParams:O}}function Mn(_,E){const v=_?Object.keys(_):void 0,C=E?Object.keys(E):void 0;if(!v||!C||v.length!=C.length)return!1;let O;for(let B=0;B<v.length;B++)if(O=v[B],!Vn(_[O],E[O]))return!1;return!0}function Vn(_,E){if(Array.isArray(_)&&Array.isArray(E)){if(_.length!==E.length)return!1;const v=[..._].sort(),C=[...E].sort();return v.every((O,B)=>C[B]===O)}return _===E}function Tr(_){return Array.prototype.concat.apply([],_)}function dr(_){return _.length>0?_[_.length-1]:null}function Cn(_,E){for(const v in _)_.hasOwnProperty(v)&&E(_[v],v)}function ln(_){return(0,p.CqO)(_)?_:(0,p.QGY)(_)?(0,U.D)(Promise.resolve(_)):(0,S.of)(_)}const yn={exact:function Qt(_,E,v){if(!fe(_.segments,E.segments)||!Pn(_.segments,E.segments,v)||_.numberOfChildren!==E.numberOfChildren)return!1;for(const C in E.children)if(!_.children[C]||!Qt(_.children[C],E.children[C],v))return!1;return!0},subset:An},xn={exact:function _r(_,E){return Mn(_,E)},subset:function jr(_,E){return Object.keys(E).length<=Object.keys(_).length&&Object.keys(E).every(v=>Vn(_[v],E[v]))},ignored:()=>!0};function Jn(_,E,v){return yn[v.paths](_.root,E.root,v.matrixParams)&&xn[v.queryParams](_.queryParams,E.queryParams)&&!("exact"===v.fragment&&_.fragment!==E.fragment)}function An(_,E,v){return Ar(_,E,E.segments,v)}function Ar(_,E,v,C){if(_.segments.length>v.length){const O=_.segments.slice(0,v.length);return!(!fe(O,v)||E.hasChildren()||!Pn(O,v,C))}if(_.segments.length===v.length){if(!fe(_.segments,v)||!Pn(_.segments,v,C))return!1;for(const O in E.children)if(!_.children[O]||!An(_.children[O],E.children[O],C))return!1;return!0}{const O=v.slice(0,_.segments.length),B=v.slice(_.segments.length);return!!(fe(_.segments,O)&&Pn(_.segments,O,C)&&_.children[Ft])&&Ar(_.children[Ft],E,B,C)}}function Pn(_,E,v){return E.every((C,O)=>xn[v](_[O].parameters,C.parameters))}class ye{constructor(E,v,C){this.root=E,this.queryParams=v,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ir(this.queryParams)),this._queryParamMap}toString(){return Nn.serialize(this)}}class ee{constructor(E,v){this.segments=E,this.children=v,this.parent=null,Cn(v,(C,O)=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mn(this)}}class ie{constructor(E,v){this.path=E,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=ir(this.parameters)),this._parameterMap}toString(){return dn(this)}}function fe(_,E){return _.length===E.length&&_.every((v,C)=>v.path===E[C].path)}let _t=(()=>{class _{}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=p.Yz7({token:_,factory:function(){return new Lt},providedIn:"root"}),_})();class Lt{parse(E){const v=new dt(E);return new ye(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(E){const v=`/${Pe(E.root,!0)}`,C=function J(_){const E=Object.keys(_).map(v=>{const C=_[v];return Array.isArray(C)?C.map(O=>`${et(v)}=${et(O)}`).join("&"):`${et(v)}=${et(C)}`}).filter(v=>!!v);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${v}${C}${"string"==typeof E.fragment?`#${function pt(_){return encodeURI(_)}(E.fragment)}`:""}`}}const Nn=new Lt;function mn(_){return _.segments.map(E=>dn(E)).join("/")}function Pe(_,E){if(!_.hasChildren())return mn(_);if(E){const v=_.children[Ft]?Pe(_.children[Ft],!1):"",C=[];return Cn(_.children,(O,B)=>{B!==Ft&&C.push(`${B}:${Pe(O,!1)}`)}),C.length>0?`${v}(${C.join("//")})`:v}{const v=function st(_,E){let v=[];return Cn(_.children,(C,O)=>{O===Ft&&(v=v.concat(E(C,O)))}),Cn(_.children,(C,O)=>{O!==Ft&&(v=v.concat(E(C,O)))}),v}(_,(C,O)=>O===Ft?[Pe(_.children[Ft],!1)]:[`${O}:${Pe(C,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Ft]?`${mn(_)}/${v[0]}`:`${mn(_)}/(${v.join("//")})`}}function Ge(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function et(_){return Ge(_).replace(/%3B/gi,";")}function Dt(_){return Ge(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zt(_){return decodeURIComponent(_)}function Zt(_){return zt(_.replace(/\+/g,"%20"))}function dn(_){return`${Dt(_.path)}${function te(_){return Object.keys(_).map(E=>`;${Dt(E)}=${Dt(_[E])}`).join("")}(_.parameters)}`}const q=/^[^\/()?;=#]+/;function xe(_){const E=_.match(q);return E?E[0]:""}const Ke=/^[^=?&#]+/,hn=/^[^&#]+/;class dt{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(E.length>0||Object.keys(v).length>0)&&(C[Ft]=new ee(E,v)),C}parseSegment(){const E=xe(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new p.vHH(4009,!1);return this.capture(E),new ie(zt(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const v=xe(this.remaining);if(!v)return;this.capture(v);let C="";if(this.consumeOptional("=")){const O=xe(this.remaining);O&&(C=O,this.capture(C))}E[zt(v)]=zt(C)}parseQueryParam(E){const v=function St(_){const E=_.match(Ke);return E?E[0]:""}(this.remaining);if(!v)return;this.capture(v);let C="";if(this.consumeOptional("=")){const Y=function vn(_){const E=_.match(hn);return E?E[0]:""}(this.remaining);Y&&(C=Y,this.capture(C))}const O=Zt(v),B=Zt(C);if(E.hasOwnProperty(O)){let Y=E[O];Array.isArray(Y)||(Y=[Y],E[O]=Y),Y.push(B)}else E[O]=B}parseParens(E){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=xe(this.remaining),O=this.remaining[C.length];if("/"!==O&&")"!==O&&";"!==O)throw new p.vHH(4010,!1);let B;C.indexOf(":")>-1?(B=C.slice(0,C.indexOf(":")),this.capture(B),this.capture(":")):E&&(B=Ft);const Y=this.parseChildren();v[B]=1===Object.keys(Y).length?Y[Ft]:new ee([],Y),this.consumeOptional("//")}return v}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new p.vHH(4011,!1)}}function en(_){return _.segments.length>0?new ee([],{[Ft]:_}):_}function ct(_){const E={};for(const C of Object.keys(_.children)){const B=ct(_.children[C]);(B.segments.length>0||B.hasChildren())&&(E[C]=B)}return function de(_){if(1===_.numberOfChildren&&_.children[Ft]){const E=_.children[Ft];return new ee(_.segments.concat(E.segments),E.children)}return _}(new ee(_.segments,E))}function Re(_){return _ instanceof ye}function qn(_,E,v,C,O){if(0===v.length)return On(E.root,E.root,E.root,C,O);const B=function ar(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new xr(!0,0,_);let E=0,v=!1;const C=_.reduce((O,B,Y)=>{if("object"==typeof B&&null!=B){if(B.outlets){const se={};return Cn(B.outlets,(Xe,Ot)=>{se[Ot]="string"==typeof Xe?Xe.split("/"):Xe}),[...O,{outlets:se}]}if(B.segmentPath)return[...O,B.segmentPath]}return"string"!=typeof B?[...O,B]:0===Y?(B.split("/").forEach((se,Xe)=>{0==Xe&&"."===se||(0==Xe&&""===se?v=!0:".."===se?E++:""!=se&&O.push(se))}),O):[...O,B]},[]);return new xr(v,E,C)}(v);return B.toRoot()?On(E.root,E.root,new ee([],{}),C,O):function Y(Xe){const Ot=function Hr(_,E,v,C){if(_.isAbsolute)return new Xn(E.root,!0,0);if(-1===C)return new Xn(v,v===E.root,0);return function Oe(_,E,v){let C=_,O=E,B=v;for(;B>O;){if(B-=O,C=C.parent,!C)throw new p.vHH(4005,!1);O=C.segments.length}return new Xn(C,!1,O-B)}(v,C+(En(_.commands[0])?0:1),_.numberOfDoubleDots)}(B,E,_.snapshot?._urlSegment,Xe),Sn=Ot.processChildren?nt(Ot.segmentGroup,Ot.index,B.commands):Ve(Ot.segmentGroup,Ot.index,B.commands);return On(E.root,Ot.segmentGroup,Sn,C,O)}(_.snapshot?._lastPathIndex)}function En(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function pr(_){return"object"==typeof _&&null!=_&&_.outlets}function On(_,E,v,C,O){let Y,B={};C&&Cn(C,(Xe,Ot)=>{B[Ot]=Array.isArray(Xe)?Xe.map(Sn=>`${Sn}`):`${Xe}`}),Y=_===E?v:cn(_,E,v);const se=en(ct(Y));return new ye(se,B,O)}function cn(_,E,v){const C={};return Cn(_.children,(O,B)=>{C[B]=O===E?v:cn(O,E,v)}),new ee(_.segments,C)}class xr{constructor(E,v,C){if(this.isAbsolute=E,this.numberOfDoubleDots=v,this.commands=C,E&&C.length>0&&En(C[0]))throw new p.vHH(4003,!1);const O=C.find(pr);if(O&&O!==dr(C))throw new p.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xn{constructor(E,v,C){this.segmentGroup=E,this.processChildren=v,this.index=C}}function Ve(_,E,v){if(_||(_=new ee([],{})),0===_.segments.length&&_.hasChildren())return nt(_,E,v);const C=function yt(_,E,v){let C=0,O=E;const B={match:!1,pathIndex:0,commandIndex:0};for(;O<_.segments.length;){if(C>=v.length)return B;const Y=_.segments[O],se=v[C];if(pr(se))break;const Xe=`${se}`,Ot=C<v.length-1?v[C+1]:null;if(O>0&&void 0===Xe)break;if(Xe&&Ot&&"object"==typeof Ot&&void 0===Ot.outlets){if(!zn(Xe,Ot,Y))return B;C+=2}else{if(!zn(Xe,{},Y))return B;C++}O++}return{match:!0,pathIndex:O,commandIndex:C}}(_,E,v),O=v.slice(C.commandIndex);if(C.match&&C.pathIndex<_.segments.length){const B=new ee(_.segments.slice(0,C.pathIndex),{});return B.children[Ft]=new ee(_.segments.slice(C.pathIndex),_.children),nt(B,0,O)}return C.match&&0===O.length?new ee(_.segments,{}):C.match&&!_.hasChildren()?xt(_,E,v):C.match?nt(_,0,O):xt(_,E,v)}function nt(_,E,v){if(0===v.length)return new ee(_.segments,{});{const C=function Te(_){return pr(_[0])?_[0].outlets:{[Ft]:_}}(v),O={};return Cn(C,(B,Y)=>{"string"==typeof B&&(B=[B]),null!==B&&(O[Y]=Ve(_.children[Y],E,B))}),Cn(_.children,(B,Y)=>{void 0===C[Y]&&(O[Y]=B)}),new ee(_.segments,O)}}function xt(_,E,v){const C=_.segments.slice(0,E);let O=0;for(;O<v.length;){const B=v[O];if(pr(B)){const Xe=bn(B.outlets);return new ee(C,Xe)}if(0===O&&En(v[0])){C.push(new ie(_.segments[E].path,Dr(v[0]))),O++;continue}const Y=pr(B)?B.outlets[Ft]:`${B}`,se=O<v.length-1?v[O+1]:null;Y&&se&&En(se)?(C.push(new ie(Y,Dr(se))),O+=2):(C.push(new ie(Y,{})),O++)}return new ee(C,{})}function bn(_){const E={};return Cn(_,(v,C)=>{"string"==typeof v&&(v=[v]),null!==v&&(E[C]=xt(new ee([],{}),0,v))}),E}function Dr(_){const E={};return Cn(_,(v,C)=>E[C]=`${v}`),E}function zn(_,E,v){return _==v.path&&Mn(E,v.parameters)}class er{constructor(E,v){this.id=E,this.url=v}}class li extends er{constructor(E,v,C="imperative",O=null){super(E,v),this.type=0,this.navigationTrigger=C,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ui extends er{constructor(E,v,C){super(E,v),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Or extends er{constructor(E,v,C,O){super(E,v),this.reason=C,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wi extends er{constructor(E,v,C,O){super(E,v),this.error=C,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ps extends er{constructor(E,v,C,O){super(E,v),this.urlAfterRedirects=C,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pr extends er{constructor(E,v,C,O){super(E,v),this.urlAfterRedirects=C,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qs extends er{constructor(E,v,C,O,B){super(E,v),this.urlAfterRedirects=C,this.state=O,this.shouldActivate=B,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Do extends er{constructor(E,v,C,O){super(E,v),this.urlAfterRedirects=C,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Di extends er{constructor(E,v,C,O){super(E,v),this.urlAfterRedirects=C,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fs{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gs{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ys{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ls{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ho{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qs{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ss{constructor(E,v,C){this.routerEvent=E,this.position=v,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class uo{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const v=this.pathFromRoot(E);return v.length>1?v[v.length-2]:null}children(E){const v=Ci(E,this._root);return v?v.children.map(C=>C.value):[]}firstChild(E){const v=Ci(E,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(E){const v=Xi(E,this._root);return v.length<2?[]:v[v.length-2].children.map(O=>O.value).filter(O=>O!==E)}pathFromRoot(E){return Xi(E,this._root).map(v=>v.value)}}function Ci(_,E){if(_===E.value)return E;for(const v of E.children){const C=Ci(_,v);if(C)return C}return null}function Xi(_,E){if(_===E.value)return[E];for(const v of E.children){const C=Xi(_,v);if(C.length)return C.unshift(E),C}return[]}class Oi{constructor(E,v){this.value=E,this.children=v}toString(){return`TreeNode(${this.value})`}}function Bi(_){const E={};return _&&_.children.forEach(v=>E[v.value.outlet]=v),E}class Co extends uo{constructor(E,v){super(E),this.snapshot=v,ys(this,E)}toString(){return this.snapshot.toString()}}function bi(_,E){const v=function ji(_,E){const Y=new mi([],{},{},"",{},Ft,E,null,_.root,-1,{});return new Pi("",new Oi(Y,[]))}(_,E),C=new ge([new ie("",{})]),O=new ge({}),B=new ge({}),Y=new ge({}),se=new ge(""),Xe=new Zr(C,O,Y,se,B,Ft,E,v.root);return Xe.snapshot=v.root,new Co(new Oi(Xe,[]),v)}class Zr{constructor(E,v,C,O,B,Y,se,Xe){this.url=E,this.params=v,this.queryParams=C,this.fragment=O,this.data=B,this.outlet=Y,this.component=se,this.title=this.data?.pipe((0,Se.U)(Ot=>Ot[wn]))??(0,S.of)(void 0),this._futureSnapshot=Xe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Se.U)(E=>ir(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Se.U)(E=>ir(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ri(_,E="emptyOnly"){const v=_.pathFromRoot;let C=0;if("always"!==E)for(C=v.length-1;C>=1;){const O=v[C],B=v[C-1];if(O.routeConfig&&""===O.routeConfig.path)C--;else{if(B.component)break;C--}}return function ms(_){return _.reduce((E,v)=>({params:{...E.params,...v.params},data:{...E.data,...v.data},resolve:{...v.data,...E.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(C))}class mi{constructor(E,v,C,O,B,Y,se,Xe,Ot,Sn,on,Hn){this.url=E,this.params=v,this.queryParams=C,this.fragment=O,this.data=B,this.outlet=Y,this.component=se,this.title=this.data?.[wn],this.routeConfig=Xe,this._urlSegment=Ot,this._lastPathIndex=Sn,this._correctedLastPathIndex=Hn??Sn,this._resolve=on}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ir(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ir(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pi extends uo{constructor(E,v){super(v),this.url=E,ys(this,v)}toString(){return $i(this._root)}}function ys(_,E){E.value._routerState=_,E.children.forEach(v=>ys(_,v))}function $i(_){const E=_.children.length>0?` { ${_.children.map($i).join(", ")} } `:"";return`${_.value}${E}`}function os(_){if(_.snapshot){const E=_.snapshot,v=_._futureSnapshot;_.snapshot=v,Mn(E.queryParams,v.queryParams)||_.queryParams.next(v.queryParams),E.fragment!==v.fragment&&_.fragment.next(v.fragment),Mn(E.params,v.params)||_.params.next(v.params),function Zn(_,E){if(_.length!==E.length)return!1;for(let v=0;v<_.length;++v)if(!Mn(_[v],E[v]))return!1;return!0}(E.url,v.url)||_.url.next(v.url),Mn(E.data,v.data)||_.data.next(v.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function Hi(_,E){const v=Mn(_.params,E.params)&&function le(_,E){return fe(_,E)&&_.every((v,C)=>Mn(v.parameters,E[C].parameters))}(_.url,E.url);return v&&!(!_.parent!=!E.parent)&&(!_.parent||Hi(_.parent,E.parent))}function Ti(_,E,v){if(v&&_.shouldReuseRoute(E.value,v.value.snapshot)){const C=v.value;C._futureSnapshot=E.value;const O=function Ni(_,E,v){return E.children.map(C=>{for(const O of v.children)if(_.shouldReuseRoute(C.value,O.value.snapshot))return Ti(_,C,O);return Ti(_,C)})}(_,E,v);return new Oi(C,O)}{if(_.shouldAttach(E.value)){const B=_.retrieve(E.value);if(null!==B){const Y=B.route;return Y.value._futureSnapshot=E.value,Y.children=E.children.map(se=>Ti(_,se)),Y}}const C=function Nr(_){return new Zr(new ge(_.url),new ge(_.params),new ge(_.queryParams),new ge(_.fragment),new ge(_.data),_.outlet,_.component,_)}(E.value),O=E.children.map(B=>Ti(_,B));return new Oi(C,O)}}const As="ngNavigationCancelingError";function co(_,E){const{redirectTo:v,navigationBehaviorOptions:C}=Re(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,O=Rr(!1,0,E);return O.url=v,O.navigationBehaviorOptions=C,O}function Rr(_,E,v){const C=new Error("NavigationCancelingError: "+(_||""));return C[As]=!0,C.cancellationCode=E,v&&(C.url=v),C}function hr(_){return Gi(_)&&Re(_.url)}function Gi(_){return _&&_[As]}class Ai{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new kr,this.attachRef=null}}let kr=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(v,C){const O=this.getOrCreateContext(v);O.outlet=C,this.contexts.set(v,O)}onChildOutletDestroyed(v){const C=this.getContext(v);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let C=this.getContext(v);return C||(C=new Ai,this.contexts.set(v,C)),C}getContext(v){return this.contexts.get(v)||null}}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const ki=!1;let di=(()=>{class _{constructor(v,C,O,B,Y){this.parentContexts=v,this.location=C,this.changeDetector=B,this.environmentInjector=Y,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=O||Ft,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,ki);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,ki);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,ki);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,C){this.activated=v,this._activatedRoute=C,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,C){if(this.isActivated)throw new p.vHH(4013,ki);this._activatedRoute=v;const O=this.location,Y=v._futureSnapshot.component,se=this.parentContexts.getOrCreateContext(this.name).children,Xe=new as(v,se,O.injector);if(C&&function Wn(_){return!!_.resolveComponentFactory}(C)){const Ot=C.resolveComponentFactory(Y);this.activated=O.createComponent(Ot,O.length,Xe)}else this.activated=O.createComponent(Y,{index:O.length,injector:Xe,environmentInjector:C??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(v){return new(v||_)(p.Y36(kr),p.Y36(p.s_b),p.$8M("name"),p.Y36(p.sBO),p.Y36(p.lqb))},_.\u0275dir=p.lG2({type:_,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),_})();class as{constructor(E,v,C){this.route=E,this.childContexts=v,this.parent=C}get(E,v){return E===Zr?this.route:E===kr?this.childContexts:this.parent.get(E,v)}}let Vs=(()=>{class _{}return _.\u0275fac=function(v){return new(v||_)},_.\u0275cmp=p.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(v,C){1&v&&p._UZ(0,"router-outlet")},dependencies:[di],encapsulation:2}),_})();function vs(_,E){return _.providers&&!_._injector&&(_._injector=(0,p.MMx)(_.providers,E,`Route: ${_.path}`)),_._injector??E}function gt(_){const E=_.children&&_.children.map(gt),v=E?{..._,children:E}:{..._};return!v.component&&!v.loadComponent&&(E||v.loadChildren)&&v.outlet&&v.outlet!==Ft&&(v.component=Vs),v}function Ct(_){return _.outlet||Ft}function Yt(_,E){const v=_.filter(C=>Ct(C)===E);return v.push(..._.filter(C=>Ct(C)!==E)),v}function Bn(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let E=_.parent;E;E=E.parent){const v=E.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class ot{constructor(E,v,C,O){this.routeReuseStrategy=E,this.futureState=v,this.currState=C,this.forwardEvent=O}activate(E){const v=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,C,E),os(this.futureState.root),this.activateChildRoutes(v,C,E)}deactivateChildRoutes(E,v,C){const O=Bi(v);E.children.forEach(B=>{const Y=B.value.outlet;this.deactivateRoutes(B,O[Y],C),delete O[Y]}),Cn(O,(B,Y)=>{this.deactivateRouteAndItsChildren(B,C)})}deactivateRoutes(E,v,C){const O=E.value,B=v?v.value:null;if(O===B)if(O.component){const Y=C.getContext(O.outlet);Y&&this.deactivateChildRoutes(E,v,Y.children)}else this.deactivateChildRoutes(E,v,C);else B&&this.deactivateRouteAndItsChildren(v,C)}deactivateRouteAndItsChildren(E,v){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,v):this.deactivateRouteAndOutlet(E,v)}detachAndStoreRouteSubtree(E,v){const C=v.getContext(E.value.outlet),O=C&&E.value.component?C.children:v,B=Bi(E);for(const Y of Object.keys(B))this.deactivateRouteAndItsChildren(B[Y],O);if(C&&C.outlet){const Y=C.outlet.detach(),se=C.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:Y,route:E,contexts:se})}}deactivateRouteAndOutlet(E,v){const C=v.getContext(E.value.outlet),O=C&&E.value.component?C.children:v,B=Bi(E);for(const Y of Object.keys(B))this.deactivateRouteAndItsChildren(B[Y],O);C&&C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated(),C.attachRef=null,C.resolver=null,C.route=null)}activateChildRoutes(E,v,C){const O=Bi(v);E.children.forEach(B=>{this.activateRoutes(B,O[B.value.outlet],C),this.forwardEvent(new Qs(B.value.snapshot))}),E.children.length&&this.forwardEvent(new Ls(E.value.snapshot))}activateRoutes(E,v,C){const O=E.value,B=v?v.value:null;if(os(O),O===B)if(O.component){const Y=C.getOrCreateContext(O.outlet);this.activateChildRoutes(E,v,Y.children)}else this.activateChildRoutes(E,v,C);else if(O.component){const Y=C.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const se=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),Y.children.onOutletReAttached(se.contexts),Y.attachRef=se.componentRef,Y.route=se.route.value,Y.outlet&&Y.outlet.attach(se.componentRef,se.route.value),os(se.route.value),this.activateChildRoutes(E,null,Y.children)}else{const se=Bn(O.snapshot),Xe=se?.get(p._Vd)??null;Y.attachRef=null,Y.route=O,Y.resolver=Xe,Y.injector=se,Y.outlet&&Y.outlet.activateWith(O,Y.injector),this.activateChildRoutes(E,null,Y.children)}}else this.activateChildRoutes(E,null,C)}}class un{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class _n{constructor(E,v){this.component=E,this.route=v}}function zi(_,E,v){const C=_._root;return yi(C,E?E._root:null,v,[C.value])}function es(_,E){const v=Symbol(),C=E.get(_,v);return C===v?"function"!=typeof _||(0,p.Z0I)(_)?E.get(_):_:C}function yi(_,E,v,C,O={canDeactivateChecks:[],canActivateChecks:[]}){const B=Bi(E);return _.children.forEach(Y=>{(function ti(_,E,v,C,O={canDeactivateChecks:[],canActivateChecks:[]}){const B=_.value,Y=E?E.value:null,se=v?v.getContext(_.value.outlet):null;if(Y&&B.routeConfig===Y.routeConfig){const Xe=function _s(_,E,v){if("function"==typeof v)return v(_,E);switch(v){case"pathParamsChange":return!fe(_.url,E.url);case"pathParamsOrQueryParamsChange":return!fe(_.url,E.url)||!Mn(_.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hi(_,E)||!Mn(_.queryParams,E.queryParams);default:return!Hi(_,E)}}(Y,B,B.routeConfig.runGuardsAndResolvers);Xe?O.canActivateChecks.push(new un(C)):(B.data=Y.data,B._resolvedData=Y._resolvedData),yi(_,E,B.component?se?se.children:null:v,C,O),Xe&&se&&se.outlet&&se.outlet.isActivated&&O.canDeactivateChecks.push(new _n(se.outlet.component,Y))}else Y&&Fi(E,se,O),O.canActivateChecks.push(new un(C)),yi(_,null,B.component?se?se.children:null:v,C,O)})(Y,B[Y.value.outlet],v,C.concat([Y.value]),O),delete B[Y.value.outlet]}),Cn(B,(Y,se)=>Fi(Y,v.getContext(se),O)),O}function Fi(_,E,v){const C=Bi(_),O=_.value;Cn(C,(B,Y)=>{Fi(B,O.component?E?E.children.getContext(Y):null:E,v)}),v.canDeactivateChecks.push(new _n(O.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,O))}function Si(_){return"function"==typeof _}function Wi(_){return _ instanceof pe.K||"EmptyError"===_?.name}const Li=Symbol("INITIAL_VALUE");function ts(){return(0,Ce.w)(_=>Be(_.map(E=>E.pipe((0,ut.q)(1),(0,lt.O)(Li)))).pipe((0,Se.U)(E=>{for(const v of E)if(!0!==v){if(v===Li)return Li;if(!1===v||v instanceof ye)return v}return!0}),(0,Pt.h)(E=>E!==Li),(0,ut.q)(1)))}function la(_){return(0,ve.z)((0,Gt.b)(E=>{if(Re(E))throw co(0,E)}),(0,Se.U)(E=>!0===E))}const b={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function L(_,E,v,C,O){const B=M(_,E,v);return B.matched?function Ao(_,E,v,C){const O=E.canMatch;if(!O||0===O.length)return(0,S.of)(!0);const B=O.map(Y=>{const se=es(Y,_);return ln(function Je(_){return _&&Si(_.canMatch)}(se)?se.canMatch(E,v):_.runInContext(()=>se(E,v)))});return(0,S.of)(B).pipe(ts(),la())}(C=vs(E,C),E,v).pipe((0,Se.U)(Y=>!0===Y?B:{...b})):(0,S.of)(B)}function M(_,E,v){if(""===E.path)return"full"===E.pathMatch&&(_.hasChildren()||v.length>0)?{...b}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const O=(E.matcher||bt)(v,_,E);if(!O)return{...b};const B={};Cn(O.posParams,(se,Xe)=>{B[Xe]=se.path});const Y=O.consumed.length>0?{...B,...O.consumed[O.consumed.length-1].parameters}:B;return{matched:!0,consumedSegments:O.consumed,remainingSegments:v.slice(O.consumed.length),parameters:Y,positionalParamSegments:O.posParams??{}}}function $(_,E,v,C,O="corrected"){if(v.length>0&&function it(_,E,v){return v.some(C=>ur(_,E,C)&&Ct(C)!==Ft)}(_,v,C)){const Y=new ee(E,function We(_,E,v,C){const O={};O[Ft]=C,C._sourceSegment=_,C._segmentIndexShift=E.length;for(const B of v)if(""===B.path&&Ct(B)!==Ft){const Y=new ee([],{});Y._sourceSegment=_,Y._segmentIndexShift=E.length,O[Ct(B)]=Y}return O}(_,E,C,new ee(v,_.children)));return Y._sourceSegment=_,Y._segmentIndexShift=E.length,{segmentGroup:Y,slicedSegments:[]}}if(0===v.length&&function Jt(_,E,v){return v.some(C=>ur(_,E,C))}(_,v,C)){const Y=new ee(_.segments,function oe(_,E,v,C,O,B){const Y={};for(const se of C)if(ur(_,v,se)&&!O[Ct(se)]){const Xe=new ee([],{});Xe._sourceSegment=_,Xe._segmentIndexShift="legacy"===B?_.segments.length:E.length,Y[Ct(se)]=Xe}return{...O,...Y}}(_,E,v,C,_.children,O));return Y._sourceSegment=_,Y._segmentIndexShift=E.length,{segmentGroup:Y,slicedSegments:v}}const B=new ee(_.segments,_.children);return B._sourceSegment=_,B._segmentIndexShift=E.length,{segmentGroup:B,slicedSegments:v}}function ur(_,E,v){return(!(_.hasChildren()||E.length>0)||"full"!==v.pathMatch)&&""===v.path}function yr(_,E,v,C){return!!(Ct(_)===C||C!==Ft&&ur(E,v,_))&&("**"===_.path||M(E,_,v).matched)}function gr(_,E,v){return 0===E.length&&!_.children[v]}const Yn=!1;class qr{constructor(E){this.segmentGroup=E||null}}class cr{constructor(E){this.urlTree=E}}function $r(_){return ce(new qr(_))}function Is(_){return ce(new cr(_))}class Yr{constructor(E,v,C,O,B){this.injector=E,this.configLoader=v,this.urlSerializer=C,this.urlTree=O,this.config=B,this.allowRedirects=!0}apply(){const E=$(this.urlTree.root,[],[],this.config).segmentGroup,v=new ee(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,v,Ft).pipe((0,Se.U)(B=>this.createUrlTree(ct(B),this.urlTree.queryParams,this.urlTree.fragment))).pipe(In(B=>{if(B instanceof cr)return this.allowRedirects=!1,this.match(B.urlTree);throw B instanceof qr?this.noMatchError(B):B}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,Ft).pipe((0,Se.U)(O=>this.createUrlTree(ct(O),E.queryParams,E.fragment))).pipe(In(O=>{throw O instanceof qr?this.noMatchError(O):O}))}noMatchError(E){return new p.vHH(4002,Yn)}createUrlTree(E,v,C){const O=en(E);return new ye(O,v,C)}expandSegmentGroup(E,v,C,O){return 0===C.segments.length&&C.hasChildren()?this.expandChildren(E,v,C).pipe((0,Se.U)(B=>new ee([],B))):this.expandSegment(E,C,v,C.segments,O,!0)}expandChildren(E,v,C){const O=[];for(const B of Object.keys(C.children))"primary"===B?O.unshift(B):O.push(B);return(0,U.D)(O).pipe(tt(B=>{const Y=C.children[B],se=Yt(v,B);return this.expandSegmentGroup(E,se,Y,B).pipe((0,Se.U)(Xe=>({segment:Xe,outlet:B})))}),(0,Rn.R)((B,Y)=>(B[Y.outlet]=Y.segment,B),{}),Xt())}expandSegment(E,v,C,O,B,Y){return(0,U.D)(C).pipe(tt(se=>this.expandSegmentAgainstRoute(E,v,C,se,O,B,Y).pipe(In(Ot=>{if(Ot instanceof qr)return(0,S.of)(null);throw Ot}))),(0,Ht.P)(se=>!!se),In((se,Xe)=>{if(Wi(se))return gr(v,O,B)?(0,S.of)(new ee([],{})):$r(v);throw se}))}expandSegmentAgainstRoute(E,v,C,O,B,Y,se){return yr(O,v,B,Y)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(E,v,O,B,Y):se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,v,C,O,B,Y):$r(v):$r(v)}expandSegmentAgainstRouteUsingRedirect(E,v,C,O,B,Y){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,C,O,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(E,v,C,O,B,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,v,C,O){const B=this.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?Is(B):this.lineralizeSegments(C,B).pipe((0,kt.z)(Y=>{const se=new ee(Y,{});return this.expandSegment(E,se,v,Y,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,v,C,O,B,Y){const{matched:se,consumedSegments:Xe,remainingSegments:Ot,positionalParamSegments:Sn}=M(v,O,B);if(!se)return $r(v);const on=this.applyRedirectCommands(Xe,O.redirectTo,Sn);return O.redirectTo.startsWith("/")?Is(on):this.lineralizeSegments(O,on).pipe((0,kt.z)(Hn=>this.expandSegment(E,v,C,Hn.concat(Ot),Y,!1)))}matchSegmentAgainstRoute(E,v,C,O,B){return"**"===C.path?(E=vs(C,E),C.loadChildren?(C._loadedRoutes?(0,S.of)({routes:C._loadedRoutes,injector:C._loadedInjector}):this.configLoader.loadChildren(E,C)).pipe((0,Se.U)(se=>(C._loadedRoutes=se.routes,C._loadedInjector=se.injector,new ee(O,{})))):(0,S.of)(new ee(O,{}))):L(v,C,O,E).pipe((0,Ce.w)(({matched:Y,consumedSegments:se,remainingSegments:Xe})=>Y?this.getChildConfig(E=C._injector??E,C,O).pipe((0,kt.z)(Sn=>{const on=Sn.injector??E,Hn=Sn.routes,{segmentGroup:pi,slicedSegments:Ki}=$(v,se,Xe,Hn),no=new ee(pi.segments,pi.children);if(0===Ki.length&&no.hasChildren())return this.expandChildren(on,Hn,no).pipe((0,Se.U)(Zi=>new ee(se,Zi)));if(0===Hn.length&&0===Ki.length)return(0,S.of)(new ee(se,{}));const gi=Ct(C)===B;return this.expandSegment(on,no,Hn,Ki,gi?Ft:B,!0).pipe((0,Se.U)(Rs=>new ee(se.concat(Rs.segments),Rs.children)))})):$r(v)))}getChildConfig(E,v,C){return v.children?(0,S.of)({routes:v.children,injector:E}):v.loadChildren?void 0!==v._loadedRoutes?(0,S.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function ca(_,E,v,C){const O=E.canLoad;if(void 0===O||0===O.length)return(0,S.of)(!0);const B=O.map(Y=>{const se=es(Y,_);return ln(function R(_){return _&&Si(_.canLoad)}(se)?se.canLoad(E,v):_.runInContext(()=>se(E,v)))});return(0,S.of)(B).pipe(ts(),la())}(E,v,C).pipe((0,kt.z)(O=>O?this.configLoader.loadChildren(E,v).pipe((0,Gt.b)(B=>{v._loadedRoutes=B.routes,v._loadedInjector=B.injector})):function eo(_){return ce(Rr(Yn,3))}())):(0,S.of)({routes:[],injector:E})}lineralizeSegments(E,v){let C=[],O=v.root;for(;;){if(C=C.concat(O.segments),0===O.numberOfChildren)return(0,S.of)(C);if(O.numberOfChildren>1||!O.children[Ft])return ce(new p.vHH(4e3,Yn));O=O.children[Ft]}}applyRedirectCommands(E,v,C){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),E,C)}applyRedirectCreateUrlTree(E,v,C,O){const B=this.createSegmentGroup(E,v.root,C,O);return new ye(B,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(E,v){const C={};return Cn(E,(O,B)=>{if("string"==typeof O&&O.startsWith(":")){const se=O.substring(1);C[B]=v[se]}else C[B]=O}),C}createSegmentGroup(E,v,C,O){const B=this.createSegments(E,v.segments,C,O);let Y={};return Cn(v.children,(se,Xe)=>{Y[Xe]=this.createSegmentGroup(E,se,C,O)}),new ee(B,Y)}createSegments(E,v,C,O){return v.map(B=>B.path.startsWith(":")?this.findPosParam(E,B,O):this.findOrReturn(B,C))}findPosParam(E,v,C){const O=C[v.path.substring(1)];if(!O)throw new p.vHH(4001,Yn);return O}findOrReturn(E,v){let C=0;for(const O of v){if(O.path===E.path)return v.splice(C),O;C++}return E}}class So{}class Zu{constructor(E,v,C,O,B,Y,se,Xe){this.injector=E,this.rootComponentType=v,this.config=C,this.urlTree=O,this.url=B,this.paramsInheritanceStrategy=Y,this.relativeLinkResolution=se,this.urlSerializer=Xe}recognize(){const E=$(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,Ft).pipe((0,Se.U)(v=>{if(null===v)return null;const C=new mi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),O=new Oi(C,v),B=new Pi(this.url,O);return this.inheritParamsAndData(B._root),B}))}inheritParamsAndData(E){const v=E.value,C=Ri(v,this.paramsInheritanceStrategy);v.params=Object.freeze(C.params),v.data=Object.freeze(C.data),E.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(E,v,C,O){return 0===C.segments.length&&C.hasChildren()?this.processChildren(E,v,C):this.processSegment(E,v,C,C.segments,O)}processChildren(E,v,C){return(0,U.D)(Object.keys(C.children)).pipe(tt(O=>{const B=C.children[O],Y=Yt(v,O);return this.processSegmentGroup(E,Y,B,O)}),(0,Rn.R)((O,B)=>O&&B?(O.push(...B),O):null),function Br(_,E=!1){return(0,Z.e)((v,C)=>{let O=0;v.subscribe((0,Ue.x)(C,B=>{const Y=_(B,O++);(Y||E)&&C.next(B),!Y&&C.complete()}))})}(O=>null!==O),(0,qt.d)(null),Xt(),(0,Se.U)(O=>{if(null===O)return null;const B=Na(O);return function jl(_){_.sort((E,v)=>E.value.outlet===Ft?-1:v.value.outlet===Ft?1:E.value.outlet.localeCompare(v.value.outlet))}(B),B}))}processSegment(E,v,C,O,B){return(0,U.D)(v).pipe(tt(Y=>this.processSegmentAgainstRoute(Y._injector??E,Y,C,O,B)),(0,Ht.P)(Y=>!!Y),In(Y=>{if(Wi(Y))return gr(C,O,B)?(0,S.of)([]):(0,S.of)(null);throw Y}))}processSegmentAgainstRoute(E,v,C,O,B){if(v.redirectTo||!yr(v,C,O,B))return(0,S.of)(null);let Y;if("**"===v.path){const se=O.length>0?dr(O).parameters:{},Xe=da(C)+O.length,Ot=new mi(O,se,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xo(v),Ct(v),v.component??v._loadedComponent??null,v,lu(C),Xe,ws(v),Xe);Y=(0,S.of)({snapshot:Ot,consumedSegments:[],remainingSegments:[]})}else Y=L(C,v,O,E).pipe((0,Se.U)(({matched:se,consumedSegments:Xe,remainingSegments:Ot,parameters:Sn})=>{if(!se)return null;const on=da(C)+Xe.length;return{snapshot:new mi(Xe,Sn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xo(v),Ct(v),v.component??v._loadedComponent??null,v,lu(C),on,ws(v),on),consumedSegments:Xe,remainingSegments:Ot}}));return Y.pipe((0,Ce.w)(se=>{if(null===se)return(0,S.of)(null);const{snapshot:Xe,consumedSegments:Ot,remainingSegments:Sn}=se;E=v._injector??E;const on=v._loadedInjector??E,Hn=function Pc(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(v),{segmentGroup:pi,slicedSegments:Ki}=$(C,Ot,Sn,Hn.filter(gi=>void 0===gi.redirectTo),this.relativeLinkResolution);if(0===Ki.length&&pi.hasChildren())return this.processChildren(on,Hn,pi).pipe((0,Se.U)(gi=>null===gi?null:[new Oi(Xe,gi)]));if(0===Hn.length&&0===Ki.length)return(0,S.of)([new Oi(Xe,[])]);const no=Ct(v)===B;return this.processSegment(on,Hn,pi,Ki,no?Ft:B).pipe((0,Se.U)(gi=>null===gi?null:[new Oi(Xe,gi)]))}))}}function qu(_){const E=_.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function Na(_){const E=[],v=new Set;for(const C of _){if(!qu(C)){E.push(C);continue}const O=E.find(B=>C.value.routeConfig===B.value.routeConfig);void 0!==O?(O.children.push(...C.children),v.add(O)):E.push(C)}for(const C of v){const O=Na(C.children);E.push(new Oi(C.value,O))}return E.filter(C=>!v.has(C))}function lu(_){let E=_;for(;E._sourceSegment;)E=E._sourceSegment;return E}function da(_){let E=_,v=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,v+=E._segmentIndexShift??0;return v-1}function xo(_){return _.data||{}}function ws(_){return _.resolve||{}}function sn(_){return"string"==typeof _.title||null===_.title}function tn(_){return(0,Ce.w)(E=>{const v=_(E);return v?(0,U.D)(v).pipe((0,Se.U)(()=>E)):(0,S.of)(E)})}let Hs=(()=>{class _{buildTitle(v){let C,O=v.root;for(;void 0!==O;)C=this.getResolvedTitleForRoute(O)??C,O=O.children.find(B=>B.outlet===Ft);return C}getResolvedTitleForRoute(v){return v.data[wn]}}return _.\u0275fac=function(v){return new(v||_)},_.\u0275prov=p.Yz7({token:_,factory:function(){return(0,p.f3M)(jt)},providedIn:"root"}),_})(),jt=(()=>{class _ extends Hs{constructor(v){super(),this.title=v}updateTitle(v){const C=this.buildTitle(v);void 0!==C&&this.title.setTitle(C)}}return _.\u0275fac=function(v){return new(v||_)(p.LFG(mr.Dx))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class mt{}class Fa extends class fi{shouldDetach(E){return!1}store(E,v){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,v){return E.routeConfig===v.routeConfig}}{}const du=new p.OlP("",{providedIn:"root",factory:()=>({})}),Va=new p.OlP("ROUTES");let Ro=(()=>{class _{constructor(v,C){this.injector=v,this.compiler=C,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,S.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const C=ln(v.loadComponent()).pipe((0,Gt.b)(B=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=B}),Qn(()=>{this.componentLoaders.delete(v)})),O=new _e(C,()=>new ae.x).pipe(Ze());return this.componentLoaders.set(v,O),O}loadChildren(v,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,S.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const B=this.loadModuleFactoryOrRoutes(C.loadChildren).pipe((0,Se.U)(se=>{this.onLoadEndListener&&this.onLoadEndListener(C);let Xe,Ot,Sn=!1;Array.isArray(se)?Ot=se:(Xe=se.create(v).injector,Ot=Tr(Xe.get(Va,[],p.XFs.Self|p.XFs.Optional)));return{routes:Ot.map(gt),injector:Xe}}),Qn(()=>{this.childrenLoaders.delete(C)})),Y=new _e(B,()=>new ae.x).pipe(Ze());return this.childrenLoaders.set(C,Y),Y}loadModuleFactoryOrRoutes(v){return ln(v()).pipe((0,kt.z)(C=>C instanceof p.YKP||Array.isArray(C)?(0,S.of)(C):(0,U.D)(this.compiler.compileModuleAsync(C))))}}return _.\u0275fac=function(v){return new(v||_)(p.LFG(p.zs3),p.LFG(p.Sil))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class ga{}class $l{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,v){return E}}function ma(_){throw _}function hu(_,E,v){return E.parse("/")}const jn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Gr(){const _=(0,p.f3M)(_t),E=(0,p.f3M)(kr),v=(0,p.f3M)(be.Ye),C=(0,p.f3M)(p.zs3),O=(0,p.f3M)(p.Sil),B=(0,p.f3M)(Va,{optional:!0})??[],Y=(0,p.f3M)(du,{optional:!0})??{},se=(0,p.f3M)(jt),Xe=(0,p.f3M)(Hs,{optional:!0}),Ot=(0,p.f3M)(ga,{optional:!0}),Sn=(0,p.f3M)(mt,{optional:!0}),on=new nn(null,_,E,v,C,O,Tr(B));return Ot&&(on.urlHandlingStrategy=Ot),Sn&&(on.routeReuseStrategy=Sn),on.titleStrategy=Xe??se,function No(_,E){_.errorHandler&&(E.errorHandler=_.errorHandler),_.malformedUriErrorHandler&&(E.malformedUriErrorHandler=_.malformedUriErrorHandler),_.onSameUrlNavigation&&(E.onSameUrlNavigation=_.onSameUrlNavigation),_.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=_.paramsInheritanceStrategy),_.relativeLinkResolution&&(E.relativeLinkResolution=_.relativeLinkResolution),_.urlUpdateStrategy&&(E.urlUpdateStrategy=_.urlUpdateStrategy),_.canceledNavigationResolution&&(E.canceledNavigationResolution=_.canceledNavigationResolution)}(Y,on),on}let nn=(()=>{class _{constructor(v,C,O,B,Y,se,Xe){this.rootComponentType=v,this.urlSerializer=C,this.rootContexts=O,this.location=B,this.config=Xe,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ae.x,this.errorHandler=ma,this.malformedUriErrorHandler=hu,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,S.of)(void 0),this.urlHandlingStrategy=new $l,this.routeReuseStrategy=new Fa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Y.get(Ro),this.configLoader.onLoadEndListener=Hn=>this.triggerEvent(new gs(Hn)),this.configLoader.onLoadStartListener=Hn=>this.triggerEvent(new Fs(Hn)),this.ngModule=Y.get(p.h0i),this.console=Y.get(p.c2e);const on=Y.get(p.R0b);this.isNgZoneEnabled=on instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(Xe),this.currentUrlTree=function $t(){return new ye(new ee([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bi(this.currentUrlTree,this.rootComponentType),this.transitions=new ge({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(v){const C=this.events;return v.pipe((0,Pt.h)(O=>0!==O.id),(0,Se.U)(O=>({...O,extractedUrl:this.urlHandlingStrategy.extract(O.rawUrl)})),(0,Ce.w)(O=>{let B=!1,Y=!1;return(0,S.of)(O).pipe((0,Gt.b)(se=>{this.currentNavigation={id:se.id,initialUrl:se.rawUrl,extractedUrl:se.extractedUrl,trigger:se.source,extras:se.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ce.w)(se=>{const Xe=this.browserUrlTree.toString(),Ot=!this.navigated||se.extractedUrl.toString()!==Xe||Xe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ot)&&this.urlHandlingStrategy.shouldProcessUrl(se.rawUrl))return tr(se.source)&&(this.browserUrlTree=se.extractedUrl),(0,S.of)(se).pipe((0,Ce.w)(on=>{const Hn=this.transitions.getValue();return C.next(new li(on.id,this.serializeUrl(on.extractedUrl),on.source,on.restoredState)),Hn!==this.transitions.getValue()?Me.E:Promise.resolve(on)}),function xs(_,E,v,C){return(0,Ce.w)(O=>function Ms(_,E,v,C,O){return new Yr(_,E,v,C,O).apply()}(_,E,v,O.extractedUrl,C).pipe((0,Se.U)(B=>({...O,urlAfterRedirects:B}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Gt.b)(on=>{this.currentNavigation={...this.currentNavigation,finalUrl:on.urlAfterRedirects},O.urlAfterRedirects=on.urlAfterRedirects}),function ha(_,E,v,C,O,B){return(0,kt.z)(Y=>function Ku(_,E,v,C,O,B,Y="emptyOnly",se="legacy"){return new Zu(_,E,v,C,O,Y,se,B).recognize().pipe((0,Ce.w)(Xe=>null===Xe?function Pa(_){return new me.y(E=>E.error(_))}(new So):(0,S.of)(Xe)))}(_,E,v,Y.urlAfterRedirects,C.serialize(Y.urlAfterRedirects),C,O,B).pipe((0,Se.U)(se=>({...Y,targetSnapshot:se}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Gt.b)(on=>{if(O.targetSnapshot=on.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!on.extras.skipLocationChange){const pi=this.urlHandlingStrategy.merge(on.urlAfterRedirects,on.rawUrl);this.setBrowserUrl(pi,on)}this.browserUrlTree=on.urlAfterRedirects}const Hn=new ps(on.id,this.serializeUrl(on.extractedUrl),this.serializeUrl(on.urlAfterRedirects),on.targetSnapshot);C.next(Hn)}));if(Ot&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Hn,extractedUrl:pi,source:Ki,restoredState:no,extras:gi}=se,Wo=new li(Hn,this.serializeUrl(pi),Ki,no);C.next(Wo);const Rs=bi(pi,this.rootComponentType).snapshot;return O={...se,targetSnapshot:Rs,urlAfterRedirects:pi,extras:{...gi,skipLocationChange:!1,replaceUrl:!1}},(0,S.of)(O)}return this.rawUrlTree=se.rawUrl,se.resolve(null),Me.E}),(0,Gt.b)(se=>{const Xe=new Pr(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot);this.triggerEvent(Xe)}),(0,Se.U)(se=>O={...se,guards:zi(se.targetSnapshot,se.currentSnapshot,this.rootContexts)}),function Js(_,E){return(0,kt.z)(v=>{const{targetSnapshot:C,currentSnapshot:O,guards:{canActivateChecks:B,canDeactivateChecks:Y}}=v;return 0===Y.length&&0===B.length?(0,S.of)({...v,guardsResult:!0}):function js(_,E,v,C){return(0,U.D)(_).pipe((0,kt.z)(O=>function To(_,E,v,C,O){const B=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!B||0===B.length)return(0,S.of)(!0);const Y=B.map(se=>{const Xe=Bn(E)??O,Ot=es(se,Xe);return ln(function j(_){return _&&Si(_.canDeactivate)}(Ot)?Ot.canDeactivate(_,E,v,C):Xe.runInContext(()=>Ot(_,E,v,C))).pipe((0,Ht.P)())});return(0,S.of)(Y).pipe(ts())}(O.component,O.route,v,E,C)),(0,Ht.P)(O=>!0!==O,!0))}(Y,C,O,_).pipe((0,kt.z)(se=>se&&function Es(_){return"boolean"==typeof _}(se)?function Xs(_,E,v,C){return(0,U.D)(E).pipe(tt(O=>(0,Fe.z)(function bo(_,E){return null!==_&&E&&E(new Ys(_)),(0,S.of)(!0)}(O.route.parent,C),function $s(_,E){return null!==_&&E&&E(new Ho(_)),(0,S.of)(!0)}(O.route,C),function Go(_,E,v){const C=E[E.length-1],B=E.slice(0,E.length-1).reverse().map(Y=>function Sr(_){const E=_.routeConfig?_.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:_,guards:E}:null}(Y)).filter(Y=>null!==Y).map(Y=>Et(()=>{const se=Y.guards.map(Xe=>{const Ot=Bn(Y.node)??v,Sn=es(Xe,Ot);return ln(function A(_){return _&&Si(_.canActivateChild)}(Sn)?Sn.canActivateChild(C,_):Ot.runInContext(()=>Sn(C,_))).pipe((0,Ht.P)())});return(0,S.of)(se).pipe(ts())}));return(0,S.of)(B).pipe(ts())}(_,O.path,v),function cu(_,E,v){const C=E.routeConfig?E.routeConfig.canActivate:null;if(!C||0===C.length)return(0,S.of)(!0);const O=C.map(B=>Et(()=>{const Y=Bn(E)??v,se=es(B,Y);return ln(function x(_){return _&&Si(_.canActivate)}(se)?se.canActivate(E,_):Y.runInContext(()=>se(E,_))).pipe((0,Ht.P)())}));return(0,S.of)(O).pipe(ts())}(_,O.route,v))),(0,Ht.P)(O=>!0!==O,!0))}(C,B,_,E):(0,S.of)(se)),(0,Se.U)(se=>({...v,guardsResult:se})))})}(this.ngModule.injector,se=>this.triggerEvent(se)),(0,Gt.b)(se=>{if(O.guardsResult=se.guardsResult,Re(se.guardsResult))throw co(0,se.guardsResult);const Xe=new qs(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot,!!se.guardsResult);this.triggerEvent(Xe)}),(0,Pt.h)(se=>!!se.guardsResult||(this.restoreHistory(se),this.cancelNavigationTransition(se,"",3),!1)),tn(se=>{if(se.guards.canActivateChecks.length)return(0,S.of)(se).pipe((0,Gt.b)(Xe=>{const Ot=new Do(Xe.id,this.serializeUrl(Xe.extractedUrl),this.serializeUrl(Xe.urlAfterRedirects),Xe.targetSnapshot);this.triggerEvent(Ot)}),(0,Ce.w)(Xe=>{let Ot=!1;return(0,S.of)(Xe).pipe(function ka(_,E){return(0,kt.z)(v=>{const{targetSnapshot:C,guards:{canActivateChecks:O}}=v;if(!O.length)return(0,S.of)(v);let B=0;return(0,U.D)(O).pipe(tt(Y=>function vt(_,E,v,C){const O=_.routeConfig,B=_._resolve;return void 0!==O?.title&&!sn(O)&&(B[wn]=O.title),function Qr(_,E,v,C){const O=function fa(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===O.length)return(0,S.of)({});const B={};return(0,U.D)(O).pipe((0,kt.z)(Y=>function Oo(_,E,v,C){const O=Bn(E)??C,B=es(_,O);return ln(B.resolve?B.resolve(E,v):O.runInContext(()=>B(E,v)))}(_[Y],E,v,C).pipe((0,Ht.P)(),(0,Gt.b)(se=>{B[Y]=se}))),Dn(1),function sr(_){return(0,Se.U)(()=>_)}(B),In(Y=>Wi(Y)?Me.E:ce(Y)))}(B,_,E,C).pipe((0,Se.U)(Y=>(_._resolvedData=Y,_.data=Ri(_,v).resolve,O&&sn(O)&&(_.data[wn]=O.title),null)))}(Y.route,C,_,E)),(0,Gt.b)(()=>B++),Dn(1),(0,kt.z)(Y=>B===O.length?(0,S.of)(v):Me.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Gt.b)({next:()=>Ot=!0,complete:()=>{Ot||(this.restoreHistory(Xe),this.cancelNavigationTransition(Xe,"",2))}}))}),(0,Gt.b)(Xe=>{const Ot=new Di(Xe.id,this.serializeUrl(Xe.extractedUrl),this.serializeUrl(Xe.urlAfterRedirects),Xe.targetSnapshot);this.triggerEvent(Ot)}))}),tn(se=>{const Xe=Ot=>{const Sn=[];Ot.routeConfig?.loadComponent&&!Ot.routeConfig._loadedComponent&&Sn.push(this.configLoader.loadComponent(Ot.routeConfig).pipe((0,Gt.b)(on=>{Ot.component=on}),(0,Se.U)(()=>{})));for(const on of Ot.children)Sn.push(...Xe(on));return Sn};return Be(Xe(se.targetSnapshot.root)).pipe((0,qt.d)(),(0,ut.q)(1))}),tn(()=>this.afterPreactivation()),(0,Se.U)(se=>{const Xe=function ni(_,E,v){const C=Ti(_,E._root,v?v._root:void 0);return new Co(C,E)}(this.routeReuseStrategy,se.targetSnapshot,se.currentRouterState);return O={...se,targetRouterState:Xe}}),(0,Gt.b)(se=>{this.currentUrlTree=se.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(se.urlAfterRedirects,se.rawUrl),this.routerState=se.targetRouterState,"deferred"===this.urlUpdateStrategy&&(se.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,se),this.browserUrlTree=se.urlAfterRedirects)}),((_,E,v)=>(0,Se.U)(C=>(new ot(E,C.targetRouterState,C.currentRouterState,v).activate(_),C)))(this.rootContexts,this.routeReuseStrategy,se=>this.triggerEvent(se)),(0,Gt.b)({next(){B=!0},complete(){B=!0}}),Qn(()=>{B||Y||this.cancelNavigationTransition(O,"",1),this.currentNavigation?.id===O.id&&(this.currentNavigation=null)}),In(se=>{if(Y=!0,Gi(se)){hr(se)||(this.navigated=!0,this.restoreHistory(O,!0));const Xe=new Or(O.id,this.serializeUrl(O.extractedUrl),se.message,se.cancellationCode);if(C.next(Xe),hr(se)){const Ot=this.urlHandlingStrategy.merge(se.url,this.rawUrlTree),Sn={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tr(O.source)};this.scheduleNavigation(Ot,"imperative",null,Sn,{resolve:O.resolve,reject:O.reject,promise:O.promise})}else O.resolve(!1)}else{this.restoreHistory(O,!0);const Xe=new wi(O.id,this.serializeUrl(O.extractedUrl),se,O.targetSnapshot??void 0);C.next(Xe);try{O.resolve(this.errorHandler(se))}catch(Ot){O.reject(Ot)}}return Me.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next({...this.transitions.value,...v})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const C="popstate"===v.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{const O={replaceUrl:!0},B=v.state?.navigationId?v.state:null;if(B){const se={...B};delete se.navigationId,delete se.\u0275routerPageId,0!==Object.keys(se).length&&(O.state=se)}const Y=this.parseUrl(v.url);this.scheduleNavigation(Y,C,B,O)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){this.config=v.map(gt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,C={}){const{relativeTo:O,queryParams:B,fragment:Y,queryParamsHandling:se,preserveFragment:Xe}=C,Ot=O||this.routerState.root,Sn=Xe?this.currentUrlTree.fragment:Y;let on=null;switch(se){case"merge":on={...this.currentUrlTree.queryParams,...B};break;case"preserve":on=this.currentUrlTree.queryParams;break;default:on=B||null}return null!==on&&(on=this.removeEmptyProps(on)),qn(Ot,this.currentUrlTree,v,on,Sn??null)}navigateByUrl(v,C={skipLocationChange:!1}){const O=Re(v)?v:this.parseUrl(v),B=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(B,"imperative",null,C)}navigate(v,C={skipLocationChange:!1}){return function ya(_){for(let E=0;E<_.length;E++){if(null==_[E])throw new p.vHH(4008,false)}}(v),this.navigateByUrl(this.createUrlTree(v,C),C)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let C;try{C=this.urlSerializer.parse(v)}catch(O){C=this.malformedUriErrorHandler(O,this.urlSerializer,v)}return C}isActive(v,C){let O;if(O=!0===C?{...jn}:!1===C?{...lo}:C,Re(v))return Jn(this.currentUrlTree,v,O);const B=this.parseUrl(v);return Jn(this.currentUrlTree,B,O)}removeEmptyProps(v){return Object.keys(v).reduce((C,O)=>{const B=v[O];return null!=B&&(C[O]=B),C},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new Ui(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,C,O,B,Y){if(this.disposed)return Promise.resolve(!1);let se,Xe,Ot;Y?(se=Y.resolve,Xe=Y.reject,Ot=Y.promise):Ot=new Promise((Hn,pi)=>{se=Hn,Xe=pi});const Sn=++this.navigationId;let on;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(O=this.location.getState()),on=O&&O.\u0275routerPageId?O.\u0275routerPageId:B.replaceUrl||B.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):on=0,this.setTransition({id:Sn,targetPageId:on,source:C,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:B,resolve:se,reject:Xe,promise:Ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ot.catch(Hn=>Promise.reject(Hn))}setBrowserUrl(v,C){const O=this.urlSerializer.serialize(v),B={...C.extras.state,...this.generateNgRouterState(C.id,C.targetPageId)};this.location.isCurrentPathEqualTo(O)||C.extras.replaceUrl?this.location.replaceState(O,"",B):this.location.go(O,"",B)}restoreHistory(v,C=!1){if("computed"===this.canceledNavigationResolution){const O=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===O?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===O&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(O)}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,C,O){const B=new Or(v.id,this.serializeUrl(v.extractedUrl),C,O);this.triggerEvent(B),v.resolve(!1)}generateNgRouterState(v,C){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:C}:{navigationId:v}}}return _.\u0275fac=function(v){p.$Z()},_.\u0275prov=p.Yz7({token:_,factory:function(){return Gr()},providedIn:"root"}),_})();function tr(_){return"imperative"!==_}let Ua=(()=>{class _{constructor(v,C,O,B,Y){this.router=v,this.route=C,this.tabIndexAttribute=O,this.renderer=B,this.el=Y,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ae.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(v){this._preserveFragment=(0,p.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,p.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,p.D6c)(v)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(v){if(null!=this.tabIndexAttribute)return;const C=this.renderer,O=this.el.nativeElement;null!==v?C.setAttribute(O,"tabindex",v):C.removeAttribute(O,"tabindex")}ngOnChanges(v){this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _.\u0275fac=function(v){return new(v||_)(p.Y36(nn),p.Y36(Zr),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},_.\u0275dir=p.lG2({type:_,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,C){1&v&&p.NdJ("click",function(){return C.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),_})(),Lr=(()=>{class _{constructor(v,C,O){this.router=v,this.route=C,this.locationStrategy=O,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ae.x,this.subscription=v.events.subscribe(B=>{B instanceof Ui&&this.updateTargetUrlAndHref()})}set preserveFragment(v){this._preserveFragment=(0,p.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,p.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,p.D6c)(v)}get replaceUrl(){return this._replaceUrl}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,C,O,B,Y){return!!(0!==v||C||O||B||Y||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return _.\u0275fac=function(v){return new(v||_)(p.Y36(nn),p.Y36(Zr),p.Y36(be.S$))},_.\u0275dir=p.lG2({type:_,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,C){1&v&&p.NdJ("click",function(B){return C.onClick(B.button,B.ctrlKey,B.shiftKey,B.altKey,B.metaKey)}),2&v&&p.uIk("target",C.target)("href",C.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),_})();class ho{}let fo=(()=>{class _{constructor(v,C,O,B,Y){this.router=v,this.injector=O,this.preloadingStrategy=B,this.loader=Y}setUpPreloading(){this.subscription=this.router.events.pipe((0,Pt.h)(v=>v instanceof Ui),tt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,C){const O=[];for(const B of C){B.providers&&!B._injector&&(B._injector=(0,p.MMx)(B.providers,v,`Route: ${B.path}`));const Y=B._injector??v,se=B._loadedInjector??Y;B.loadChildren&&!B._loadedRoutes&&void 0===B.canLoad||B.loadComponent&&!B._loadedComponent?O.push(this.preloadConfig(Y,B)):(B.children||B._loadedRoutes)&&O.push(this.processRoutes(se,B.children??B._loadedRoutes))}return(0,U.D)(O).pipe((0,Ln.J)())}preloadConfig(v,C){return this.preloadingStrategy.preload(C,()=>{let O;O=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(v,C):(0,S.of)(null);const B=O.pipe((0,kt.z)(Y=>null===Y?(0,S.of)(void 0):(C._loadedRoutes=Y.routes,C._loadedInjector=Y.injector,this.processRoutes(Y.injector??v,Y.routes))));if(C.loadComponent&&!C._loadedComponent){const Y=this.loader.loadComponent(C);return(0,U.D)([B,Y]).pipe((0,Ln.J)())}return B})}}return _.\u0275fac=function(v){return new(v||_)(p.LFG(nn),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(ho),p.LFG(Ro))},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Nc=new p.OlP("");let po=(()=>{class _{constructor(v,C,O={}){this.router=v,this.viewportScroller=C,this.options=O,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},O.scrollPositionRestoration=O.scrollPositionRestoration||"disabled",O.anchorScrolling=O.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof li?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof Ui&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof ss&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,C){this.router.triggerEvent(new ss(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return _.\u0275fac=function(v){p.$Z()},_.\u0275prov=p.Yz7({token:_,factory:_.\u0275fac}),_})();function go(_,E){return{\u0275kind:_,\u0275providers:E}}function Qu(_){return[{provide:Va,multi:!0,useValue:_}]}function Fo(){const _=(0,p.f3M)(p.zs3);return E=>{const v=_.get(p.z2F);if(E!==v.components[0])return;const C=_.get(nn),O=_.get(Ju);1===_.get(ze)&&C.initialNavigation(),_.get(Lo,null,p.XFs.Optional)?.setUpPreloading(),_.get(Nc,null,p.XFs.Optional)?.init(),C.resetRootComponentType(v.componentTypes[0]),O.next(),O.complete()}}const Ju=new p.OlP("",{factory:()=>new ae.x}),ze=new p.OlP("",{providedIn:"root",factory:()=>1});const Lo=new p.OlP("");function ls(_){return go(0,[{provide:Lo,useExisting:fo},{provide:ho,useExisting:_}])}const ds=new p.OlP("ROUTER_FORROOT_GUARD"),kc=[be.Ye,{provide:_t,useClass:Lt},{provide:nn,useFactory:Gr},kr,{provide:Zr,useFactory:function Ds(_){return _.routerState.root},deps:[nn]},Ro];function va(){return new p.PXZ("Router",nn)}let si=(()=>{class _{constructor(v){}static forRoot(v,C){return{ngModule:_,providers:[kc,[],Qu(v),{provide:ds,useFactory:zr,deps:[[nn,new p.FiY,new p.tp0]]},{provide:du,useValue:C||{}},C?.useHash?{provide:be.S$,useClass:be.Do}:{provide:be.S$,useClass:be.b0},{provide:Nc,useFactory:()=>{const _=(0,p.f3M)(nn),E=(0,p.f3M)(be.EM),v=(0,p.f3M)(du);return v.scrollOffset&&E.setOffset(v.scrollOffset),new po(_,E,v)}},C?.preloadingStrategy?ls(C.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:va},C?.initialNavigation?mo(C):[],[{provide:oi,useFactory:Fo},{provide:p.tb,multi:!0,useExisting:oi}]]}}static forChild(v){return{ngModule:_,providers:[Qu(v)]}}}return _.\u0275fac=function(v){return new(v||_)(p.LFG(ds,8))},_.\u0275mod=p.oAB({type:_}),_.\u0275inj=p.cJS({imports:[Vs]}),_})();function zr(_){return"guarded"}function mo(_){return["disabled"===_.initialNavigation?go(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const E=(0,p.f3M)(nn);return()=>{E.setUpLocationChangeListener()}}},{provide:ze,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?go(2,[{provide:ze,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:E=>{const v=E.get(be.V_,Promise.resolve());let C=!1;return()=>v.then(()=>new Promise(B=>{const Y=E.get(nn),se=E.get(Ju);(function O(B){E.get(nn).events.pipe((0,Pt.h)(se=>se instanceof Ui||se instanceof Or||se instanceof wi),(0,Se.U)(se=>se instanceof Ui||se instanceof Or&&(0===se.code||1===se.code)&&null),(0,Pt.h)(se=>null!==se),(0,ut.q)(1)).subscribe(()=>{B()})})(()=>{B(!0),C=!0}),Y.afterPreactivation=()=>(B(!0),C||se.closed?(0,S.of)(void 0):se),Y.initialNavigation()}))}}]).\u0275providers:[]]}const oi=new p.OlP("")},579:(Mt,ke,P)=>{P.d(ke,{EI:()=>le,Gb:()=>Ar,Iv:()=>ee,Kz:()=>st,Xd:()=>Jn,lT:()=>ye,xP:()=>ie});var p=P(5861),U=P(9681),S=P(1877),ae=P(2090),ge=P(4859);P(2833);const me="analytics",we="firebase_id",re="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",he="https://www.googletagmanager.com/gtag/js",Ue=new S.Yd("@firebase/analytics");function Ne(Pe){return Promise.all(Pe.map(Ge=>Ge.catch(et=>et)))}function Be(Pe,Ge){const et=document.createElement("script");et.src=`${he}?l=${Pe}&id=${Ge}`,et.async=!0,document.head.appendChild(et)}function X(Pe,Ge,et,pt,Dt,zt){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,p.Z)(function*(Pe,Ge,et,pt,Dt,zt){const Zt=pt[Dt];try{if(Zt)yield Ge[Zt];else{const te=(yield Ne(et)).find(J=>J.measurementId===Dt);te&&(yield Ge[te.appId])}}catch(dn){Ue.error(dn)}Pe("config",Dt,zt)})).apply(this,arguments)}function Nt(Pe,Ge,et,pt,Dt){return Et.apply(this,arguments)}function Et(){return(Et=(0,p.Z)(function*(Pe,Ge,et,pt,Dt){try{let zt=[];if(Dt&&Dt.send_to){let Zt=Dt.send_to;Array.isArray(Zt)||(Zt=[Zt]);const dn=yield Ne(et);for(const te of Zt){const J=dn.find(xe=>xe.measurementId===te),q=J&&Ge[J.appId];if(!q){zt=[];break}zt.push(q)}}0===zt.length&&(zt=Object.values(Ge)),yield Promise.all(zt),Pe("event",pt,Dt||{})}catch(zt){Ue.error(zt)}})).apply(this,arguments)}function ce(){const Pe=window.document.getElementsByTagName("script");for(const Ge of Object.values(Pe))if(Ge.src&&Ge.src.includes(he))return Ge;return null}const je=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),be=new class _e{constructor(Ge={},et=1e3){this.throttleMetadata=Ge,this.intervalMillis=et}getThrottleMetadata(Ge){return this.throttleMetadata[Ge]}setThrottleMetadata(Ge,et){this.throttleMetadata[Ge]=et}deleteThrottleMetadata(Ge){delete this.throttleMetadata[Ge]}};function Se(Pe){return new Headers({Accept:"application/json","x-goog-api-key":Pe})}function Ce(Pe){return ut.apply(this,arguments)}function ut(){return(ut=(0,p.Z)(function*(Pe){var Ge;const{appId:et,apiKey:pt}=Pe,Dt={method:"GET",headers:Se(pt)},zt=re.replace("{app-id}",et),Zt=yield fetch(zt,Dt);if(200!==Zt.status&&304!==Zt.status){let dn="";try{const te=yield Zt.json();null!==(Ge=te.error)&&void 0!==Ge&&Ge.message&&(dn=te.error.message)}catch{}throw je.create("config-fetch-failed",{httpStatus:Zt.status,responseMessage:dn})}return Zt.json()})).apply(this,arguments)}function lt(Pe){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,p.Z)(function*(Pe,Ge=be,et){const{appId:pt,apiKey:Dt,measurementId:zt}=Pe.options;if(!pt)throw je.create("no-app-id");if(!Dt){if(zt)return{measurementId:zt,appId:pt};throw je.create("no-api-key")}const Zt=Ge.getThrottleMetadata(pt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dn=new In;return setTimeout((0,p.Z)(function*(){dn.abort()}),void 0!==et?et:6e4),kt({appId:pt,apiKey:Dt,measurementId:zt},Zt,dn,Ge)})).apply(this,arguments)}function kt(Pe,Ge,et){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,p.Z)(function*(Pe,{throttleEndTimeMillis:Ge,backoffCount:et},pt,Dt=be){var zt,Zt;const{appId:dn,measurementId:te}=Pe;try{yield tt(pt,Ge)}catch(J){if(te)return Ue.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${te} provided in the "measurementId" field in the local Firebase config. [${null===(zt=J)||void 0===zt?void 0:zt.message}]`),{appId:dn,measurementId:te};throw J}try{const J=yield Ce(Pe);return Dt.deleteThrottleMetadata(dn),J}catch(J){const q=J;if(!Gt(q)){if(Dt.deleteThrottleMetadata(dn),te)return Ue.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${te} provided in the "measurementId" field in the local Firebase config. [${q?.message}]`),{appId:dn,measurementId:te};throw J}const xe=503===Number(null===(Zt=q?.customData)||void 0===Zt?void 0:Zt.httpStatus)?(0,ae.$s)(et,Dt.intervalMillis,30):(0,ae.$s)(et,Dt.intervalMillis),Ke={throttleEndTimeMillis:Date.now()+xe,backoffCount:et+1};return Dt.setThrottleMetadata(dn,Ke),Ue.debug(`Calling attemptFetch again in ${xe} millis`),kt(Pe,Ke,pt,Dt)}})).apply(this,arguments)}function tt(Pe,Ge){return new Promise((et,pt)=>{const Dt=Math.max(Ge-Date.now(),0),zt=setTimeout(et,Dt);Pe.addEventListener(()=>{clearTimeout(zt),pt(je.create("fetch-throttle",{throttleEndTimeMillis:Ge}))})})}function Gt(Pe){if(!(Pe instanceof ae.ZR&&Pe.customData))return!1;const Ge=Number(Pe.customData.httpStatus);return 429===Ge||500===Ge||503===Ge||504===Ge}class In{constructor(){this.listeners=[]}addEventListener(Ge){this.listeners.push(Ge)}abort(){this.listeners.forEach(Ge=>Ge())}}let Rn,wn;function fr(){return(fr=(0,p.Z)(function*(Pe,Ge,et,pt,Dt){if(Dt&&Dt.global)Pe("event",et,pt);else{const zt=yield Ge;Pe("event",et,Object.assign(Object.assign({},pt),{send_to:zt}))}})).apply(this,arguments)}function Xt(){return(Xt=(0,p.Z)(function*(Pe,Ge,et,pt){if(pt&&pt.global)return Pe("set",{screen_name:et}),Promise.resolve();Pe("config",yield Ge,{update:!0,screen_name:et})})).apply(this,arguments)}function sr(){return(sr=(0,p.Z)(function*(Pe,Ge,et,pt){if(pt&&pt.global)return Pe("set",{user_id:et}),Promise.resolve();Pe("config",yield Ge,{update:!0,user_id:et})})).apply(this,arguments)}function Ln(){return(Ln=(0,p.Z)(function*(Pe,Ge,et,pt){if(pt&&pt.global){const Dt={};for(const zt of Object.keys(et))Dt[`user_properties.${zt}`]=et[zt];return Pe("set",Dt),Promise.resolve()}Pe("config",yield Ge,{update:!0,user_properties:et})})).apply(this,arguments)}function Ft(){return(Ft=(0,p.Z)(function*(Pe,Ge){const et=yield Pe;window[`ga-disable-${et}`]=!Ge})).apply(this,arguments)}function $n(Pe){wn=Pe}function ir(Pe){Rn=Pe}function bt(){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,p.Z)(function*(){var Pe;if(!(0,ae.hl)())return Ue.warn(je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(Ge){return Ue.warn(je.create("indexeddb-unavailable",{errorInfo:null===(Pe=Ge)||void 0===Pe?void 0:Pe.toString()}).message),!1}return!0})).apply(this,arguments)}function Vn(){return(Vn=(0,p.Z)(function*(Pe,Ge,et,pt,Dt,zt,Zt){var dn;const te=lt(Pe);te.then(St=>{et[St.measurementId]=St.appId,Pe.options.measurementId&&St.measurementId!==Pe.options.measurementId&&Ue.warn(`The measurement ID in the local Firebase config (${Pe.options.measurementId}) does not match the measurement ID fetched from the server (${St.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(St=>Ue.error(St)),Ge.push(te);const J=bt().then(St=>{if(St)return pt.getId()}),[q,xe]=yield Promise.all([te,J]);ce()||Be(zt,q.measurementId),wn&&(Dt("consent","default",wn),$n(void 0)),Dt("js",new Date);const Ke=null!==(dn=Zt?.config)&&void 0!==dn?dn:{};return Ke.origin="firebase",Ke.update=!0,null!=xe&&(Ke[we]=xe),Dt("config",q.measurementId,Ke),Rn&&(Dt("set",Rn),ir(void 0)),q.measurementId})).apply(this,arguments)}class Tr{constructor(Ge){this.app=Ge}_delete(){return delete dr[this.app.options.appId],Promise.resolve()}}let dr={},or=[];const Cn={};let $t,yn,ln="dataLayer",Ut="gtag",xn=!1;function Jn(Pe){if(xn)throw je.create("already-initialized");Pe.dataLayerName&&(ln=Pe.dataLayerName),Pe.gtagName&&(Ut=Pe.gtagName)}function Qt(Pe,Ge,et){!function _r(){const Pe=[];if((0,ae.ru)()&&Pe.push("This is a browser extension environment."),(0,ae.zI)()||Pe.push("Cookies are not available."),Pe.length>0){const Ge=Pe.map((pt,Dt)=>`(${Dt+1}) ${pt}`).join(" "),et=je.create("invalid-analytics-context",{errorInfo:Ge});Ue.warn(et.message)}}();const pt=Pe.options.appId;if(!pt)throw je.create("no-app-id");if(!Pe.options.apiKey){if(!Pe.options.measurementId)throw je.create("no-api-key");Ue.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${Pe.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=dr[pt])throw je.create("already-exists",{id:pt});if(!xn){!function wt(Pe){let Ge=[];Array.isArray(window[Pe])?Ge=window[Pe]:window[Pe]=Ge}(ln);const{wrappedGtag:zt,gtagCore:Zt}=function Le(Pe,Ge,et,pt,Dt){let zt=function(...Zt){window[pt].push(arguments)};return window[Dt]&&"function"==typeof window[Dt]&&(zt=window[Dt]),window[Dt]=function ve(Pe,Ge,et,pt){function zt(){return(zt=(0,p.Z)(function*(Zt,dn,te){try{"event"===Zt?yield Nt(Pe,Ge,et,dn,te):"config"===Zt?yield X(Pe,Ge,et,pt,dn,te):"consent"===Zt?Pe("consent","update",te):Pe("set",dn)}catch(J){Ue.error(J)}})).apply(this,arguments)}return function Dt(Zt,dn,te){return zt.apply(this,arguments)}}(zt,Pe,Ge,et),{gtagCore:zt,wrappedGtag:window[Dt]}}(dr,or,Cn,ln,Ut);yn=zt,$t=Zt,xn=!0}return dr[pt]=function Mn(Pe,Ge,et,pt,Dt,zt,Zt){return Vn.apply(this,arguments)}(Pe,or,Cn,Ge,$t,ln,et),new Tr(Pe)}function Ar(){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,p.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}function ye(Pe,Ge,et){Pe=(0,ae.m9)(Pe),function qt(Pe,Ge,et,pt){return Xt.apply(this,arguments)}(yn,dr[Pe.app.options.appId],Ge,et).catch(pt=>Ue.error(pt))}function ee(Pe,Ge,et){Pe=(0,ae.m9)(Pe),function Br(Pe,Ge,et,pt){return sr.apply(this,arguments)}(yn,dr[Pe.app.options.appId],Ge,et).catch(pt=>Ue.error(pt))}function ie(Pe,Ge,et){Pe=(0,ae.m9)(Pe),function Qn(Pe,Ge,et,pt){return Ln.apply(this,arguments)}(yn,dr[Pe.app.options.appId],Ge,et).catch(pt=>Ue.error(pt))}function le(Pe,Ge){Pe=(0,ae.m9)(Pe),function mr(Pe,Ge){return Ft.apply(this,arguments)}(dr[Pe.app.options.appId],Ge).catch(et=>Ue.error(et))}function st(Pe,Ge,et,pt){Pe=(0,ae.m9)(Pe),function Dn(Pe,Ge,et,pt,Dt){return fr.apply(this,arguments)}(yn,dr[Pe.app.options.appId],Ge,et,pt).catch(Dt=>Ue.error(Dt))}const Lt="@firebase/analytics";!function mn(){(0,U._registerComponent)(new ge.wA(me,(Ge,{options:et})=>Qt(Ge.getProvider("app").getImmediate(),Ge.getProvider("installations-internal").getImmediate(),et),"PUBLIC")),(0,U._registerComponent)(new ge.wA("analytics-internal",function Pe(Ge){try{const et=Ge.getProvider(me).getImmediate();return{logEvent:(pt,Dt,zt)=>st(et,pt,Dt,zt)}}catch(et){throw je.create("interop-component-reg-failed",{reason:et})}},"PRIVATE")),(0,U.registerVersion)(Lt,"0.8.0"),(0,U.registerVersion)(Lt,"0.8.0","esm2017")}()},3942:(Mt,ke,P)=>{P.d(ke,{Z:()=>Be});var p=P(2090),U=P(4859),S=P(9681),ae=P(1877);class ge{constructor(X,Fe){this._delegate=X,this.firebase=Fe,(0,S._addComponent)(X,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=X.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this._delegate.automaticDataCollectionEnabled=X}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(X=>{this._delegate.checkDestroyed(),X()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,S.deleteApp)(this._delegate)))}_getService(X,Fe=S._DEFAULT_ENTRY_NAME){var Nt;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(X);return!Et.isInitialized()&&"EXPLICIT"===(null===(Nt=Et.getComponent())||void 0===Nt?void 0:Nt.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:Fe})}_removeServiceInstance(X,Fe=S._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(X).clearInstance(Fe)}_addComponent(X){(0,S._addComponent)(this._delegate,X)}_addOrOverwriteComponent(X){(0,S._addOrOverwriteComponent)(this._delegate,X)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function Ee(){const wt=function we(wt){const X={},Fe={__esModule:!0,initializeApp:function ve(je,Z={}){const Ze=S.initializeApp(je,Z);if((0,p.r3)(X,Ze.name))return X[Ze.name];const _e=new wt(Ze,Fe);return X[Ze.name]=_e,_e},app:Et,registerVersion:S.registerVersion,setLogLevel:S.setLogLevel,onLog:S.onLog,apps:null,SDK_VERSION:S.SDK_VERSION,INTERNAL:{registerComponent:function ce(je){const Z=je.name,Ze=Z.replace("-compat","");if(S._registerComponent(je)&&"PUBLIC"===je.type){const _e=(be=Et())=>{if("function"!=typeof be[Ze])throw me.create("invalid-app-argument",{appName:Z});return be[Ze]()};void 0!==je.serviceProps&&(0,p.ZB)(_e,je.serviceProps),Fe[Ze]=_e,wt.prototype[Ze]=function(...be){return this._getService.bind(this,Z).apply(this,je.multipleInstances?be:[])}}return"PUBLIC"===je.type?Fe[Ze]:null},removeApp:function Nt(je){delete X[je]},useAsService:function Me(je,Z){return"serverAuth"===Z?null:Z},modularAPIs:S}};function Et(je){if(!(0,p.r3)(X,je=je||S._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:je});return X[je]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function Le(){return Object.keys(X).map(je=>X[je])}}),Et.App=wt,Fe}(ge);return wt.INTERNAL=Object.assign(Object.assign({},wt.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function X(Fe){(0,p.ZB)(wt,Fe)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),wt}(),re=new ae.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const wt=self.firebase.SDK_VERSION;wt&&wt.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=ne;!function Ne(wt){(0,S.registerVersion)("@firebase/app-compat","0.1.34",wt)}()},9681:(Mt,ke,P)=>{P.r(ke),P.d(ke,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>mr,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>Rn,_addOrOverwriteComponent:()=>Dn,_apps:()=>Gt,_clearComponents:()=>Br,_components:()=>In,_getProvider:()=>qt,_registerComponent:()=>fr,_removeServiceInstance:()=>Xt,deleteApp:()=>ir,getApp:()=>wn,getApps:()=>$n,initializeApp:()=>Ft,onLog:()=>Mn,registerVersion:()=>Zn,setLogLevel:()=>Vn});var p=P(5861),U=P(4859),S=P(1877),ae=P(2090),ge=P(8766);class pe{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(fe=>{if(function me(ie){return"VERSION"===ie.getComponent()?.type}(fe)){const st=fe.getImmediate();return`${st.library}/${st.version}`}return null}).filter(fe=>fe).join(" ")}}const we="@firebase/app",ne=new S.Yd("@firebase/app"),Ht="[DEFAULT]",tt={[we]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Gt=new Map,In=new Map;function Rn(ie,le){try{ie.container.addComponent(le)}catch(fe){ne.debug(`Component ${le.name} failed to register with FirebaseApp ${ie.name}`,fe)}}function Dn(ie,le){ie.container.addOrOverwriteComponent(le)}function fr(ie){const le=ie.name;if(In.has(le))return ne.debug(`There were multiple attempts to register component ${le}.`),!1;In.set(le,ie);for(const fe of Gt.values())Rn(fe,ie);return!0}function qt(ie,le){const fe=ie.container.getProvider("heartbeat").getImmediate({optional:!0});return fe&&fe.triggerHeartbeat(),ie.container.getProvider(le)}function Xt(ie,le,fe=Ht){qt(ie,le).clearInstance(fe)}function Br(){In.clear()}const Qn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ln{constructor(le,fe,st){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},fe),this._name=fe.name,this._automaticDataCollectionEnabled=fe.automaticDataCollectionEnabled,this._container=st,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}const mr="9.10.0";function Ft(ie,le={}){"object"!=typeof le&&(le={name:le});const fe=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},le),st=fe.name;if("string"!=typeof st||!st)throw Qn.create("bad-app-name",{appName:String(st)});const _t=Gt.get(st);if(_t){if((0,ae.vZ)(ie,_t.options)&&(0,ae.vZ)(fe,_t.config))return _t;throw Qn.create("duplicate-app",{appName:st})}const Lt=new U.H0(st);for(const mn of In.values())Lt.addComponent(mn);const Nn=new Ln(ie,fe,Lt);return Gt.set(st,Nn),Nn}function wn(ie=Ht){const le=Gt.get(ie);if(!le)throw Qn.create("no-app",{appName:ie});return le}function $n(){return Array.from(Gt.values())}function ir(ie){return bt.apply(this,arguments)}function bt(){return(bt=(0,p.Z)(function*(ie){const le=ie.name;Gt.has(le)&&(Gt.delete(le),yield Promise.all(ie.container.getProviders().map(fe=>fe.delete())),ie.isDeleted=!0)})).apply(this,arguments)}function Zn(ie,le,fe){var st;let _t=null!==(st=tt[ie])&&void 0!==st?st:ie;fe&&(_t+=`-${fe}`);const Lt=_t.match(/\s|\//),Nn=le.match(/\s|\//);if(Lt||Nn){const mn=[`Unable to register library "${_t}" with version "${le}":`];return Lt&&mn.push(`library name "${_t}" contains illegal characters (whitespace or "/")`),Lt&&Nn&&mn.push("and"),Nn&&mn.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void ne.warn(mn.join(" "))}fr(new U.wA(`${_t}-version`,()=>({library:_t,version:le}),"VERSION"))}function Mn(ie,le){if(null!==ie&&"function"!=typeof ie)throw Qn.create("invalid-log-argument");(0,S.Am)(ie,le)}function Vn(ie){(0,S.Ub)(ie)}const or="firebase-heartbeat-store";let Cn=null;function ln(){return Cn||(Cn=(0,ge.X3)("firebase-heartbeat-database",1,{upgrade:(ie,le)=>{0===le&&ie.createObjectStore(or)}}).catch(ie=>{throw Qn.create("idb-open",{originalErrorMessage:ie.message})})),Cn}function $t(){return($t=(0,p.Z)(function*(ie){var le;try{return(yield ln()).transaction(or).objectStore(or).get(Jn(ie))}catch(fe){if(fe instanceof ae.ZR)ne.warn(fe.message);else{const st=Qn.create("idb-get",{originalErrorMessage:null===(le=fe)||void 0===le?void 0:le.message});ne.warn(st.message)}}})).apply(this,arguments)}function yn(ie,le){return xn.apply(this,arguments)}function xn(){return(xn=(0,p.Z)(function*(ie,le){var fe;try{const _t=(yield ln()).transaction(or,"readwrite");return yield _t.objectStore(or).put(le,Jn(ie)),_t.done}catch(st){if(st instanceof ae.ZR)ne.warn(st.message);else{const _t=Qn.create("idb-set",{originalErrorMessage:null===(fe=st)||void 0===fe?void 0:fe.message});ne.warn(_t.message)}}})).apply(this,arguments)}function Jn(ie){return`${ie.name}!${ie.options.appId}`}class jr{constructor(le){this.container=le,this._heartbeatsCache=null;const fe=this.container.getProvider("app").getImmediate();this._storage=new Pn(fe),this._heartbeatsCachePromise=this._storage.read().then(st=>(this._heartbeatsCache=st,st))}triggerHeartbeat(){var le=this;return(0,p.Z)(function*(){const st=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_t=An();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==_t&&!le._heartbeatsCache.heartbeats.some(Lt=>Lt.date===_t))return le._heartbeatsCache.heartbeats.push({date:_t,agent:st}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(Lt=>{const Nn=new Date(Lt.date).valueOf();return Date.now()-Nn<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,p.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const fe=An(),{heartbeatsToSend:st,unsentEntries:_t}=function Ar(ie,le=1024){const fe=[];let st=ie.slice();for(const _t of ie){const Lt=fe.find(Nn=>Nn.agent===_t.agent);if(Lt){if(Lt.dates.push(_t.date),ye(fe)>le){Lt.dates.pop();break}}else if(fe.push({agent:_t.agent,dates:[_t.date]}),ye(fe)>le){fe.pop();break}st=st.slice(1)}return{heartbeatsToSend:fe,unsentEntries:st}}(le._heartbeatsCache.heartbeats),Lt=(0,ae.L)(JSON.stringify({version:2,heartbeats:st}));return le._heartbeatsCache.lastSentHeartbeatDate=fe,_t.length>0?(le._heartbeatsCache.heartbeats=_t,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),Lt})()}}function An(){return(new Date).toISOString().substring(0,10)}class Pn{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,p.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function Ut(ie){return $t.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var fe=this;return(0,p.Z)(function*(){var st;if(yield fe._canUseIndexedDBPromise){const Lt=yield fe.read();return yn(fe.app,{lastSentHeartbeatDate:null!==(st=le.lastSentHeartbeatDate)&&void 0!==st?st:Lt.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var fe=this;return(0,p.Z)(function*(){var st;if(yield fe._canUseIndexedDBPromise){const Lt=yield fe.read();return yn(fe.app,{lastSentHeartbeatDate:null!==(st=le.lastSentHeartbeatDate)&&void 0!==st?st:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...le.heartbeats]})}})()}}function ye(ie){return(0,ae.L)(JSON.stringify({version:2,heartbeats:ie})).length}!function ee(ie){fr(new U.wA("platform-logger",le=>new pe(le),"PRIVATE")),fr(new U.wA("heartbeat",le=>new jr(le),"PRIVATE")),Zn(we,"0.7.33",ie),Zn(we,"0.7.33","esm2017"),Zn("fire-js","")}("")},4859:(Mt,ke,P)=>{P.d(ke,{H0:()=>we,wA:()=>S});var p=P(5861),U=P(2090);class S{constructor(ne,re,he){this.name=ne,this.instanceFactory=re,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const ae="[DEFAULT]";class ge{constructor(ne,re){this.name=ne,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const re=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(re)){const he=new U.BH;if(this.instancesDeferred.set(re,he),this.isInitialized(re)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:re});Ue&&he.resolve(Ue)}catch{}}return this.instancesDeferred.get(re).promise}getImmediate(ne){var re;const he=this.normalizeInstanceIdentifier(ne?.identifier),Ue=null!==(re=ne?.optional)&&void 0!==re&&re;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(Ne){if(Ue)return null;throw Ne}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function me(Ee){return"EAGER"===Ee.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[re,he]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(re);try{const Ne=this.getOrInitializeService({instanceIdentifier:Ue});he.resolve(Ne)}catch{}}}}clearInstance(ne=ae){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,p.Z)(function*(){const re=Array.from(ne.instances.values());yield Promise.all([...re.filter(he=>"INTERNAL"in he).map(he=>he.INTERNAL.delete()),...re.filter(he=>"_delete"in he).map(he=>he._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=ae){return this.instances.has(ne)}getOptions(ne=ae){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:re={}}=ne,he=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(he))throw Error(`${this.name}(${he}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:he,options:re});for(const[Ne,Be]of this.instancesDeferred.entries())he===this.normalizeInstanceIdentifier(Ne)&&Be.resolve(Ue);return Ue}onInit(ne,re){var he;const Ue=this.normalizeInstanceIdentifier(re),Ne=null!==(he=this.onInitCallbacks.get(Ue))&&void 0!==he?he:new Set;Ne.add(ne),this.onInitCallbacks.set(Ue,Ne);const Be=this.instances.get(Ue);return Be&&ne(Be,Ue),()=>{Ne.delete(ne)}}invokeOnInitCallbacks(ne,re){const he=this.onInitCallbacks.get(re);if(he)for(const Ue of he)try{Ue(ne,re)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:re={}}){let he=this.instances.get(ne);if(!he&&this.component&&(he=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=ne,Ee===ae?void 0:Ee),options:re}),this.instances.set(ne,he),this.instancesOptions.set(ne,re),this.invokeOnInitCallbacks(he,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,he)}catch{}var Ee;return he||null}normalizeInstanceIdentifier(ne=ae){return this.component?this.component.multipleInstances?ne:ae:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const re=this.getProvider(ne.name);if(re.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);re.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const re=new ge(ne,this);return this.providers.set(ne,re),re}getProviders(){return Array.from(this.providers.values())}}},2833:(Mt,ke,P)=>{var p=P(5861),U=P(9681),S=P(4859),ae=P(2090),ge=P(8766);const pe="@firebase/installations",me="0.5.12",Ee=`w:${me}`,ne="FIS_v2",wt=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function X(de){return de instanceof ae.ZR&&de.code.includes("request-failed")}function Fe({projectId:de}){return`https://firebaseinstallations.googleapis.com/v1/projects/${de}/installations`}function Nt(de){return{token:de.token,requestStatus:2,expiresIn:Z(de.expiresIn),creationTime:Date.now()}}function Et(de,Re){return ve.apply(this,arguments)}function ve(){return(ve=(0,p.Z)(function*(de,Re){const Tt=(yield Re.json()).error;return wt.create("request-failed",{requestName:de,serverCode:Tt.code,serverMessage:Tt.message,serverStatus:Tt.status})})).apply(this,arguments)}function Le({apiKey:de}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":de})}function ce(de,{refreshToken:Re}){const rt=Le(de);return rt.append("Authorization",function Ze(de){return`${ne} ${de}`}(Re)),rt}function Me(de){return je.apply(this,arguments)}function je(){return(je=(0,p.Z)(function*(de){const Re=yield de();return Re.status>=500&&Re.status<600?de():Re})).apply(this,arguments)}function Z(de){return Number(de.replace("s","000"))}function _e(de,Re){return be.apply(this,arguments)}function be(){return(be=(0,p.Z)(function*({appConfig:de,heartbeatServiceProvider:Re},{fid:rt}){const Tt=Fe(de),Bt=Le(de),pn=Re.getImmediate({optional:!0});if(pn){const On=yield pn.getHeartbeatsHeader();On&&Bt.append("x-firebase-client",On)}const En={method:"POST",headers:Bt,body:JSON.stringify({fid:rt,authVersion:ne,appId:de.appId,sdkVersion:Ee})},pr=yield Me(()=>fetch(Tt,En));if(pr.ok){const On=yield pr.json();return{fid:On.fid||rt,registrationStatus:2,refreshToken:On.refreshToken,authToken:Nt(On.authToken)}}throw yield Et("Create Installation",pr)})).apply(this,arguments)}function Se(de){return new Promise(Re=>{setTimeout(Re,de)})}const ut=/^[cdef][\w-]{21}$/;function Pt(){try{const de=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(de),de[0]=112+de[0]%16;const rt=function kt(de){return function Ce(de){return btoa(String.fromCharCode(...de)).replace(/\+/g,"-").replace(/\//g,"_")}(de).substr(0,22)}(de);return ut.test(rt)?rt:""}catch{return""}}function Ht(de){return`${de.appName}!${de.appId}`}const tt=new Map;function Gt(de,Re){const rt=Ht(de);Dn(rt,Re),function fr(de,Re){const rt=function Xt(){return!qt&&"BroadcastChannel"in self&&(qt=new BroadcastChannel("[Firebase] FID Change"),qt.onmessage=de=>{Dn(de.data.key,de.data.fid)}),qt}();rt&&rt.postMessage({key:de,fid:Re}),function Br(){0===tt.size&&qt&&(qt.close(),qt=null)}()}(rt,Re)}function Dn(de,Re){const rt=tt.get(de);if(rt)for(const Tt of rt)Tt(Re)}let qt=null;const Ln="firebase-installations-store";let mr=null;function Ft(){return mr||(mr=(0,ge.X3)("firebase-installations-database",1,{upgrade:(de,Re)=>{0===Re&&de.createObjectStore(Ln)}})),mr}function wn(de,Re){return $n.apply(this,arguments)}function $n(){return($n=(0,p.Z)(function*(de,Re){const rt=Ht(de),Bt=(yield Ft()).transaction(Ln,"readwrite"),pn=Bt.objectStore(Ln),qn=yield pn.get(rt);return yield pn.put(Re,rt),yield Bt.done,(!qn||qn.fid!==Re.fid)&&Gt(de,Re.fid),Re})).apply(this,arguments)}function ir(de){return bt.apply(this,arguments)}function bt(){return(bt=(0,p.Z)(function*(de){const Re=Ht(de),Tt=(yield Ft()).transaction(Ln,"readwrite");yield Tt.objectStore(Ln).delete(Re),yield Tt.done})).apply(this,arguments)}function Zn(de,Re){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,p.Z)(function*(de,Re){const rt=Ht(de),Bt=(yield Ft()).transaction(Ln,"readwrite"),pn=Bt.objectStore(Ln),qn=yield pn.get(rt),En=Re(qn);return void 0===En?yield pn.delete(rt):yield pn.put(En,rt),yield Bt.done,En&&(!qn||qn.fid!==En.fid)&&Gt(de,En.fid),En})).apply(this,arguments)}function Vn(de){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,p.Z)(function*(de){let Re;const rt=yield Zn(de.appConfig,Tt=>{const Bt=dr(Tt),pn=or(de,Bt);return Re=pn.registrationPromise,pn.installationEntry});return""===rt.fid?{installationEntry:yield Re}:{installationEntry:rt,registrationPromise:Re}})).apply(this,arguments)}function dr(de){return xn(de||{fid:Pt(),registrationStatus:0})}function or(de,Re){if(0===Re.registrationStatus){if(!navigator.onLine)return{installationEntry:Re,registrationPromise:Promise.reject(wt.create("app-offline"))};const rt={fid:Re.fid,registrationStatus:1,registrationTime:Date.now()},Tt=function Cn(de,Re){return ln.apply(this,arguments)}(de,rt);return{installationEntry:rt,registrationPromise:Tt}}return 1===Re.registrationStatus?{installationEntry:Re,registrationPromise:Ut(de)}:{installationEntry:Re}}function ln(){return(ln=(0,p.Z)(function*(de,Re){try{const rt=yield _e(de,Re);return wn(de.appConfig,rt)}catch(rt){throw X(rt)&&409===rt.customData.serverCode?yield ir(de.appConfig):yield wn(de.appConfig,{fid:Re.fid,registrationStatus:0}),rt}})).apply(this,arguments)}function Ut(de){return $t.apply(this,arguments)}function $t(){return($t=(0,p.Z)(function*(de){let Re=yield yn(de.appConfig);for(;1===Re.registrationStatus;)yield Se(100),Re=yield yn(de.appConfig);if(0===Re.registrationStatus){const{installationEntry:rt,registrationPromise:Tt}=yield Vn(de);return Tt||rt}return Re})).apply(this,arguments)}function yn(de){return Zn(de,Re=>{if(!Re)throw wt.create("installation-not-found");return xn(Re)})}function xn(de){return function Jn(de){return 1===de.registrationStatus&&de.registrationTime+1e4<Date.now()}(de)?{fid:de.fid,registrationStatus:0}:de}function _r(de,Re){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,p.Z)(function*({appConfig:de,heartbeatServiceProvider:Re},rt){const Tt=jr(de,rt),Bt=ce(de,rt),pn=Re.getImmediate({optional:!0});if(pn){const On=yield pn.getHeartbeatsHeader();On&&Bt.append("x-firebase-client",On)}const En={method:"POST",headers:Bt,body:JSON.stringify({installation:{sdkVersion:Ee,appId:de.appId}})},pr=yield Me(()=>fetch(Tt,En));if(pr.ok)return Nt(yield pr.json());throw yield Et("Generate Auth Token",pr)})).apply(this,arguments)}function jr(de,{fid:Re}){return`${Fe(de)}/${Re}/authTokens:generate`}function An(de){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,p.Z)(function*(de,Re=!1){let rt;const Tt=yield Zn(de.appConfig,pn=>{if(!fe(pn))throw wt.create("not-registered");const qn=pn.authToken;if(!Re&&st(qn))return pn;if(1===qn.requestStatus)return rt=Pn(de,Re),pn;{if(!navigator.onLine)throw wt.create("app-offline");const En=Lt(pn);return rt=ie(de,En),En}});return rt?yield rt:Tt.authToken})).apply(this,arguments)}function Pn(de,Re){return ye.apply(this,arguments)}function ye(){return(ye=(0,p.Z)(function*(de,Re){let rt=yield ee(de.appConfig);for(;1===rt.authToken.requestStatus;)yield Se(100),rt=yield ee(de.appConfig);const Tt=rt.authToken;return 0===Tt.requestStatus?An(de,Re):Tt})).apply(this,arguments)}function ee(de){return Zn(de,Re=>{if(!fe(Re))throw wt.create("not-registered");return function Nn(de){return 1===de.requestStatus&&de.requestTime+1e4<Date.now()}(Re.authToken)?Object.assign(Object.assign({},Re),{authToken:{requestStatus:0}}):Re})}function ie(de,Re){return le.apply(this,arguments)}function le(){return(le=(0,p.Z)(function*(de,Re){try{const rt=yield _r(de,Re),Tt=Object.assign(Object.assign({},Re),{authToken:rt});return yield wn(de.appConfig,Tt),rt}catch(rt){if(!X(rt)||401!==rt.customData.serverCode&&404!==rt.customData.serverCode){const Tt=Object.assign(Object.assign({},Re),{authToken:{requestStatus:0}});yield wn(de.appConfig,Tt)}else yield ir(de.appConfig);throw rt}})).apply(this,arguments)}function fe(de){return void 0!==de&&2===de.registrationStatus}function st(de){return 2===de.requestStatus&&!function _t(de){const Re=Date.now();return Re<de.creationTime||de.creationTime+de.expiresIn<Re+36e5}(de)}function Lt(de){const Re={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},de),{authToken:Re})}function Pe(){return(Pe=(0,p.Z)(function*(de){const Re=de,{installationEntry:rt,registrationPromise:Tt}=yield Vn(Re);return Tt?Tt.catch(console.error):An(Re).catch(console.error),rt.fid})).apply(this,arguments)}function et(){return(et=(0,p.Z)(function*(de,Re=!1){const rt=de;return yield pt(rt),(yield An(rt,Re)).token})).apply(this,arguments)}function pt(de){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,p.Z)(function*(de){const{registrationPromise:Re}=yield Vn(de);Re&&(yield Re)})).apply(this,arguments)}function St(de){return wt.create("missing-app-config-values",{valueName:de})}const hn="installations",dt=de=>{const Re=de.getProvider("app").getImmediate(),rt=function Ke(de){if(!de||!de.options)throw St("App Configuration");if(!de.name)throw St("App Name");const Re=["projectId","apiKey","appId"];for(const rt of Re)if(!de.options[rt])throw St(rt);return{appName:de.name,projectId:de.options.projectId,apiKey:de.options.apiKey,appId:de.options.appId}}(Re);return{app:Re,appConfig:rt,heartbeatServiceProvider:(0,U._getProvider)(Re,"heartbeat"),_delete:()=>Promise.resolve()}},en=de=>{const Re=de.getProvider("app").getImmediate(),rt=(0,U._getProvider)(Re,hn).getImmediate();return{getId:()=>function mn(de){return Pe.apply(this,arguments)}(rt),getToken:Bt=>function Ge(de){return et.apply(this,arguments)}(rt,Bt)}};(function ct(){(0,U._registerComponent)(new S.wA(hn,dt,"PUBLIC")),(0,U._registerComponent)(new S.wA("installations-internal",en,"PRIVATE"))})(),(0,U.registerVersion)(pe,me),(0,U.registerVersion)(pe,me,"esm2017")},1877:(Mt,ke,P)=>{P.d(ke,{Am:()=>Ee,Ub:()=>we,Yd:()=>me,in:()=>U});const p=[];var U=(()=>{return(ne=U||(U={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",U;var ne})();const S={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},ae=U.INFO,ge={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},pe=(ne,re,...he)=>{if(re<ne.logLevel)return;const Ue=(new Date).toISOString(),Ne=ge[re];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[Ne](`[${Ue}]  ${ne.name}:`,...he)};class me{constructor(re){this.name=re,this._logLevel=ae,this._logHandler=pe,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in U))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?S[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...re),this._logHandler(this,U.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...re),this._logHandler(this,U.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,U.INFO,...re),this._logHandler(this,U.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,U.WARN,...re),this._logHandler(this,U.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...re),this._logHandler(this,U.ERROR,...re)}}function we(ne){p.forEach(re=>{re.setLogLevel(ne)})}function Ee(ne,re){for(const he of p){let Ue=null;re&&re.level&&(Ue=S[re.level]),he.userLogHandler=null===ne?null:(Ne,Be,...wt)=>{const X=wt.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch{return null}}).filter(Fe=>Fe).join(" ");Be>=(Ue??Ne.logLevel)&&ne({level:U[Be].toLowerCase(),message:X,args:wt,type:Ne.name})}}}},8766:(Mt,ke,P)=>{P.d(ke,{Lj:()=>ve,X3:()=>Et});var p=P(5861);let S,ae;const me=new WeakMap,we=new WeakMap,Ee=new WeakMap,ne=new WeakMap,re=new WeakMap;let Ne={get(Z,Ze,_e){if(Z instanceof IDBTransaction){if("done"===Ze)return we.get(Z);if("objectStoreNames"===Ze)return Z.objectStoreNames||Ee.get(Z);if("store"===Ze)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return Fe(Z[Ze])},set:(Z,Ze,_e)=>(Z[Ze]=_e,!0),has:(Z,Ze)=>Z instanceof IDBTransaction&&("done"===Ze||"store"===Ze)||Ze in Z};function X(Z){return"function"==typeof Z?function wt(Z){return Z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Z)?function(...Ze){return Z.apply(Nt(this),Ze),Fe(me.get(this))}:function(...Ze){return Fe(Z.apply(Nt(this),Ze))}:function(Ze,..._e){const be=Z.call(Nt(this),Ze,..._e);return Ee.set(be,Ze.sort?Ze.sort():[Ze]),Fe(be)}}(Z):(Z instanceof IDBTransaction&&function Ue(Z){if(we.has(Z))return;const Ze=new Promise((_e,be)=>{const Se=()=>{Z.removeEventListener("complete",Ce),Z.removeEventListener("error",ut),Z.removeEventListener("abort",ut)},Ce=()=>{_e(),Se()},ut=()=>{be(Z.error||new DOMException("AbortError","AbortError")),Se()};Z.addEventListener("complete",Ce),Z.addEventListener("error",ut),Z.addEventListener("abort",ut)});we.set(Z,Ze)}(Z),((Z,Ze)=>Ze.some(_e=>Z instanceof _e))(Z,function ge(){return S||(S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Z,Ne):Z)}function Fe(Z){if(Z instanceof IDBRequest)return function he(Z){const Ze=new Promise((_e,be)=>{const Se=()=>{Z.removeEventListener("success",Ce),Z.removeEventListener("error",ut)},Ce=()=>{_e(Fe(Z.result)),Se()},ut=()=>{be(Z.error),Se()};Z.addEventListener("success",Ce),Z.addEventListener("error",ut)});return Ze.then(_e=>{_e instanceof IDBCursor&&me.set(_e,Z)}).catch(()=>{}),re.set(Ze,Z),Ze}(Z);if(ne.has(Z))return ne.get(Z);const Ze=X(Z);return Ze!==Z&&(ne.set(Z,Ze),re.set(Ze,Z)),Ze}const Nt=Z=>re.get(Z);function Et(Z,Ze,{blocked:_e,upgrade:be,blocking:Se,terminated:Ce}={}){const ut=indexedDB.open(Z,Ze),lt=Fe(ut);return be&&ut.addEventListener("upgradeneeded",Pt=>{be(Fe(ut.result),Pt.oldVersion,Pt.newVersion,Fe(ut.transaction))}),_e&&ut.addEventListener("blocked",()=>_e()),lt.then(Pt=>{Ce&&Pt.addEventListener("close",()=>Ce()),Se&&Pt.addEventListener("versionchange",()=>Se())}).catch(()=>{}),lt}function ve(Z,{blocked:Ze}={}){const _e=indexedDB.deleteDatabase(Z);return Ze&&_e.addEventListener("blocked",()=>Ze()),Fe(_e).then(()=>{})}const Le=["get","getKey","getAll","getAllKeys","count"],ce=["put","add","delete","clear"],Me=new Map;function je(Z,Ze){if(!(Z instanceof IDBDatabase)||Ze in Z||"string"!=typeof Ze)return;if(Me.get(Ze))return Me.get(Ze);const _e=Ze.replace(/FromIndex$/,""),be=Ze!==_e,Se=ce.includes(_e);if(!(_e in(be?IDBIndex:IDBObjectStore).prototype)||!Se&&!Le.includes(_e))return;const Ce=function(){var ut=(0,p.Z)(function*(lt,...Pt){const kt=this.transaction(lt,Se?"readwrite":"readonly");let Ht=kt.store;return be&&(Ht=Ht.index(Pt.shift())),(yield Promise.all([Ht[_e](...Pt),Se&&kt.done]))[0]});return function(Pt){return ut.apply(this,arguments)}}();return Me.set(Ze,Ce),Ce}!function Be(Z){Ne=Z(Ne)}(Z=>({...Z,get:(Ze,_e,be)=>je(Ze,_e)||Z.get(Ze,_e,be),has:(Ze,_e)=>!!je(Ze,_e)||Z.has(Ze,_e)}))},5861:(Mt,ke,P)=>{function p(S,ae,ge,pe,me,we,Ee){try{var ne=S[we](Ee),re=ne.value}catch(he){return void ge(he)}ne.done?ae(re):Promise.resolve(re).then(pe,me)}function U(S){return function(){var ae=this,ge=arguments;return new Promise(function(pe,me){var we=S.apply(ae,ge);function Ee(re){p(we,pe,me,Ee,ne,"next",re)}function ne(re){p(we,pe,me,Ee,ne,"throw",re)}Ee(void 0)})}}P.d(ke,{Z:()=>U})}},Mt=>{Mt(Mt.s=9519)}]);